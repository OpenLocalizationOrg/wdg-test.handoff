{"nodes":[{"content":"Deny log on as a service (Windows 10)","pos":[11,48]},{"content":"Describes the best practices, location, values, policy management, and security considerations for the Deny log on as a service security policy setting.","pos":[62,214]},{"content":"Deny log on as a service","pos":[370,394]},{"content":"Applies to","pos":[398,408]},{"content":"Windows 10","pos":[415,425]},{"pos":[427,583],"content":"Describes the best practices, location, values, policy management, and security considerations for the <bpt id=\"p1\">**</bpt>Deny log on as a service<ept id=\"p1\">**</ept> security policy setting."},{"content":"Reference","pos":[588,597]},{"content":"This policy setting determines which users are prevented from logging on to the service applications on a device.","pos":[599,712]},{"content":"A service is an application type that runs in the system background without a user interface.","pos":[714,807]},{"content":"It provides core operating system features, such as web serving, event logging, file serving, printing, cryptography, and error reporting.","pos":[808,946]},{"content":"Constant: SeDenyServiceLogonRight","pos":[948,981]},{"content":"Possible values","pos":[987,1002]},{"content":"User-defined list of accounts","pos":[1008,1037]},{"content":"Not defined","pos":[1042,1053]},{"content":"Best practices","pos":[1059,1073]},{"content":"When you assign this user right, thoroughly test that the effect is what you intended.","pos":[1079,1165]},{"content":"Within a domain, modify this setting on the applicable Group Policy Object (GPO).","pos":[1170,1251]},{"content":"Location","pos":[1257,1265]},{"content":"Computer Configuration<ph id=\"ph1\">\\\\</ph>Windows Settings<ph id=\"ph2\">\\\\</ph>Security Settings<ph id=\"ph3\">\\\\</ph>Local Policies<ph id=\"ph4\">\\\\</ph>User Rights Assignment","pos":[1267,1366]},{"content":"Default values","pos":[1372,1386]},{"content":"The following table lists the actual and effective default policy values for the most recent supported versions of Windows.","pos":[1388,1511]},{"content":"Default values are also listed on the policy’s property page.","pos":[1512,1573]},{"content":"Server type or GPO","pos":[1577,1595]},{"content":"Default value","pos":[1598,1611]},{"content":"Default Domain Policy","pos":[1626,1647]},{"content":"Not defined","pos":[1650,1661]},{"content":"Default Domain Controller Policy","pos":[1666,1698]},{"content":"Not defined","pos":[1701,1712]},{"content":"Stand-Alone Server Default Settings","pos":[1717,1752]},{"content":"Not defined","pos":[1755,1766]},{"content":"Domain Controller Effective Default Settings","pos":[1772,1816]},{"content":"Not defined","pos":[1819,1830]},{"content":"Member Server Effective Default Settings","pos":[1836,1876]},{"content":"Not defined","pos":[1879,1890]},{"content":"Client Computer Effective Default Settings","pos":[1896,1938]},{"content":"Not defined","pos":[1941,1952]},{"content":"Policy management","pos":[1961,1978]},{"content":"This section describes features and tools available to help you manage this policy.","pos":[1980,2063]},{"content":"A restart of the computer is not required for this policy setting to be effective.","pos":[2065,2147]},{"content":"Any change to the user rights assignment for an account becomes effective the next time the owner of the account logs on.","pos":[2149,2270]},{"content":"Group Policy","pos":[2276,2288]},{"content":"On a domain-joined device, including the domain controller, this policy can be overwritten by a domain policy, which will prevent you from modifying the local policy setting.","pos":[2290,2464]},{"pos":[2466,2553],"content":"This policy setting might conflict with and negate the <bpt id=\"p1\">**</bpt>Log on as a service<ept id=\"p1\">**</ept> setting."},{"content":"Settings are applied in the following order through a Group Policy Object (GPO), which will overwrite settings on the local computer at the next Group Policy update:","pos":[2555,2720]},{"content":"Local policy settings","pos":[2726,2747]},{"content":"Site policy settings","pos":[2752,2772]},{"content":"Domain policy settings","pos":[2777,2799]},{"content":"OU policy settings","pos":[2804,2822]},{"content":"When a local setting is greyed out, it indicates that a GPO currently controls that setting.","pos":[2824,2916]},{"content":"Security considerations","pos":[2921,2944]},{"content":"This section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.","pos":[2946,3140]},{"content":"Vulnerability","pos":[3146,3159]},{"content":"Accounts that can log on to a service application could be used to configure and start new unauthorized services, such as a keylogger or other malware.","pos":[3161,3312]},{"content":"The benefit of the specified countermeasure is somewhat reduced by the fact that only users with administrative rights can install and configure services, and an attacker who has already attained that level of access could configure the service to run by using the System account.","pos":[3313,3594]},{"content":"Countermeasure","pos":[3600,3614]},{"content":"We recommend that you not assign the <bpt id=\"p1\">**</bpt>Deny log on as a service<ept id=\"p1\">**</ept> user right to any accounts.","pos":[3616,3709]},{"content":"This is the default configuration.","pos":[3710,3744]},{"content":"Organizations that are extremely concerned about security might assign this user right to groups and accounts when they are certain that they will never need to log on to a service application.","pos":[3745,3938]},{"content":"Potential impact","pos":[3944,3960]},{"pos":[3962,4112],"content":"If you assign the <bpt id=\"p1\">**</bpt>Deny log on as a service<ept id=\"p1\">**</ept> user right to specific accounts, services may not start and a denial-of-service condition could result."},{"content":"Related topics","pos":[4117,4131]},{"content":"User Rights Assignment","pos":[4136,4158]}],"content":"---\ntitle: Deny log on as a service (Windows 10)\ndescription: Describes the best practices, location, values, policy management, and security considerations for the Deny log on as a service security policy setting.\nms.assetid: f1114964-df86-4278-9b11-e35c66949794\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Deny log on as a service\n\n**Applies to**\n-   Windows 10\n\nDescribes the best practices, location, values, policy management, and security considerations for the **Deny log on as a service** security policy setting.\n\n## Reference\n\nThis policy setting determines which users are prevented from logging on to the service applications on a device.\n\nA service is an application type that runs in the system background without a user interface. It provides core operating system features, such as web serving, event logging, file serving, printing, cryptography, and error reporting.\n\nConstant: SeDenyServiceLogonRight\n\n### Possible values\n\n-   User-defined list of accounts\n-   Not defined\n\n### Best practices\n\n1.  When you assign this user right, thoroughly test that the effect is what you intended.\n2.  Within a domain, modify this setting on the applicable Group Policy Object (GPO).\n\n### Location\n\nComputer Configuration\\\\Windows Settings\\\\Security Settings\\\\Local Policies\\\\User Rights Assignment\n\n### Default values\n\nThe following table lists the actual and effective default policy values for the most recent supported versions of Windows. Default values are also listed on the policy’s property page.\n\n| Server type or GPO | Default value |\n| - | - |\n| Default Domain Policy | Not defined| \n| Default Domain Controller Policy | Not defined| \n| Stand-Alone Server Default Settings | Not defined | \n| Domain Controller Effective Default Settings | Not defined | \n| Member Server Effective Default Settings | Not defined | \n| Client Computer Effective Default Settings | Not defined | \n \n## Policy management\n\nThis section describes features and tools available to help you manage this policy.\n\nA restart of the computer is not required for this policy setting to be effective.\n\nAny change to the user rights assignment for an account becomes effective the next time the owner of the account logs on.\n\n### Group Policy\n\nOn a domain-joined device, including the domain controller, this policy can be overwritten by a domain policy, which will prevent you from modifying the local policy setting.\n\nThis policy setting might conflict with and negate the **Log on as a service** setting.\n\nSettings are applied in the following order through a Group Policy Object (GPO), which will overwrite settings on the local computer at the next Group Policy update:\n\n1.  Local policy settings\n2.  Site policy settings\n3.  Domain policy settings\n4.  OU policy settings\n\nWhen a local setting is greyed out, it indicates that a GPO currently controls that setting.\n\n## Security considerations\n\nThis section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.\n\n### Vulnerability\n\nAccounts that can log on to a service application could be used to configure and start new unauthorized services, such as a keylogger or other malware. The benefit of the specified countermeasure is somewhat reduced by the fact that only users with administrative rights can install and configure \nservices, and an attacker who has already attained that level of access could configure the service to run by using the System account.\n\n### Countermeasure\n\nWe recommend that you not assign the **Deny log on as a service** user right to any accounts. This is the default configuration. Organizations that are extremely concerned about security might assign this user right to groups and accounts when they are certain that they will never need to log on to a service application.\n\n### Potential impact\n\nIf you assign the **Deny log on as a service** user right to specific accounts, services may not start and a denial-of-service condition could result.\n\n## Related topics\n\n- [User Rights Assignment](user-rights-assignment.md)\n"}