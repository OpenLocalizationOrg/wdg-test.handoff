{"nodes":[{"content":"Test and update an AppLocker policy (Windows 10)","pos":[11,59]},{"content":"This topic discusses the steps required to test an AppLocker policy prior to deployment.","pos":[73,161]},{"content":"Test and update an AppLocker policy","pos":[317,352]},{"content":"Applies to","pos":[356,366]},{"content":"Windows 10","pos":[373,383]},{"content":"This topic discusses the steps required to test an AppLocker policy prior to deployment.","pos":[385,473]},{"content":"You should test each set of rules to ensure that the rules perform as intended.","pos":[475,554]},{"content":"If you use Group Policy to manage AppLocker policies, complete the following steps for each Group Policy Object (GPO) where you have created AppLocker rules.","pos":[555,712]},{"content":"Because AppLocker rules are inherited from linked GPOs, you should deploy all of the rules for simultaneous testing in all of your test GPOs.","pos":[713,854]},{"content":"Step 1: Enable the Audit only enforcement setting","pos":[859,908]},{"content":"By using the <bpt id=\"p1\">**</bpt>Audit only<ept id=\"p1\">**</ept> enforcement setting, you can ensure that the AppLocker rules that you have created are properly configured for your organization.","pos":[910,1067]},{"content":"This setting can be enabled on the <bpt id=\"p1\">**</bpt>Enforcement<ept id=\"p1\">**</ept> tab of the <bpt id=\"p2\">**</bpt>AppLocker Properties<ept id=\"p2\">**</ept> dialog box.","pos":[1068,1166]},{"content":"For the procedure to do this, see <bpt id=\"p1\">[</bpt>Configure an AppLocker policy for audit only<ept id=\"p1\">](configure-an-applocker-policy-for-audit-only.md)</ept>.","pos":[1167,1297]},{"content":"Step 2: Configure the Application Identity service to start automatically","pos":[1302,1375]},{"content":"Because AppLocker uses the Application Identity service to verify the attributes of a file, you must configure it to start automatically in any one GPO that applies AppLocker rules.","pos":[1377,1558]},{"content":"For the procedure to do this, see <bpt id=\"p1\">[</bpt>Configure the Application Identity Service<ept id=\"p1\">](configure-the-application-identity-service.md)</ept>.","pos":[1559,1685]},{"content":"For AppLocker policies that are not managed by a GPO, you must ensure that the service is running on each PC in order for the policies to be applied.","pos":[1686,1835]},{"content":"Step 3: Test the policy","pos":[1840,1863]},{"content":"Test the AppLocker policy to determine if your rule collection needs to be modified.","pos":[1865,1949]},{"content":"Because you have created AppLocker rules, enabled the Application Identity service, and enabled the <bpt id=\"p1\">**</bpt>Audit only<ept id=\"p1\">**</ept> enforcement setting, the AppLocker policy should be present on all client PC that are configured to receive your AppLocker policy.","pos":[1950,2195]},{"content":"The <bpt id=\"p1\">**</bpt>Test-AppLockerPolicy<ept id=\"p1\">**</ept> Windows PowerShell cmdlet can be used to determine whether any of the rules in your rule collection will be blocked on your reference PCs.","pos":[2197,2364]},{"content":"For the procedure to do this, see <bpt id=\"p1\">[</bpt>Test an AppLocker policy by using Test-AppLockerPolicy<ept id=\"p1\">](test-an-applocker-policy-by-using-test-applockerpolicy.md)</ept>.","pos":[2365,2515]},{"content":"Step 4: Analyze AppLocker events","pos":[2520,2552]},{"pos":[2553,2697],"content":"You can either manually analyze AppLocker events or use the <bpt id=\"p1\">**</bpt>Get-AppLockerFileInformation<ept id=\"p1\">**</ept> Windows PowerShell cmdlet to automate the analysis."},{"content":"To manually analyze AppLocker events","pos":[2701,2737]},{"content":"You can view the events either in Event Viewer or a text editor and then sort those events to perform an analysis, such as looking for patterns in application usage events, access frequencies, or access by user groups.","pos":[2741,2959]},{"content":"If you have not configured an event subscription, then you will have to review the logs on a sampling of computers in your organization.","pos":[2960,3096]},{"content":"For more information about using Event Viewer, see <bpt id=\"p1\">[</bpt>Monitor application usage with AppLocker<ept id=\"p1\">](monitor-application-usage-with-applocker.md)</ept>.","pos":[3097,3236]},{"content":"To analyze AppLocker events by using Get-AppLockerFileInformation","pos":[3240,3305]},{"content":"You can use the <bpt id=\"p1\">**</bpt>Get-AppLockerFileInformation<ept id=\"p1\">**</ept> Windows PowerShell cmdlet to analyze AppLocker events from a remote computer.","pos":[3309,3435]},{"content":"If an app is being blocked and should be allowed, you can use the AppLocker cmdlets to help troubleshoot the problem.","pos":[3436,3553]},{"content":"For both event subscriptions and local events, you can use the <bpt id=\"p1\">**</bpt>Get-AppLockerFileInformation<ept id=\"p1\">**</ept> cmdlet to determine which files have been blocked or would have been blocked (if you are using the <bpt id=\"p2\">**</bpt>Audit only<ept id=\"p2\">**</ept> enforcement mode) and how many times the event has occurred for each file.","pos":[3555,3839]},{"content":"For the procedure to do this, see <bpt id=\"p1\">[</bpt>Monitor Application Usage with AppLocker<ept id=\"p1\">](monitor-application-usage-with-applocker.md)</ept>.","pos":[3840,3962]},{"content":"After using <bpt id=\"p1\">**</bpt>Get-AppLockerFileInformation<ept id=\"p1\">**</ept> to determine how many times that a file would have been blocked from running, you should review your rule list to determine whether a new rule should be created for the blocked file or whether an existing rule is too strictly defined.","pos":[3964,4243]},{"content":"Ensure that you check which GPO is currently preventing the file from running.","pos":[4244,4322]},{"content":"To determine this, you can use the Group Policy Results Wizard to view rule names.","pos":[4323,4405]},{"content":"Step 5: Modify the AppLocker policy","pos":[4410,4445]},{"content":"After you have identified which rules need to be edited or added to the policy, you can use the Group Policy Management Console to modify the AppLocker rules in the relevant GPOs.","pos":[4447,4626]},{"content":"For AppLocker policies that are not managed by a GPO, you can use the Local Security Policy snap-in (secpol.msc).","pos":[4627,4740]},{"content":"For info how to modify an AppLocker policy, see, <bpt id=\"p1\">[</bpt>Edit an AppLocker policy<ept id=\"p1\">](edit-an-applocker-policy.md)</ept>.","pos":[4741,4846]},{"content":"Step 6: Repeat policy testing, analysis, and policy modification","pos":[4851,4915]},{"content":"Repeat the previous steps 3–5 until all the rules perform as intended before applying enforcement.","pos":[4917,5015]},{"content":"Additional resources","pos":[5020,5040]},{"pos":[5046,5149],"content":"For steps to perform other AppLocker policy tasks, see <bpt id=\"p1\">[</bpt>Administer AppLocker<ept id=\"p1\">](administer-applocker.md)</ept>."}],"content":"---\ntitle: Test and update an AppLocker policy (Windows 10)\ndescription: This topic discusses the steps required to test an AppLocker policy prior to deployment.\nms.assetid: 7d53cbef-078c-4d20-8b00-e821e33b6ea1\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Test and update an AppLocker policy\n\n**Applies to**\n-   Windows 10\n\nThis topic discusses the steps required to test an AppLocker policy prior to deployment.\n\nYou should test each set of rules to ensure that the rules perform as intended. If you use Group Policy to manage AppLocker policies, complete the following steps for each Group Policy Object (GPO) where you have created AppLocker rules. Because AppLocker rules are inherited from linked GPOs, you should deploy all of the rules for simultaneous testing in all of your test GPOs.\n\n## Step 1: Enable the Audit only enforcement setting\n\nBy using the **Audit only** enforcement setting, you can ensure that the AppLocker rules that you have created are properly configured for your organization. This setting can be enabled on the **Enforcement** tab of the **AppLocker Properties** dialog box. For the procedure to do this, see [Configure an AppLocker policy for audit only](configure-an-applocker-policy-for-audit-only.md).\n\n## Step 2: Configure the Application Identity service to start automatically\n\nBecause AppLocker uses the Application Identity service to verify the attributes of a file, you must configure it to start automatically in any one GPO that applies AppLocker rules. For the procedure to do this, see [Configure the Application Identity Service](configure-the-application-identity-service.md). For AppLocker policies that are not managed by a GPO, you must ensure that the service is running on each PC in order for the policies to be applied.\n\n## Step 3: Test the policy\n\nTest the AppLocker policy to determine if your rule collection needs to be modified. Because you have created AppLocker rules, enabled the Application Identity service, and enabled the **Audit only** enforcement setting, the AppLocker policy should be present on all client PC that are configured to receive your AppLocker policy.\n\nThe **Test-AppLockerPolicy** Windows PowerShell cmdlet can be used to determine whether any of the rules in your rule collection will be blocked on your reference PCs. For the procedure to do this, see [Test an AppLocker policy by using Test-AppLockerPolicy](test-an-applocker-policy-by-using-test-applockerpolicy.md).\n\n## Step 4: Analyze AppLocker events\nYou can either manually analyze AppLocker events or use the **Get-AppLockerFileInformation** Windows PowerShell cmdlet to automate the analysis.\n\n**To manually analyze AppLocker events**\n\nYou can view the events either in Event Viewer or a text editor and then sort those events to perform an analysis, such as looking for patterns in application usage events, access frequencies, or access by user groups. If you have not configured an event subscription, then you will have to review the logs on a sampling of computers in your organization. For more information about using Event Viewer, see [Monitor application usage with AppLocker](monitor-application-usage-with-applocker.md).\n\n**To analyze AppLocker events by using Get-AppLockerFileInformation**\n\nYou can use the **Get-AppLockerFileInformation** Windows PowerShell cmdlet to analyze AppLocker events from a remote computer. If an app is being blocked and should be allowed, you can use the AppLocker cmdlets to help troubleshoot the problem.\n\nFor both event subscriptions and local events, you can use the **Get-AppLockerFileInformation** cmdlet to determine which files have been blocked or would have been blocked (if you are using the **Audit only** enforcement mode) and how many times the event has occurred for each file. For the procedure to do this, see [Monitor Application Usage with AppLocker](monitor-application-usage-with-applocker.md).\n\nAfter using **Get-AppLockerFileInformation** to determine how many times that a file would have been blocked from running, you should review your rule list to determine whether a new rule should be created for the blocked file or whether an existing rule is too strictly defined. Ensure that you check which GPO is currently preventing the file from running. To determine this, you can use the Group Policy Results Wizard to view rule names.\n\n## Step 5: Modify the AppLocker policy\n\nAfter you have identified which rules need to be edited or added to the policy, you can use the Group Policy Management Console to modify the AppLocker rules in the relevant GPOs. For AppLocker policies that are not managed by a GPO, you can use the Local Security Policy snap-in (secpol.msc). For info how to modify an AppLocker policy, see, [Edit an AppLocker policy](edit-an-applocker-policy.md).\n\n## Step 6: Repeat policy testing, analysis, and policy modification\n\nRepeat the previous steps 3–5 until all the rules perform as intended before applying enforcement.\n\n## Additional resources\n\n-   For steps to perform other AppLocker policy tasks, see [Administer AppLocker](administer-applocker.md).\n \n \n"}