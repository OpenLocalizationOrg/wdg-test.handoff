{"nodes":[{"content":"Add drivers to a Windows 10 deployment with Windows PE using Configuration Manager (Windows 10)","pos":[11,106]},{"content":"In this topic, you will learn how to configure the Windows Preinstallation Environment (Windows PE) to include the network drivers required to connect to the deployment share and the storage drivers required to see the local storage on machines.","pos":[120,365]},{"content":"Add drivers to a Windows 10 deployment with Windows PE using Configuration Manager","pos":[527,609]},{"content":"Applies to","pos":[614,624]},{"content":"Windows 10","pos":[632,642]},{"content":"In this topic, you will learn how to configure the Windows Preinstallation Environment (Windows PE) to include the network drivers required to connect to the deployment share and the storage drivers required to see the local storage on machines.","pos":[644,889]},{"content":"Even though the Windows PE boot image and the Windows 10 operating system contain many out-of-the-box drivers, it is likely you will have to add new or updated drivers to support all your hardware.","pos":[890,1087]},{"content":"In this section, you import drivers for both Windows PE and the full Windows 10 operating system.","pos":[1088,1185]},{"content":"For the purposes of this topic, we will use CM01, a machine running Windows Server 2012 R2 Standard that is a member of the domain contoso.com for the fictitious Contoso Corporation.","pos":[1187,1369]},{"content":"For more details on the setup for this topic, please see <bpt id=\"p1\">[</bpt>Deploy Windows 10 with the Microsoft Deployment Toolkit<ept id=\"p1\">](deploy-windows-10-with-the-microsoft-deployment-toolkit.md)</ept>.","pos":[1370,1545]},{"pos":[1576,1602],"content":"Add drivers for Windows PE"},{"content":"This section will show you how to import some network and storage drivers for Windows PE.","pos":[1605,1694]},{"content":"This section assumes you have downloaded some drivers to the E:<ph id=\"ph1\">\\\\</ph>Sources<ph id=\"ph2\">\\\\</ph>OSD<ph id=\"ph3\">\\\\</ph>DriverSources<ph id=\"ph4\">\\\\</ph>WinPE x64 folder on CM01.","pos":[1695,1814]},{"pos":[1820,1967],"content":"On CM01, using the Configuration Manager Console, in the Software Library workspace, right-click the <bpt id=\"p1\">**</bpt>Drivers<ept id=\"p1\">**</ept> node and select <bpt id=\"p2\">**</bpt>Import Driver<ept id=\"p2\">**</ept>."},{"pos":[1973,2226],"content":"In the Import New Driver Wizard, on the <bpt id=\"p1\">**</bpt>Specify a location to import driver<ept id=\"p1\">**</ept> page, below the Import all drivers in the following network path (UNC) option, browse to the <bpt id=\"p2\">**</bpt><ph id=\"ph1\">\\\\\\\\</ph>CM01<ph id=\"ph2\">\\\\</ph>Sources$<ph id=\"ph3\">\\\\</ph>OSD<ph id=\"ph4\">\\\\</ph>DriverSources<ph id=\"ph5\">\\\\</ph>WinPE x64<ept id=\"p2\">**</ept> folder and click <bpt id=\"p3\">**</bpt>Next<ept id=\"p3\">**</ept>."},{"pos":[2232,2378],"content":"On the <bpt id=\"p1\">**</bpt>Specify the details for the imported driver<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>Categories<ept id=\"p2\">**</ept>, create a category named <bpt id=\"p3\">**</bpt>WinPE x64<ept id=\"p3\">**</ept>, and then click <bpt id=\"p4\">**</bpt>Next<ept id=\"p4\">**</ept>."},{"pos":[2384,2463],"content":"On the <bpt id=\"p1\">**</bpt>Select the packages to add the imported driver<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept>."},{"content":"On the <bpt id=\"p1\">**</bpt>Select drivers to include in the boot image<ept id=\"p1\">**</ept> page, select the <bpt id=\"p2\">**</bpt>Zero Touch WinPE x64<ept id=\"p2\">**</ept> boot image.","pos":[2469,2577]},{"content":"Also select the <bpt id=\"p1\">**</bpt>Update distribution points when finished<ept id=\"p1\">**</ept> check box, and click <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept> twice.","pos":[2578,2675]},{"content":"figure 21","pos":[2679,2688]},{"content":"Figure 21.","pos":[2721,2731]},{"content":"Add drivers to Windows PE.","pos":[2732,2758]},{"content":"Note","pos":[2762,2766]},{"content":"The Updating Boot Image part of the wizard will appear to hang when displaying Done.","pos":[2771,2855]},{"content":"It will complete in a minute or two.","pos":[2856,2892]},{"pos":[2926,2952],"content":"Add drivers for Windows 10"},{"content":"This section illustrates how to add drivers for Windows 10 through an example in which you want to import Windows 10 drivers for the HP EliteBook 8560w model.","pos":[2955,3113]},{"content":"For the purposes of this section, we assume that you have downloaded the Windows 10 drivers for the HP EliteBook 8560w model and copied them to the E:<ph id=\"ph1\">\\\\</ph>Sources<ph id=\"ph2\">\\\\</ph>OSD<ph id=\"ph3\">\\\\</ph>DriverSources<ph id=\"ph4\">\\\\</ph>Windows 10 x64<ph id=\"ph5\">\\\\</ph>HP EliteBook 8560w folder on CM01.","pos":[3114,3345]},{"pos":[3351,3465],"content":"On CM01, using the Configuration Manager Console, right-click the <bpt id=\"p1\">**</bpt>Drivers<ept id=\"p1\">**</ept> folder and select <bpt id=\"p2\">**</bpt>Import Driver<ept id=\"p2\">**</ept>."},{"pos":[3471,3749],"content":"In the Import New Driver Wizard, on the <bpt id=\"p1\">**</bpt>Specify a location to import driver<ept id=\"p1\">**</ept> page, below the Import all drivers in the following network path (UNC) option, browse to the <bpt id=\"p2\">**</bpt><ph id=\"ph1\">\\\\\\\\</ph>CM01<ph id=\"ph2\">\\\\</ph>Sources$<ph id=\"ph3\">\\\\</ph>OSD<ph id=\"ph4\">\\\\</ph>DriverSources<ph id=\"ph5\">\\\\</ph>Windows 10 x64<ph id=\"ph6\">\\\\</ph>HP EliteBook 8560w<ept id=\"p2\">**</ept> folder and click <bpt id=\"p3\">**</bpt>Next<ept id=\"p3\">**</ept>."},{"pos":[3755,3923],"content":"On the <bpt id=\"p1\">**</bpt>Specify the details for the imported driver<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>Categories<ept id=\"p2\">**</ept>, create a category named Windows 10 x64 - HP EliteBook 8560w, and then click <bpt id=\"p3\">**</bpt>Next<ept id=\"p3\">**</ept>."},{"content":"figure 22","pos":[3931,3940]},{"content":"Figure 22.","pos":[3982,3992]},{"content":"Create driver categories.","pos":[3993,4018]},{"pos":[4024,4179],"content":"On the <bpt id=\"p1\">**</bpt>Select the packages to add the imported driver<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>New Package<ept id=\"p2\">**</ept>, use the following settings for the package, and then click <bpt id=\"p3\">**</bpt>Next<ept id=\"p3\">**</ept>:"},{"content":"Name: Windows 10 x64 - HP EliteBook 8560w","pos":[4189,4230]},{"content":"Path: <ph id=\"ph1\">\\\\\\\\</ph>CM01<ph id=\"ph2\">\\\\</ph>Sources$<ph id=\"ph3\">\\\\</ph>OSD<ph id=\"ph4\">\\\\</ph>DriverPackages<ph id=\"ph5\">\\\\</ph>Windows 10 x64<ph id=\"ph6\">\\\\</ph>HP EliteBook 8560w","pos":[4240,4321]},{"pos":[4327,4460],"content":"**Note**  \nThe package path does not yet exist, so you have to type it in. The wizard will create the new package in that folder.","leadings":["","    "],"nodes":[{"content":"Note","pos":[2,6]},{"content":"The package path does not yet exist, so you have to type it in. The wizard will create the new package in that folder.","pos":[11,129],"nodes":[{"content":"The package path does not yet exist, so you have to type it in.","pos":[0,63]},{"content":"The wizard will create the new package in that folder.","pos":[64,118]}]}]},{"content":"On the <bpt id=\"p1\">**</bpt>Select drivers to include in the boot image<ept id=\"p1\">**</ept> page, do not select anything, and click <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept> twice.","pos":[4473,4583]},{"content":"After the package has been created, click <bpt id=\"p1\">**</bpt>Close<ept id=\"p1\">**</ept>.","pos":[4584,4636]},{"content":"Note","pos":[4640,4644]},{"content":"If you want to monitor the driver import process more closely, you can open the SMSProv.log file during driver import.","pos":[4649,4767]},{"content":"figure 23","pos":[4774,4783]},{"content":"Figure 23.","pos":[4811,4821]},{"content":"Drivers imported and a new driver package created.","pos":[4822,4872]},{"content":"Related topics","pos":[4877,4891]},{"content":"Integrate Configuration Manager with MDT 2013 Update 2","pos":[4895,4949]},{"content":"Prepare for Zero Touch Installation of Windows 10 with Configuration Manager","pos":[5003,5079]},{"content":"Create a custom Windows PE boot image with Configuration Manager","pos":[5164,5228]},{"content":"Add a Windows 10 operating system image using Configuration Manager","pos":[5301,5368]},{"content":"Create an application to deploy with Windows 10 using Configuration Manager","pos":[5444,5519]},{"content":"Create a task sequence with Configuration Manager and MDT","pos":[5603,5660]},{"content":"Deploy Windows 10 using PXE and Configuration Manager","pos":[5726,5779]},{"content":"Refresh a Windows 7 SP1 client with Windows 10 using Configuration Manager","pos":[5841,5915]},{"content":"Replace a Windows 7 SP1 client with Windows 10 using Configuration Manager","pos":[5994,6068]}],"content":"---\ntitle: Add drivers to a Windows 10 deployment with Windows PE using Configuration Manager (Windows 10)\ndescription: In this topic, you will learn how to configure the Windows Preinstallation Environment (Windows PE) to include the network drivers required to connect to the deployment share and the storage drivers required to see the local storage on machines.\nms.assetid: 97b3ea46-28d9-407e-8c42-ded2e45e8d5c\nkeywords: deploy, task sequence\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nauthor: mtniehaus\n---\n\n# Add drivers to a Windows 10 deployment with Windows PE using Configuration Manager\n\n\n**Applies to**\n\n-   Windows 10\n\nIn this topic, you will learn how to configure the Windows Preinstallation Environment (Windows PE) to include the network drivers required to connect to the deployment share and the storage drivers required to see the local storage on machines. Even though the Windows PE boot image and the Windows 10 operating system contain many out-of-the-box drivers, it is likely you will have to add new or updated drivers to support all your hardware. In this section, you import drivers for both Windows PE and the full Windows 10 operating system.\n\nFor the purposes of this topic, we will use CM01, a machine running Windows Server 2012 R2 Standard that is a member of the domain contoso.com for the fictitious Contoso Corporation. For more details on the setup for this topic, please see [Deploy Windows 10 with the Microsoft Deployment Toolkit](deploy-windows-10-with-the-microsoft-deployment-toolkit.md).\n\n## <a href=\"\" id=\"sec01\"></a>Add drivers for Windows PE\n\n\nThis section will show you how to import some network and storage drivers for Windows PE. This section assumes you have downloaded some drivers to the E:\\\\Sources\\\\OSD\\\\DriverSources\\\\WinPE x64 folder on CM01.\n\n1.  On CM01, using the Configuration Manager Console, in the Software Library workspace, right-click the **Drivers** node and select **Import Driver**.\n\n2.  In the Import New Driver Wizard, on the **Specify a location to import driver** page, below the Import all drivers in the following network path (UNC) option, browse to the **\\\\\\\\CM01\\\\Sources$\\\\OSD\\\\DriverSources\\\\WinPE x64** folder and click **Next**.\n\n3.  On the **Specify the details for the imported driver** page, click **Categories**, create a category named **WinPE x64**, and then click **Next**.\n\n4.  On the **Select the packages to add the imported driver** page, click **Next**.\n\n5.  On the **Select drivers to include in the boot image** page, select the **Zero Touch WinPE x64** boot image. Also select the **Update distribution points when finished** check box, and click **Next** twice.\n\n![figure 21](images/fig21-add-drivers.png)\n\nFigure 21. Add drivers to Windows PE.\n\n**Note**  \nThe Updating Boot Image part of the wizard will appear to hang when displaying Done. It will complete in a minute or two.\n\n \n\n## <a href=\"\" id=\"sec02\"></a>Add drivers for Windows 10\n\n\nThis section illustrates how to add drivers for Windows 10 through an example in which you want to import Windows 10 drivers for the HP EliteBook 8560w model. For the purposes of this section, we assume that you have downloaded the Windows 10 drivers for the HP EliteBook 8560w model and copied them to the E:\\\\Sources\\\\OSD\\\\DriverSources\\\\Windows 10 x64\\\\HP EliteBook 8560w folder on CM01.\n\n1.  On CM01, using the Configuration Manager Console, right-click the **Drivers** folder and select **Import Driver**.\n\n2.  In the Import New Driver Wizard, on the **Specify a location to import driver** page, below the Import all drivers in the following network path (UNC) option, browse to the **\\\\\\\\CM01\\\\Sources$\\\\OSD\\\\DriverSources\\\\Windows 10 x64\\\\HP EliteBook 8560w** folder and click **Next**.\n\n3.  On the **Specify the details for the imported driver** page, click **Categories**, create a category named Windows 10 x64 - HP EliteBook 8560w, and then click **Next**.\n\n    ![figure 22](images/fig22-createcategories.png)\n\n    Figure 22. Create driver categories.\n\n4.  On the **Select the packages to add the imported driver** page, click **New Package**, use the following settings for the package, and then click **Next**:\n\n    1.  Name: Windows 10 x64 - HP EliteBook 8560w\n\n    2.  Path: \\\\\\\\CM01\\\\Sources$\\\\OSD\\\\DriverPackages\\\\Windows 10 x64\\\\HP EliteBook 8560w\n\n    **Note**  \n    The package path does not yet exist, so you have to type it in. The wizard will create the new package in that folder.\n\n     \n\n5.  On the **Select drivers to include in the boot image** page, do not select anything, and click **Next** twice. After the package has been created, click **Close**.\n\n**Note**  \nIf you want to monitor the driver import process more closely, you can open the SMSProv.log file during driver import.\n\n \n\n![figure 23](images/mdt-06-fig26.png)\n\nFigure 23. Drivers imported and a new driver package created.\n\n## Related topics\n\n\n[Integrate Configuration Manager with MDT 2013 Update 2](integrate-configuration-manager-with-mdt-2013.md)\n\n[Prepare for Zero Touch Installation of Windows 10 with Configuration Manager](prepare-for-zero-touch-installation-of-windows-10-with-configuration-manager.md)\n\n[Create a custom Windows PE boot image with Configuration Manager](create-a-custom-windows-pe-boot-image-with-configuration-manager.md)\n\n[Add a Windows 10 operating system image using Configuration Manager](add-a-windows-10-operating-system-image-using-configuration-manager.md)\n\n[Create an application to deploy with Windows 10 using Configuration Manager](create-an-application-to-deploy-with-windows-10-using-configuration-manager.md)\n\n[Create a task sequence with Configuration Manager and MDT](create-a-task-sequence-with-configuration-manager-and-mdt.md)\n\n[Deploy Windows 10 using PXE and Configuration Manager](deploy-windows-10-using-pxe-and-configuration-manager.md)\n\n[Refresh a Windows 7 SP1 client with Windows 10 using Configuration Manager](refresh-a-windows-7-client-with-windows-10-using-configuration-manager.md)\n\n[Replace a Windows 7 SP1 client with Windows 10 using Configuration Manager](replace-a-windows-7-client-with-windows-10-using-configuration-manager.md)\n\n \n\n \n\n\n\n\n\n"}