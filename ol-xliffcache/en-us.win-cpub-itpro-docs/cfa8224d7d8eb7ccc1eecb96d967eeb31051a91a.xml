{"nodes":[{"content":"Allow log on through Remote Desktop Services (Windows 10)","pos":[11,68]},{"content":"Describes the best practices, location, values, policy management, and security considerations for the Allow log on through Remote Desktop Services security policy setting.","pos":[82,254]},{"content":"Allow log on through Remote Desktop Services","pos":[410,454]},{"content":"Applies to","pos":[458,468]},{"content":"Windows 10","pos":[475,485]},{"pos":[487,663],"content":"Describes the best practices, location, values, policy management, and security considerations for the <bpt id=\"p1\">**</bpt>Allow log on through Remote Desktop Services<ept id=\"p1\">**</ept> security policy setting."},{"content":"Reference","pos":[668,677]},{"content":"This policy setting determines which users or groups can access the logon screen of a remote device through a Remote Desktop Services connection.","pos":[679,824]},{"content":"It is possible for a user to establish a Remote Desktop Services connection to a particular server but not be able to log on to the console of that same server.","pos":[825,985]},{"content":"Constant: SeRemoteInteractiveLogonRight","pos":[987,1026]},{"content":"Possible values","pos":[1032,1047]},{"content":"User-defined list of accounts","pos":[1053,1082]},{"content":"Not Defined","pos":[1087,1098]},{"content":"Best practices","pos":[1104,1118]},{"content":"To control who can open a Remote Desktop Services connection and log on to the device, add users to or remove users from the Remote Desktop Users group.","pos":[1124,1276]},{"content":"Location","pos":[1282,1290]},{"content":"Computer Configuration<ph id=\"ph1\">\\\\</ph>Windows Settings<ph id=\"ph2\">\\\\</ph>Security Settings<ph id=\"ph3\">\\\\</ph>Local Policies<ph id=\"ph4\">\\\\</ph>User Rights Assignment","pos":[1292,1391]},{"content":"Default values","pos":[1397,1411]},{"content":"By default, members of the Administrators group have this right on domain controllers, workstations, and servers.","pos":[1413,1526]},{"content":"The Remote Desktops Users group also has this right on workstations and servers.","pos":[1527,1607]},{"content":"The following table lists the actual and effective default policy values.","pos":[1608,1681]},{"content":"Default values are also listed on the policy’s property page.","pos":[1682,1743]},{"content":"Server type or GPO","pos":[1748,1766]},{"content":"Default value","pos":[1769,1782]},{"content":"Default Domain Policy","pos":[1797,1818]},{"content":"Not Defined","pos":[1821,1832]},{"content":"Default Domain Controller Policy","pos":[1837,1869]},{"content":"Administrators","pos":[1872,1886]},{"content":"Stand-Alone Server Default Settings","pos":[1891,1926]},{"content":"Administrators","pos":[1929,1943]},{"content":"Remote Desktop Users","pos":[1947,1967]},{"content":"Domain Controller Effective Default Settings","pos":[1973,2017]},{"content":"Administrators","pos":[2020,2034]},{"content":"Member Server Effective Default Settings","pos":[2040,2080]},{"content":"Administrators","pos":[2083,2097]},{"content":"Remote Desktop Users","pos":[2101,2121]},{"content":"Client Computer Effective Default Settings","pos":[2126,2168]},{"content":"Administrators","pos":[2171,2185]},{"content":"Remote Desktop Users","pos":[2189,2209]},{"content":"Policy management","pos":[2217,2234]},{"content":"This section describes different features and tools available to help you manage this policy.","pos":[2236,2329]},{"content":"Group Policy","pos":[2335,2347]},{"content":"To use Remote Desktop Services to successfully log on to a remote device, the user or group must be a member of the Remote Desktop Users or Administrators group and be granted the <bpt id=\"p1\">**</bpt>Allow log on through Remote Desktop Services<ept id=\"p1\">**</ept> right.","pos":[2349,2584]},{"content":"It is possible for a user to establish an Remote Desktop Services session to a particular server, but not be able to log on to the console of that same server.","pos":[2585,2744]},{"content":"To exclude users or groups, you can assign the <bpt id=\"p1\">**</bpt>Deny log on through Remote Desktop Services<ept id=\"p1\">**</ept> user right to those users or groups.","pos":[2746,2877]},{"content":"However, be careful when you use this method because you could create conflicts for legitimate users or groups that have been allowed access through the <bpt id=\"p1\">**</bpt>Allow log on through Remote Desktop Services<ept id=\"p1\">**</ept> user right.","pos":[2878,3091]},{"pos":[3093,3213],"content":"For more information, see <bpt id=\"p1\">[</bpt>Deny log on through Remote Desktop Services<ept id=\"p1\">](deny-log-on-through-remote-desktop-services.md)</ept>."},{"content":"A restart of the device is not required for this policy setting to be effective.","pos":[3215,3295]},{"content":"Any change to the user rights assignment for an account becomes effective the next time the owner of the account logs on.","pos":[3297,3418]},{"content":"Group Policy settings are applied through GPOs in the following order, which will overwrite settings on the local computer at the next Group Policy update:","pos":[3420,3575]},{"content":"Local policy settings","pos":[3581,3602]},{"content":"Site policy settings","pos":[3607,3627]},{"content":"Domain policy settings","pos":[3632,3654]},{"content":"OU policy settings","pos":[3659,3677]},{"content":"Security considerations","pos":[3682,3705]},{"content":"This section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.","pos":[3707,3901]},{"content":"Vulnerability","pos":[3907,3920]},{"content":"Any account with the <bpt id=\"p1\">**</bpt>Allow log on through Remote Desktop Services<ept id=\"p1\">**</ept> user right can log on to the remote console of the device.","pos":[3922,4050]},{"content":"If you do not restrict this user right to legitimate users who must log on to the console of the computer, unauthorized users could download and run malicious software to elevate their privileges.","pos":[4051,4247]},{"content":"Countermeasure","pos":[4253,4267]},{"content":"For domain controllers, assign the <bpt id=\"p1\">**</bpt>Allow log on through Remote Desktop Services<ept id=\"p1\">**</ept> user right only to the Administrators group.","pos":[4269,4397]},{"content":"For other server roles and devices, add the Remote Desktop Users group.","pos":[4398,4469]},{"content":"For servers that have the Remote Desktop (RD) Session Host role service enabled and do not run in Application Server mode, ensure that only authorized IT personnel who must manage the computers remotely belong to these groups.","pos":[4470,4696]},{"pos":[4700,4955],"content":"<bpt id=\"p1\">**</bpt>Caution:<ept id=\"p1\">**</ept>  For RD Session Host servers that run in Application Server mode, ensure that only users who require access to the server have accounts that belong to the Remote Desktop Users group because this built-in group has this logon right by default."},{"content":"Alternatively, you can assign the <bpt id=\"p1\">**</bpt>Deny log on through Remote Desktop Services<ept id=\"p1\">**</ept> user right to groups such as Account Operators, Server Operators, and Guests.","pos":[4958,5117]},{"content":"However, be careful when you use this method because you could block access to legitimate administrators who also belong to a group that has the <bpt id=\"p1\">**</bpt>Deny log on through Remote Desktop Services<ept id=\"p1\">**</ept> user right.","pos":[5118,5322]},{"content":"Potential impact","pos":[5328,5344]},{"content":"Removal of the <bpt id=\"p1\">**</bpt>Allow log on through Remote Desktop Services<ept id=\"p1\">**</ept> user right from other groups (or membership changes in these default groups) could limit the abilities of users who perform specific administrative roles in your environment.","pos":[5346,5584]},{"content":"You should confirm that delegated activities are not adversely affected.","pos":[5585,5657]},{"content":"Related topics","pos":[5662,5676]},{"content":"User Rights Assignment","pos":[5681,5703]}],"content":"---\ntitle: Allow log on through Remote Desktop Services (Windows 10)\ndescription: Describes the best practices, location, values, policy management, and security considerations for the Allow log on through Remote Desktop Services security policy setting.\nms.assetid: 6267c376-8199-4f2b-ae56-9c5424e76798\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Allow log on through Remote Desktop Services\n\n**Applies to**\n-   Windows 10\n\nDescribes the best practices, location, values, policy management, and security considerations for the **Allow log on through Remote Desktop Services** security policy setting.\n\n## Reference\n\nThis policy setting determines which users or groups can access the logon screen of a remote device through a Remote Desktop Services connection. It is possible for a user to establish a Remote Desktop Services connection to a particular server but not be able to log on to the console of that same server.\n\nConstant: SeRemoteInteractiveLogonRight\n\n### Possible values\n\n-   User-defined list of accounts\n-   Not Defined\n\n### Best practices\n\n-   To control who can open a Remote Desktop Services connection and log on to the device, add users to or remove users from the Remote Desktop Users group.\n\n### Location\n\nComputer Configuration\\\\Windows Settings\\\\Security Settings\\\\Local Policies\\\\User Rights Assignment\n\n### Default values\n\nBy default, members of the Administrators group have this right on domain controllers, workstations, and servers. The Remote Desktops Users group also has this right on workstations and servers.\nThe following table lists the actual and effective default policy values. Default values are also listed on the policy’s property page.\n\n\n| Server type or GPO | Default value |\n| - | - |\n| Default Domain Policy | Not Defined |\n| Default Domain Controller Policy | Administrators |\n| Stand-Alone Server Default Settings | Administrators<br>Remote Desktop Users | \n| Domain Controller Effective Default Settings | Administrators | \n| Member Server Effective Default Settings | Administrators<br>Remote Desktop Users |\n| Client Computer Effective Default Settings | Administrators<br>Remote Desktop Users |\n \n## Policy management\n\nThis section describes different features and tools available to help you manage this policy.\n\n### Group Policy\n\nTo use Remote Desktop Services to successfully log on to a remote device, the user or group must be a member of the Remote Desktop Users or Administrators group and be granted the **Allow log on through Remote Desktop Services** right. It is possible for a user to establish an Remote Desktop Services session to a particular server, but not be able to log on to the console of that same server.\n\nTo exclude users or groups, you can assign the **Deny log on through Remote Desktop Services** user right to those users or groups. However, be careful when you use this method because you could create conflicts for legitimate users or groups that have been allowed access through the **Allow log on through Remote Desktop Services** user right.\n\nFor more information, see [Deny log on through Remote Desktop Services](deny-log-on-through-remote-desktop-services.md).\n\nA restart of the device is not required for this policy setting to be effective.\n\nAny change to the user rights assignment for an account becomes effective the next time the owner of the account logs on.\n\nGroup Policy settings are applied through GPOs in the following order, which will overwrite settings on the local computer at the next Group Policy update:\n\n1.  Local policy settings\n2.  Site policy settings\n3.  Domain policy settings\n4.  OU policy settings\n\n## Security considerations\n\nThis section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.\n\n### Vulnerability\n\nAny account with the **Allow log on through Remote Desktop Services** user right can log on to the remote console of the device. If you do not restrict this user right to legitimate users who must log on to the console of the computer, unauthorized users could download and run malicious software to elevate their privileges.\n\n### Countermeasure\n\nFor domain controllers, assign the **Allow log on through Remote Desktop Services** user right only to the Administrators group. For other server roles and devices, add the Remote Desktop Users group. For servers that have the Remote Desktop (RD) Session Host role service enabled and do not run in Application Server mode, ensure that only authorized IT personnel who must manage the computers remotely belong to these groups.\n\n> **Caution:**  For RD Session Host servers that run in Application Server mode, ensure that only users who require access to the server have accounts that belong to the Remote Desktop Users group because this built-in group has this logon right by default.\n \nAlternatively, you can assign the **Deny log on through Remote Desktop Services** user right to groups such as Account Operators, Server Operators, and Guests. However, be careful when you use this method because you could block access to legitimate administrators who also belong to a group that has the **Deny log on through Remote Desktop Services** user right.\n\n### Potential impact\n\nRemoval of the **Allow log on through Remote Desktop Services** user right from other groups (or membership changes in these default groups) could limit the abilities of users who perform specific administrative roles in your environment. You should confirm that delegated activities are not adversely affected.\n\n## Related topics\n\n- [User Rights Assignment](user-rights-assignment.md)\n \n \n"}