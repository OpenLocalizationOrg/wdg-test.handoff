{"nodes":[{"content":"Log on as a service (Windows 10)","pos":[11,43]},{"content":"Describes the best practices, location, values, policy management, and security considerations for the Log on as a service security policy setting.","pos":[57,204]},{"content":"Log on as a service","pos":[360,379]},{"content":"Applies to","pos":[383,393]},{"content":"Windows 10","pos":[400,410]},{"pos":[412,563],"content":"Describes the best practices, location, values, policy management, and security considerations for the <bpt id=\"p1\">**</bpt>Log on as a service<ept id=\"p1\">**</ept> security policy setting."},{"content":"Reference","pos":[568,577]},{"content":"This policy setting determines which service accounts can register a process as a service.","pos":[579,669]},{"content":"Running a process under a service account circumvents the need for human intervention.","pos":[670,756]},{"content":"Constant: SeServiceLogonRight","pos":[758,787]},{"content":"Possible values","pos":[793,808]},{"content":"User-defined list of accounts","pos":[814,843]},{"content":"Not Defined","pos":[848,859]},{"content":"Best practices","pos":[865,879]},{"content":"Minimize the number of accounts that are granted this user right.","pos":[885,950]},{"content":"Location","pos":[956,964]},{"content":"Computer Configuration<ph id=\"ph1\">\\\\</ph>Windows Settings<ph id=\"ph2\">\\\\</ph>Security Settings<ph id=\"ph3\">\\\\</ph>Local Policies<ph id=\"ph4\">\\\\</ph>User Rights Assignment","pos":[966,1065]},{"content":"Default values","pos":[1071,1085]},{"content":"By default this setting is Network Service on domain controllers and Network Service on stand-alone servers.","pos":[1087,1195]},{"content":"The following table lists the actual and effective default policy values.","pos":[1197,1270]},{"content":"Default values are also listed on the policy’s property page.","pos":[1271,1332]},{"content":"Server type or GPO","pos":[1336,1354]},{"content":"Default value","pos":[1357,1370]},{"content":"Default Domain Policy","pos":[1385,1406]},{"content":"Not defined","pos":[1408,1419]},{"content":"Default Domain Controller Policy","pos":[1424,1456]},{"content":"Not defined","pos":[1459,1470]},{"content":"Stand-Alone Server Default Settings","pos":[1475,1510]},{"content":"Not defined","pos":[1513,1524]},{"content":"Domain Controller Effective Default Settings","pos":[1529,1573]},{"content":"Network Service","pos":[1576,1591]},{"content":"Member Server Effective Default Settings","pos":[1596,1636]},{"content":"Network Service","pos":[1638,1653]},{"content":"Client Computer Effective Default Settings","pos":[1658,1700]},{"content":"Network Service","pos":[1703,1718]},{"content":"Policy management","pos":[1726,1743]},{"content":"This section describes features, tools, and guidance to help you manage this policy.","pos":[1745,1829]},{"content":"A restart of the computer is not required for this policy setting to be effective.","pos":[1831,1913]},{"content":"Any change to the user rights assignment for an account becomes effective the next time the owner of the account logs on.","pos":[1915,2036]},{"content":"Group Policy","pos":[2042,2054]},{"pos":[2056,2180],"content":"The policy setting <bpt id=\"p1\">**</bpt>Deny logon as a service<ept id=\"p1\">**</ept> supersedes this policy setting if a user account is subject to both policies."},{"content":"Group Policy settings are applied in the following order, which will overwrite settings on the local device at the next Group Policy update:","pos":[2182,2322]},{"content":"Local policy settings","pos":[2328,2349]},{"content":"Site policy settings","pos":[2354,2374]},{"content":"Domain policy settings","pos":[2379,2401]},{"content":"OU policy settings","pos":[2406,2424]},{"content":"Security considerations","pos":[2429,2452]},{"content":"This section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.","pos":[2454,2648]},{"content":"Vulnerability","pos":[2654,2667]},{"content":"The <bpt id=\"p1\">**</bpt>Log on as a service<ept id=\"p1\">**</ept> user right allows accounts to start network services or services that run continuously on a computer, even when no one is logged on to the console.","pos":[2669,2844]},{"content":"The risk is reduced by the fact that only users with administrative privileges can install and configure services.","pos":[2845,2959]},{"content":"An attacker who has already attained that level of access could configure the service to run with the Local System account.","pos":[2960,3084]},{"content":"Countermeasure","pos":[3090,3104]},{"content":"By definition, the Network Service account has the <bpt id=\"p1\">**</bpt>Log on as a service<ept id=\"p1\">**</ept> user right.","pos":[3106,3192]},{"content":"This right is not granted through the Group Policy setting.","pos":[3193,3252]},{"content":"You should minimize the number of other accounts that are granted this user right.","pos":[3253,3335]},{"content":"Potential impact","pos":[3341,3357]},{"content":"On most computers, restricting the <bpt id=\"p1\">**</bpt>Log on as a service<ept id=\"p1\">**</ept> user right to the Local System, Local Service, and Network Service built-in accounts is the default configuration, and there is no negative impact.","pos":[3359,3565]},{"content":"However, if you have installed optional components such as ASP.NET or IIS, you may need to assign the <bpt id=\"p1\">**</bpt>Log on as a service<ept id=\"p1\">**</ept> user right to additional accounts that are required by those components.","pos":[3566,3765]},{"content":"IIS requires that this user right be explicitly granted to the ASPNET user account.","pos":[3766,3849]},{"content":"Related topics","pos":[3854,3868]},{"content":"User Rights Assignment","pos":[3873,3895]}],"content":"---\ntitle: Log on as a service (Windows 10)\ndescription: Describes the best practices, location, values, policy management, and security considerations for the Log on as a service security policy setting.\nms.assetid: acc9a9e0-fd88-4cda-ab54-503120ba1f42\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Log on as a service\n\n**Applies to**\n-   Windows 10\n\nDescribes the best practices, location, values, policy management, and security considerations for the **Log on as a service** security policy setting.\n\n## Reference\n\nThis policy setting determines which service accounts can register a process as a service. Running a process under a service account circumvents the need for human intervention.\n\nConstant: SeServiceLogonRight\n\n### Possible values\n\n-   User-defined list of accounts\n-   Not Defined\n\n### Best practices\n\n-   Minimize the number of accounts that are granted this user right.\n\n### Location\n\nComputer Configuration\\\\Windows Settings\\\\Security Settings\\\\Local Policies\\\\User Rights Assignment\n\n### Default values\n\nBy default this setting is Network Service on domain controllers and Network Service on stand-alone servers.\n\nThe following table lists the actual and effective default policy values. Default values are also listed on the policy’s property page.\n\n| Server type or GPO | Default value |\n| - | - |\n| Default Domain Policy| Not defined| \n| Default Domain Controller Policy | Not defined| \n| Stand-Alone Server Default Settings | Not defined| \n| Domain Controller Effective Default Settings | Network Service| \n| Member Server Effective Default Settings| Network Service| \n| Client Computer Effective Default Settings | Network Service| \n \n## Policy management\n\nThis section describes features, tools, and guidance to help you manage this policy.\n\nA restart of the computer is not required for this policy setting to be effective.\n\nAny change to the user rights assignment for an account becomes effective the next time the owner of the account logs on.\n\n### Group Policy\n\nThe policy setting **Deny logon as a service** supersedes this policy setting if a user account is subject to both policies.\n\nGroup Policy settings are applied in the following order, which will overwrite settings on the local device at the next Group Policy update:\n\n1.  Local policy settings\n2.  Site policy settings\n3.  Domain policy settings\n4.  OU policy settings\n\n## Security considerations\n\nThis section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.\n\n### Vulnerability\n\nThe **Log on as a service** user right allows accounts to start network services or services that run continuously on a computer, even when no one is logged on to the console. The risk is reduced by the fact that only users with administrative privileges can install and configure services. An \nattacker who has already attained that level of access could configure the service to run with the Local System account.\n\n### Countermeasure\n\nBy definition, the Network Service account has the **Log on as a service** user right. This right is not granted through the Group Policy setting. You should minimize the number of other accounts that are granted this user right.\n\n### Potential impact\n\nOn most computers, restricting the **Log on as a service** user right to the Local System, Local Service, and Network Service built-in accounts is the default configuration, and there is no negative impact. However, if you have installed optional components such as ASP.NET or IIS, you may need to \nassign the **Log on as a service** user right to additional accounts that are required by those components. IIS requires that this user right be explicitly granted to the ASPNET user account.\n\n## Related topics\n\n- [User Rights Assignment](user-rights-assignment.md)\n"}