{"nodes":[{"content":"4947(S) A change has been made to Windows Firewall exception list.","pos":[11,77]},{"content":"A rule was modified.","pos":[78,98]},{"content":"(Windows 10)","pos":[99,111]},{"content":"Describes security event 4947(S) A change has been made to Windows Firewall exception list.","pos":[125,216]},{"content":"A rule was modified.","pos":[217,237]},{"content":"4947(S): A change has been made to Windows Firewall exception list.","pos":[337,404]},{"content":"A rule was modified.","pos":[405,425]},{"content":"Applies to","pos":[429,439]},{"content":"Windows 10","pos":[446,456]},{"content":"Windows Server 2016","pos":[461,480]},{"pos":[600,705],"content":"<bpt id=\"p1\">***</bpt>Subcategory:<ept id=\"p1\">***</ept><ph id=\"ph1\">&amp;nbsp;</ph><bpt id=\"p2\">[</bpt>Audit MPSSVC Rule-Level Policy Change<ept id=\"p2\">](audit-mpssvc-rule-level-policy-change.md)</ept>"},{"content":"Event Description:","pos":[710,728]},{"content":"This event generates when Windows Firewall rule was modified.","pos":[733,794]},{"content":"This event doesn't generate when Firewall rule was modified via Group Policy.","pos":[796,873]},{"pos":[877,1013],"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>For recommendations, see <bpt id=\"p2\">[</bpt>Security Monitoring Recommendations<ept id=\"p2\">](#security-monitoring-recommendations)</ept> for this event."},{"content":"Event XML:","pos":[1036,1046]},{"pos":[1859,1893],"content":"<bpt id=\"p1\">***</bpt>Required Server Roles:<ept id=\"p1\">***</ept> None."},{"pos":[1895,1956],"content":"<bpt id=\"p1\">***</bpt>Minimum OS Version:<ept id=\"p1\">***</ept> Windows Server 2008, Windows Vista."},{"pos":[1958,1982],"content":"<bpt id=\"p1\">***</bpt>Event Versions:<ept id=\"p1\">***</ept> 0."},{"content":"Field Descriptions:","pos":[1987,2006]},{"content":"<bpt id=\"p1\">**</bpt>Profile Changed<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph><bpt id=\"p2\">**</bpt>:<ept id=\"p2\">**</ept> the list of profiles to which changed rule is applied.","pos":[2011,2115]},{"content":"Examples:","pos":[2116,2125]},{"content":"All","pos":[2131,2134]},{"content":"Domain,Public","pos":[2140,2153]},{"content":"Domain,Private","pos":[2159,2173]},{"content":"Private,Public","pos":[2179,2193]},{"content":"Public","pos":[2199,2205]},{"content":"Domain","pos":[2211,2217]},{"content":"Private","pos":[2223,2230]},{"content":"Modified Rule:","pos":[2234,2248]},{"pos":[2256,2343],"content":"<bpt id=\"p1\">**</bpt>Rule ID<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: the unique identifier for modified firewall rule."},{"pos":[2349,2625],"content":"To see the unique ID of the rule you need to navigate to “<bpt id=\"p1\">**</bpt>HKEY<ph id=\"ph1\">\\_</ph>LOCAL<ph id=\"ph2\">\\_</ph>MACHINE<ph id=\"ph3\">\\\\</ph>SYSTEM<ph id=\"ph4\">\\\\</ph>CurrentControlSet<ph id=\"ph5\">\\\\</ph>Services<ph id=\"ph6\">\\\\</ph>SharedAccess<ph id=\"ph7\">\\\\</ph>Parameters<ph id=\"ph8\">\\\\</ph>FirewallPolicy<ph id=\"ph9\">\\\\</ph>FirewallRules”<ept id=\"p1\">**</ept> registry key and you will see the list of Windows Firewall rule IDs (Name column) with parameters:"},{"content":"<bpt id=\"p1\">**</bpt>Rule Name<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: the name of the rule which was modified.","pos":[2766,2846]},{"content":"You can see the name of Windows Firewall rule using Windows Firewall with Advanced Security management console (<bpt id=\"p1\">**</bpt>wf.msc<ept id=\"p1\">**</ept>), check “Name” column:","pos":[2847,2992]},{"content":"Security Monitoring Recommendations","pos":[3148,3183]},{"content":"For 4947(S): A change has been made to Windows Firewall exception list.","pos":[3185,3256]},{"content":"A rule was modified.","pos":[3257,3277]},{"content":"This event can be helpful in case you want to monitor all Firewall rules modifications which were done locally.","pos":[3283,3394]}],"content":"---\ntitle: 4947(S) A change has been made to Windows Firewall exception list. A rule was modified. (Windows 10)\ndescription: Describes security event 4947(S) A change has been made to Windows Firewall exception list. A rule was modified.\nms.pagetype: security\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nauthor: Mir0sh\n---\n\n# 4947(S): A change has been made to Windows Firewall exception list. A rule was modified.\n\n**Applies to**\n-   Windows 10\n-   Windows Server 2016\n\n\n<img src=\"images/event-4947.png\" alt=\"Event 4947 illustration\" width=\"449\" height=\"361\" hspace=\"10\" align=\"left\" />\n\n***Subcategory:***&nbsp;[Audit MPSSVC Rule-Level Policy Change](audit-mpssvc-rule-level-policy-change.md)\n\n***Event Description:***\n\nThis event generates when Windows Firewall rule was modified.\n\nThis event doesn't generate when Firewall rule was modified via Group Policy.\n\n> **Note**&nbsp;&nbsp;For recommendations, see [Security Monitoring Recommendations](#security-monitoring-recommendations) for this event.\n\n<br clear=\"all\">\n\n***Event XML:***\n```\n- <Event xmlns=\"http://schemas.microsoft.com/win/2004/08/events/event\">\n- <System>\n <Provider Name=\"Microsoft-Windows-Security-Auditing\" Guid=\"{54849625-5478-4994-A5BA-3E3B0328C30D}\" /> \n <EventID>4947</EventID> \n <Version>0</Version> \n <Level>0</Level> \n <Task>13571</Task> \n <Opcode>0</Opcode> \n <Keywords>0x8020000000000000</Keywords> \n <TimeCreated SystemTime=\"2015-10-03T20:27:22.485152000Z\" /> \n <EventRecordID>1050908</EventRecordID> \n <Correlation /> \n <Execution ProcessID=\"500\" ThreadID=\"3796\" /> \n <Channel>Security</Channel> \n <Computer>DC01.contoso.local</Computer> \n <Security /> \n </System>\n- <EventData>\n <Data Name=\"ProfileChanged\">All</Data> \n <Data Name=\"RuleId\">{F2649D59-1355-4E3C-B886-CDD08B683199}</Data> \n <Data Name=\"RuleName\">Allow All Rule</Data> \n </EventData>\n </Event>\n\n```\n\n***Required Server Roles:*** None.\n\n***Minimum OS Version:*** Windows Server 2008, Windows Vista.\n\n***Event Versions:*** 0.\n\n***Field Descriptions:***\n\n**Profile Changed** \\[Type = UnicodeString\\]**:** the list of profiles to which changed rule is applied. Examples:\n\n-   All\n\n-   Domain,Public\n\n-   Domain,Private\n\n-   Private,Public\n\n-   Public\n\n-   Domain\n\n-   Private\n\n**Modified Rule:**\n\n-   **Rule ID** \\[Type = UnicodeString\\]: the unique identifier for modified firewall rule.\n\n    To see the unique ID of the rule you need to navigate to “**HKEY\\_LOCAL\\_MACHINE\\\\SYSTEM\\\\CurrentControlSet\\\\Services\\\\SharedAccess\\\\Parameters\\\\FirewallPolicy\\\\FirewallRules”** registry key and you will see the list of Windows Firewall rule IDs (Name column) with parameters:\n\n<img src=\"images/registry-editor-firewallrules.png\" alt=\"Registry Editor FirewallRules key illustration\" width=\"1412\" height=\"422\" />\n\n-   **Rule Name** \\[Type = UnicodeString\\]: the name of the rule which was modified. You can see the name of Windows Firewall rule using Windows Firewall with Advanced Security management console (**wf.msc**), check “Name” column:\n\n<img src=\"images/windows-firewall-with-advanced-security.png\" alt=\"Windows Firewall with Advanced Security illustration\" width=\"1082\" height=\"363\" />\n\n## Security Monitoring Recommendations\n\nFor 4947(S): A change has been made to Windows Firewall exception list. A rule was modified.\n\n-   This event can be helpful in case you want to monitor all Firewall rules modifications which were done locally.\n\n"}