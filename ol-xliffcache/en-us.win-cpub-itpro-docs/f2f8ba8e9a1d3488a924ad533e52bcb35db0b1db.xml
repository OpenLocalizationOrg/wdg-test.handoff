{"nodes":[{"content":"Network access Do not allow storage of passwords and credentials for network authentication (Windows 10)","pos":[11,115]},{"content":"Describes the best practices, location, values, policy management and security considerations for the Network access Do not allow storage of passwords and credentials for network authentication security policy setting.","pos":[129,347]},{"content":"Network access: Do not allow storage of passwords and credentials for network authentication","pos":[503,595]},{"content":"Applies to","pos":[599,609]},{"content":"Windows 10","pos":[616,626]},{"pos":[628,851],"content":"Describes the best practices, location, values, policy management and security considerations for the <bpt id=\"p1\">**</bpt>Network access: Do not allow storage of passwords and credentials for network authentication<ept id=\"p1\">**</ept> security policy setting."},{"content":"Reference","pos":[856,865]},{"content":"This security setting determines whether Credential Manager saves passwords and credentials for later use when it gains domain authentication.","pos":[867,1009]},{"content":"Possible values","pos":[1015,1030]},{"content":"Enabled","pos":[1036,1043]},{"content":"Credential Manager does not store passwords and credentials on the device","pos":[1049,1122]},{"content":"Disabled","pos":[1128,1136]},{"content":"Credential Manager will store passwords and credentials on this computer for later use for domain authentication.","pos":[1142,1255]},{"content":"Not defined","pos":[1261,1272]},{"content":"Best practices","pos":[1278,1292]},{"content":"It is a recommended practice to disable the ability of the Windows operating system to cache credentials on any device where credentials are not needed.","pos":[1294,1446]},{"content":"Evaluate your servers and workstations to determine the requirements.","pos":[1447,1516]},{"content":"Cached credentials are designed primarily to be used on laptops that require domain credentials when disconnected from the domain.","pos":[1517,1647]},{"content":"Location","pos":[1653,1661]},{"content":"Computer Configuration<ph id=\"ph1\">\\\\</ph>Windows Settings<ph id=\"ph2\">\\\\</ph>Security Settings<ph id=\"ph3\">\\\\</ph>Local Policies<ph id=\"ph4\">\\\\</ph>Security Options","pos":[1663,1756]},{"content":"Default values","pos":[1762,1776]},{"content":"The following table lists the actual and effective default values for this policy.","pos":[1778,1860]},{"content":"Default values are also listed on the policy’s property page.","pos":[1861,1922]},{"content":"Server type or Group Policy Object (GPO)","pos":[1926,1966]},{"content":"Default value","pos":[1969,1982]},{"content":"Default domain policy","pos":[1997,2018]},{"content":"Disabled","pos":[2020,2028]},{"content":"Default domain controller policy","pos":[2033,2065]},{"content":"Disabled","pos":[2067,2075]},{"content":"Stand-alone server default settings","pos":[2080,2115]},{"content":"Disabled","pos":[2118,2126]},{"content":"Domain controller effective default settings","pos":[2131,2175]},{"content":"Not defined","pos":[2177,2188]},{"content":"Member server effective default settings","pos":[2193,2233]},{"content":"Not defined","pos":[2236,2247]},{"content":"Effective GPO default settings on client computers","pos":[2252,2302]},{"content":"Not defined","pos":[2305,2316]},{"content":"Policy management","pos":[2325,2342]},{"content":"This section describes features and tools that are available to help you manage this policy.","pos":[2344,2436]},{"content":"Restart requirement","pos":[2442,2461]},{"content":"A restart of the device is required before this policy will be effective when changes to this policy are saved locally or distributed through Group Policy.","pos":[2463,2618]},{"content":"Group Policy","pos":[2624,2636]},{"content":"This policy setting can be configured by using the Group Policy Management Console (GPMC) to be distributed through Group Policy Objects (GPOs).","pos":[2638,2782]},{"content":"If this policy is not contained in a distributed GPO, this policy can be configured on the local computer by using the Local Security Policy snap-in.","pos":[2783,2932]},{"content":"Security considerations","pos":[2937,2960]},{"content":"This section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.","pos":[2962,3156]},{"content":"Vulnerability","pos":[3162,3175]},{"content":"Passwords that are cached can be accessed by the user when logged on to the device.","pos":[3177,3260]},{"content":"Although this information may sound obvious, a problem can arise if the user unknowingly runs malicious software that reads the passwords and forwards them to another, unauthorized user.","pos":[3261,3447]},{"pos":[3450,3712],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept>  The chances of success for this exploit and others that involve malicious software are reduced significantly for organizations that effectively implement and manage an enterprise antivirus solution combined with sensible software restriction policies."},{"content":"Regardless of what encryption algorithm is used to encrypt the password verifier, a password verifier can be overwritten so that an attacker can authenticate as the user to whom the verifier belongs.","pos":[3715,3914]},{"content":"Therefore, the administrator's password may be overwritten.","pos":[3915,3974]},{"content":"This procedure requires physical access to the device.","pos":[3975,4029]},{"content":"Utilities exist that can help overwrite the cached verifier.","pos":[4030,4090]},{"content":"By using one of these utilities, an attacker can authenticate by using the overwritten value.","pos":[4091,4184]},{"content":"Overwriting the administrator's password does not help the attacker access data that is encrypted by using that password.","pos":[4186,4307]},{"content":"Also, overwriting the password does not help the attacker access any Encrypting File System (EFS) data that belongs to other users on that device.","pos":[4308,4454]},{"content":"Overwriting the password does not help an attacker replace the verifier, because the base keying material is incorrect.","pos":[4455,4574]},{"content":"Therefore, data that is encrypted by using Encrypting File System or by using the Data Protection API (DPAPI) will not decrypt.","pos":[4575,4702]},{"content":"Countermeasure","pos":[4708,4722]},{"pos":[4724,4840],"content":"Enable the <bpt id=\"p1\">**</bpt>Network access: Do not allow storage of passwords and credentials for network authentication<ept id=\"p1\">**</ept> setting."},{"content":"To limit the number of changed domain credentials that are stored on the computer, set the <bpt id=\"p1\">**</bpt>cachedlogonscount<ept id=\"p1\">**</ept> registry entry.","pos":[4842,4970]},{"content":"By default, the operating system caches the verifier for each unique user's ten most recent valid logons.","pos":[4971,5076]},{"content":"This value can be set to any value between 0 and 50.","pos":[5077,5129]},{"content":"By default, all versions of the Windows operating system remember 10 cached logons, except Windows Server 2008 and later, which are set at 25.","pos":[5130,5272]},{"content":"When you try to log on to a domain from a Windows-based client device, and a domain controller is unavailable, you do not receive an error message.","pos":[5274,5421]},{"content":"Therefore, you may not notice that you logged on with cached domain credentials.","pos":[5422,5502]},{"content":"You can set a notification of logon that uses cached domain credentials with the ReportDC registry entry.","pos":[5503,5608]},{"content":"Potential impact","pos":[5614,5630]},{"content":"Users are forced to type passwords whenever they log on to their Microsoft Account or other network resources that are not accessible to their domain account.","pos":[5632,5790]},{"content":"This policy setting should have no impact on users who access network resources that are configured to allow access with their Active Directory–based domain account.","pos":[5791,5956]},{"content":"Related topics","pos":[5961,5975]},{"content":"Security Options","pos":[5980,5996]}],"content":"---\ntitle: Network access Do not allow storage of passwords and credentials for network authentication (Windows 10)\ndescription: Describes the best practices, location, values, policy management and security considerations for the Network access Do not allow storage of passwords and credentials for network authentication security policy setting.\nms.assetid: b9b64360-36ea-40fa-b795-2d6558c46563\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Network access: Do not allow storage of passwords and credentials for network authentication\n\n**Applies to**\n-   Windows 10\n\nDescribes the best practices, location, values, policy management and security considerations for the **Network access: Do not allow storage of passwords and credentials for network authentication** security policy setting.\n\n## Reference\n\nThis security setting determines whether Credential Manager saves passwords and credentials for later use when it gains domain authentication.\n\n### Possible values\n\n-   Enabled\n\n    Credential Manager does not store passwords and credentials on the device\n\n-   Disabled\n\n    Credential Manager will store passwords and credentials on this computer for later use for domain authentication.\n\n-   Not defined\n\n### Best practices\n\nIt is a recommended practice to disable the ability of the Windows operating system to cache credentials on any device where credentials are not needed. Evaluate your servers and workstations to determine the requirements. Cached credentials are designed primarily to be used on laptops that require domain credentials when disconnected from the domain.\n\n### Location\n\nComputer Configuration\\\\Windows Settings\\\\Security Settings\\\\Local Policies\\\\Security Options\n\n### Default values\n\nThe following table lists the actual and effective default values for this policy. Default values are also listed on the policy’s property page.\n\n| Server type or Group Policy Object (GPO) | Default value |\n| - | - |\n| Default domain policy| Disabled| \n| Default domain controller policy| Disabled| \n| Stand-alone server default settings | Disabled| \n| Domain controller effective default settings| Not defined| \n| Member server effective default settings | Not defined| \n| Effective GPO default settings on client computers | Not defined| \n \n### Policy management\n\nThis section describes features and tools that are available to help you manage this policy.\n\n### Restart requirement\n\nA restart of the device is required before this policy will be effective when changes to this policy are saved locally or distributed through Group Policy.\n\n### Group Policy\n\nThis policy setting can be configured by using the Group Policy Management Console (GPMC) to be distributed through Group Policy Objects (GPOs). If this policy is not contained in a distributed GPO, this policy can be configured on the local computer by using the Local Security Policy snap-in.\n\n## Security considerations\n\nThis section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.\n\n### Vulnerability\n\nPasswords that are cached can be accessed by the user when logged on to the device. Although this information may sound obvious, a problem can arise if the user unknowingly runs malicious software that reads the passwords and forwards them to another, unauthorized user.\n\n>**Note:**  The chances of success for this exploit and others that involve malicious software are reduced significantly for organizations that effectively implement and manage an enterprise antivirus solution combined with sensible software restriction policies.\n \nRegardless of what encryption algorithm is used to encrypt the password verifier, a password verifier can be overwritten so that an attacker can authenticate as the user to whom the verifier belongs. Therefore, the administrator's password may be overwritten. This procedure requires physical access to the device. Utilities exist that can help overwrite the cached verifier. By using one of these utilities, an attacker can authenticate by using the overwritten value.\n\nOverwriting the administrator's password does not help the attacker access data that is encrypted by using that password. Also, overwriting the password does not help the attacker access any Encrypting File System (EFS) data that belongs to other users on that device. Overwriting the password does not help an attacker replace the verifier, because the base keying material is incorrect. Therefore, data that is encrypted by using Encrypting File System or by using the Data Protection API (DPAPI) will not decrypt.\n\n### Countermeasure\n\nEnable the **Network access: Do not allow storage of passwords and credentials for network authentication** setting.\n\nTo limit the number of changed domain credentials that are stored on the computer, set the **cachedlogonscount** registry entry. By default, the operating system caches the verifier for each unique user's ten most recent valid logons. This value can be set to any value between 0 and 50. By default, all versions of the Windows operating system remember 10 cached logons, except Windows Server 2008 and later, which are set at 25.\n\nWhen you try to log on to a domain from a Windows-based client device, and a domain controller is unavailable, you do not receive an error message. Therefore, you may not notice that you logged on with cached domain credentials. You can set a notification of logon that uses cached domain credentials with the ReportDC registry entry.\n\n### Potential impact\n\nUsers are forced to type passwords whenever they log on to their Microsoft Account or other network resources that are not accessible to their domain account. This policy setting should have no impact on users who access network resources that are configured to allow access with their Active Directory–based domain account.\n\n## Related topics\n\n- [Security Options](security-options.md)\n"}