{"nodes":[{"content":"4742(S) A computer account was changed.","pos":[11,50]},{"content":"(Windows 10)","pos":[51,63]},{"content":"Describes security event 4742(S) A computer account was changed.","pos":[77,141]},{"content":"4742(S): A computer account was changed.","pos":[241,281]},{"content":"Applies to","pos":[285,295]},{"content":"Windows 10","pos":[302,312]},{"content":"Windows Server 2016","pos":[317,336]},{"pos":[456,553],"content":"<bpt id=\"p1\">***</bpt>Subcategory:<ept id=\"p1\">***</ept><ph id=\"ph1\">&amp;nbsp;</ph><bpt id=\"p2\">[</bpt>Audit Computer Account Management<ept id=\"p2\">](audit-computer-account-management.md)</ept>"},{"content":"Event Description:","pos":[558,576]},{"content":"This event generates every time a computer object is changed.","pos":[581,642]},{"content":"This event generates only on domain controllers.","pos":[644,692]},{"content":"You might see the same values for <bpt id=\"p1\">**</bpt>Subject<ept id=\"p1\">**</ept><ph id=\"ph1\">\\\\</ph><bpt id=\"p2\">**</bpt>Security ID<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>Computer Account That Was Changed<ept id=\"p3\">**</ept><ph id=\"ph2\">\\\\</ph><bpt id=\"p4\">**</bpt>Security ID<ept id=\"p4\">**</ept> in this event.","pos":[694,830]},{"content":"This usually happens when you reboot a computer after adding it to the domain (the change takes effect after the reboot).","pos":[831,952]},{"content":"For each change, a separate 4742 event will be generated.","pos":[954,1011]},{"pos":[1013,1195],"content":"Some changes do not invoke a 4742 event, for example, changes made using Active Directory Users and Computers management console in <bpt id=\"p1\">**</bpt>Managed By<ept id=\"p1\">**</ept> tab in computer account properties."},{"content":"You might see this event without any changes inside, that is, where all <bpt id=\"p1\">**</bpt>Changed Attributes<ept id=\"p1\">**</ept> apear as “-“.","pos":[1197,1305]},{"content":"This usually happens when a change is made to an attribute that is not listed in the event.","pos":[1306,1397]},{"content":"In this case there is no way to determine which attribute was changed.","pos":[1398,1468]},{"content":"For example, this would happen if you change the <bpt id=\"p1\">**</bpt>Description<ept id=\"p1\">**</ept> of a group object using the Active Directory Users and Computers administrative console.","pos":[1469,1622]},{"content":"Also, if the <bpt id=\"p1\">[</bpt>discretionary access control list<ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/windows/desktop/aa374872(v=vs.85).aspx)</ept> (DACL) is changed, a 4742 event will generate, but all attributes will be “-“.","pos":[1623,1831]},{"content":"<bpt id=\"p1\">**</bpt><bpt id=\"p2\">*</bpt>Important<ept id=\"p2\">*</ept>:<ept id=\"p1\">**</ept> If you manually change any user-related setting or attribute, for example if you set the SMARTCARD<ph id=\"ph1\">\\_</ph>REQUIRED flag in <bpt id=\"p3\">**</bpt>userAccountControl<ept id=\"p3\">**</ept> for the computer account, then the <bpt id=\"p4\">**</bpt>sAMAccountType<ept id=\"p4\">**</ept> of the computer account will be changed to NORMAL<ph id=\"ph2\">\\_</ph>USER<ph id=\"ph3\">\\_</ph>ACCOUNT and you will get “<bpt id=\"p5\">[</bpt>4738<ept id=\"p5\">](event-4738.md)</ept>: A user account was changed” instead of 4742 for this computer account.","pos":[1833,2220]},{"content":"Essentially, the computer account will “become” a user account.","pos":[2221,2284]},{"content":"For NORMAL<ph id=\"ph1\">\\_</ph>USER<ph id=\"ph2\">\\_</ph>ACCOUNT you will always get events from <bpt id=\"p1\">[</bpt>Audit User Account Management<ept id=\"p1\">](audit-user-account-management.md)</ept> subcategory.","pos":[2285,2421]},{"content":"We strongly recommend that you avoid changing any user-related settings manually for computer objects.","pos":[2422,2524]},{"pos":[2528,2664],"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>For recommendations, see <bpt id=\"p2\">[</bpt>Security Monitoring Recommendations<ept id=\"p2\">](#security-monitoring-recommendations)</ept> for this event."},{"content":"Event XML:","pos":[2687,2697]},{"pos":[4614,4678],"content":"<bpt id=\"p1\">***</bpt>Required Server Roles:<ept id=\"p1\">***</ept> Active Directory domain controller."},{"pos":[4680,4726],"content":"<bpt id=\"p1\">***</bpt>Minimum OS Version:<ept id=\"p1\">***</ept> Windows Server 2008."},{"pos":[4728,4752],"content":"<bpt id=\"p1\">***</bpt>Event Versions:<ept id=\"p1\">***</ept> 0."},{"content":"Field Descriptions:","pos":[4757,4776]},{"content":"Subject:","pos":[4783,4791]},{"content":"<bpt id=\"p1\">**</bpt>Security ID<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = SID<ph id=\"ph2\">\\]</ph><bpt id=\"p2\">**</bpt>:<ept id=\"p2\">**</ept> SID of account that requested the “change Computer object” operation.","pos":[4799,4904]},{"content":"Event Viewer automatically tries to resolve SIDs and show the account name.","pos":[4905,4980]},{"content":"If the SID cannot be resolved, you will see the source data in the event.","pos":[4981,5054]},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>A <bpt id=\"p2\">**</bpt>security identifier (SID)<ept id=\"p2\">**</ept> is a unique value of variable length used to identify a trustee (security principal).","pos":[5058,5195]},{"content":"Each account has a unique SID that is issued by an authority, such as an Active Directory domain controller, and stored in a security database.","pos":[5196,5339]},{"content":"Each time a user logs on, the system retrieves the SID for that user from the database and places it in the access token for that user.","pos":[5340,5475]},{"content":"The system uses the SID in the access token to identify the user in all subsequent interactions with Windows security.","pos":[5476,5594]},{"content":"When a SID has been used as the unique identifier for a user or group, it cannot ever be used again to identify another user or group.","pos":[5595,5729]},{"content":"For more information about SIDs, see <bpt id=\"p1\">[</bpt>Security identifiers<ept id=\"p1\">](security-identifiers.md)</ept>.","pos":[5730,5815]},{"pos":[5821,5946],"content":"<bpt id=\"p1\">**</bpt>Account Name<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph><bpt id=\"p2\">**</bpt>:<ept id=\"p2\">**</ept> the name of the account that requested the “change Computer object” operation."},{"content":"<bpt id=\"p1\">**</bpt>Account Domain<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph><bpt id=\"p2\">**</bpt>:<ept id=\"p2\">**</ept> subject’s domain name.","pos":[5952,6023]},{"content":"Formats vary, and include the following:","pos":[6024,6064]},{"content":"Domain NETBIOS name example: CONTOSO","pos":[6074,6110]},{"content":"Lowercase full domain name: contoso.local","pos":[6120,6161]},{"content":"Uppercase full domain name: CONTOSO.LOCAL","pos":[6171,6212]},{"pos":[6222,6396],"content":"For some <bpt id=\"p1\">[</bpt>well-known security principals<ept id=\"p1\">](https://support.microsoft.com/en-us/kb/243330)</ept>, such as LOCAL SERVICE or ANONYMOUS LOGON, the value of this field is “NT AUTHORITY”."},{"pos":[6402,6630],"content":"<bpt id=\"p1\">**</bpt>Logon ID<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = HexInt64<ph id=\"ph2\">\\]</ph><bpt id=\"p2\">**</bpt>:<ept id=\"p2\">**</ept> hexadecimal value that can help you correlate this event with recent events that might contain the same Logon ID, for example, “<bpt id=\"p3\">[</bpt>4624<ept id=\"p3\">](event-4624.md)</ept>: An account was successfully logged on.”"},{"content":"Computer Account That Was Changed:","pos":[6634,6668]},{"content":"<bpt id=\"p1\">**</bpt>Security ID<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = SID<ph id=\"ph2\">\\]</ph><bpt id=\"p2\">**</bpt>:<ept id=\"p2\">**</ept> SID of changed computer account.","pos":[6676,6744]},{"content":"Event Viewer automatically tries to resolve SIDs and show the account name.","pos":[6745,6820]},{"content":"If the SID cannot be resolved, you will see the source data in the event.","pos":[6821,6894]},{"content":"<bpt id=\"p1\">**</bpt>Account Name<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph><bpt id=\"p2\">**</bpt>:<ept id=\"p2\">**</ept> the name of the computer account that was changed.","pos":[6900,6997]},{"content":"For example: WIN81$","pos":[6998,7017]},{"content":"<bpt id=\"p1\">**</bpt>Account Domain<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph><bpt id=\"p2\">**</bpt>:<ept id=\"p2\">**</ept> domain name of changed computer account.","pos":[7023,7112]},{"content":"Formats vary, and include the following:","pos":[7113,7153]},{"content":"Domain NETBIOS name example: CONTOSO","pos":[7163,7199]},{"content":"Lowercase full domain name: contoso.local","pos":[7209,7250]},{"content":"Uppercase full domain name: CONTOSO.LOCAL","pos":[7260,7301]},{"content":"Changed Attributes:","pos":[7305,7324]},{"pos":[7330,7402],"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>If attribute was not changed it will have “-“ value."},{"content":"<bpt id=\"p1\">**</bpt>SAM Account Name<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: logon name for account used to support clients and servers from previous versions of Windows (pre-Windows 2000 logon name).","pos":[7408,7578]},{"content":"If the value of <bpt id=\"p1\">**</bpt>sAMAccountName<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[7579,7688]},{"content":"For example: WIN8$.","pos":[7689,7708]},{"content":"<bpt id=\"p1\">**</bpt>Display Name<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: it is a name displayed in the address book for a particular account (typically – user account).","pos":[7714,7852]},{"content":"This is usually the combination of the user's first name, middle initial, and last name.","pos":[7853,7941]},{"content":"For computer objects, it is optional, and typically is not set.","pos":[7942,8005]},{"content":"You can change this attribute by using Active Directory Users and Computers, or through a script, for example.","pos":[8006,8116]},{"content":"If the value of <bpt id=\"p1\">**</bpt>displayName<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[8117,8223]},{"content":"<bpt id=\"p1\">**</bpt>User Principal Name<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: internet-style login name for the account, based on the Internet standard RFC 822.","pos":[8229,8361]},{"content":"By convention this should map to the account's email name.","pos":[8362,8420]},{"content":"If the value of <bpt id=\"p1\">**</bpt>userPrincipalName<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[8421,8533]},{"content":"For computer objects, it is optional, and typically is not set.","pos":[8534,8597]},{"content":"You can change this attribute by using Active Directory Users and Computers, or through a script, for example.","pos":[8598,8708]},{"content":"<bpt id=\"p1\">**</bpt>Home Directory<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: user's home directory.","pos":[8714,8781]},{"content":"If <bpt id=\"p1\">**</bpt>homeDrive<ept id=\"p1\">**</ept> attribute is set and specifies a drive letter, <bpt id=\"p2\">**</bpt>homeDirectory<ept id=\"p2\">**</ept> should be a UNC path.","pos":[8782,8885]},{"content":"The path must be a network UNC of the form <ph id=\"ph1\">\\\\\\\\</ph>Server<ph id=\"ph2\">\\\\</ph>Share<ph id=\"ph3\">\\\\</ph>Directory.","pos":[8886,8958]},{"content":"If the value of <bpt id=\"p1\">**</bpt>homeDirectory<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[8959,9067]},{"content":"For computer objects, it is optional, and typically is not set.","pos":[9068,9131]},{"content":"You can change this attribute by using Active Directory Users and Computers, or through a script, for example.","pos":[9132,9242]},{"content":"<bpt id=\"p1\">**</bpt>Home Drive<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph><bpt id=\"p2\">**</bpt>:<ept id=\"p2\">**</ept> specifies the drive letter to which to map the UNC path specified by <bpt id=\"p3\">**</bpt>homeDirectory<ept id=\"p3\">**</ept> account’s attribute.","pos":[9248,9400]},{"content":"The drive letter must be specified in the form “DRIVE<ph id=\"ph1\">\\_</ph>LETTER:”.","pos":[9401,9465]},{"content":"For example – “H:”.","pos":[9466,9485]},{"content":"If the value of <bpt id=\"p1\">**</bpt>homeDrive<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[9486,9590]},{"content":"For computer objects, it is optional, and typically is not set.","pos":[9591,9654]},{"content":"You can change this attribute by using Active Directory Users and Computers, or through a script, for example.","pos":[9655,9765]},{"content":"<bpt id=\"p1\">**</bpt>Script Path<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph><bpt id=\"p2\">**</bpt>:<ept id=\"p2\">**</ept> specifies the path of the account’s logon script.","pos":[9771,9866]},{"content":"If the value of <bpt id=\"p1\">**</bpt>scriptPath<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[9867,9972]},{"content":"For computer objects, it is optional, and typically is not set.","pos":[9973,10036]},{"content":"You can change this attribute by using Active Directory Users and Computers, or through a script, for example.","pos":[10037,10147]},{"content":"<bpt id=\"p1\">**</bpt>Profile Path<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: specifies a path to the account's profile.","pos":[10153,10238]},{"content":"This value can be a null string, a local absolute path, or a UNC path.","pos":[10239,10309]},{"content":"If the value of <bpt id=\"p1\">**</bpt>profilePath<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[10310,10416]},{"content":"For computer objects, it is optional, and typically is not set.","pos":[10417,10480]},{"content":"You can change this attribute by using Active Directory Users and Computers, or through a script, for example.","pos":[10481,10591]},{"content":"<bpt id=\"p1\">**</bpt>User Workstations<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: contains the list of NetBIOS or DNS names of the computers from which the user can logon.","pos":[10597,10734]},{"content":"Each computer name is separated by a comma.","pos":[10735,10778]},{"content":"The name of a computer is the <bpt id=\"p1\">**</bpt>sAMAccountName<ept id=\"p1\">**</ept> property of a computer object.","pos":[10779,10858]},{"content":"If the value of <bpt id=\"p1\">**</bpt>userWorkstations<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[10859,10970]},{"content":"For computer objects, it is optional, and typically is not set.","pos":[10971,11034]},{"content":"You can change this attribute by using Active Directory Users and Computers, or through a script, for example.","pos":[11035,11145]},{"content":"<bpt id=\"p1\">**</bpt>Password Last Set<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph><bpt id=\"p2\">**</bpt>:<ept id=\"p2\">**</ept> last time the account’s password was modified.","pos":[11151,11249]},{"content":"If the value of <bpt id=\"p1\">**</bpt>pwdLastSet<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[11250,11355]},{"content":"For example: 8/12/2015 11:41:39 AM.","pos":[11356,11391]},{"content":"This value will be changed, for example, after manual computer account reset action or automatically every 30 days by default for computer objects.","pos":[11392,11539]},{"content":"<bpt id=\"p1\">**</bpt>Account Expires<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: the date when the account expires.","pos":[11545,11625]},{"content":"If the value of <bpt id=\"p1\">**</bpt>accountExpires<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[11626,11735]},{"content":"For computer objects, it is optional, and typically is not set.","pos":[11736,11799]},{"content":"You can change this attribute by using Active Directory Users and Computers, or through a script, for example.","pos":[11800,11910]},{"pos":[11916,12024],"content":"<bpt id=\"p1\">**</bpt>Primary Group ID<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: Relative Identifier (RID) of computer’s object primary group."},{"pos":[12028,12266],"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph><bpt id=\"p2\">**</bpt>Relative identifier (RID)<ept id=\"p2\">**</ept> is a variable length number that is assigned to objects at creation and becomes part of the object's Security Identifier (SID) that uniquely identifies an account or group within a domain."},{"content":"This field will contain some value if computer’s object primary group was changed.","pos":[12268,12350]},{"content":"You can change computer’s primary group using Active Directory Users and Computers management console in the <bpt id=\"p1\">**</bpt>Member Of<ept id=\"p1\">**</ept> tab of computer object properties.","pos":[12351,12508]},{"content":"You will see a RID of new primary group as a field value.","pos":[12509,12566]},{"content":"For example, 515 (Domain Computers) for workstations, is a default primary group.","pos":[12567,12648]},{"pos":[12650,12705],"content":"Typical <bpt id=\"p1\">**</bpt>Primary Group<ept id=\"p1\">**</ept> values for computer accounts:"},{"content":"516 (Domain Controllers) – for domain controllers.","pos":[12711,12761]},{"content":"521 (Read-only Domain Controllers) – read-only domain controllers (RODC).","pos":[12767,12840]},{"content":"515 (Domain Computers) – servers and workstations.","pos":[12846,12896]},{"content":"See this article <bpt id=\"p1\">&lt;</bpt>https://support.microsoft.com/en-us/kb/243330<ept id=\"p1\">&gt;</ept> for more information.","pos":[12902,12988]},{"content":"If the value of <bpt id=\"p1\">**</bpt>primaryGroupID<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[12989,13098]},{"content":"<bpt id=\"p1\">**</bpt>AllowedToDelegateTo<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: the list of SPNs to which this account can present delegated credentials.","pos":[13114,13237]},{"content":"Can be changed using Active Directory Users and Computers management console in <bpt id=\"p1\">**</bpt>Delegation<ept id=\"p1\">**</ept> tab of computer account.","pos":[13238,13357]},{"content":"If the SPNs list on <bpt id=\"p1\">**</bpt>Delegation<ept id=\"p1\">**</ept> tab of a computer account was changed, you will see the new SPNs list in <bpt id=\"p2\">**</bpt>AllowedToDelegateTo<ept id=\"p2\">**</ept> field (note that you will see the new list instead of changes) of this event.","pos":[13358,13567]},{"content":"This is an example of <bpt id=\"p1\">**</bpt>AllowedToDelegateTo<ept id=\"p1\">**</ept>:","pos":[13568,13614]},{"content":"dcom/WIN2012","pos":[13624,13636]},{"content":"dcom/WIN2012.contoso.local","pos":[13646,13672]},{"pos":[13682,13801],"content":"If the value of <bpt id=\"p1\">**</bpt>msDS-AllowedToDelegateTo<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here."},{"pos":[13811,13895],"content":"The value can be <bpt id=\"p1\">**</bpt><ph id=\"ph1\">&amp;lt;</ph>value not set<ph id=\"ph2\">&amp;gt;</ph><ept id=\"p1\">**</ept>, for example, if delegation was disabled."},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph><bpt id=\"p2\">**</bpt>Service Principal Name (SPN)<ept id=\"p2\">**</ept> is the name by which a client uniquely identifies an instance of a service.","pos":[13899,14027]},{"content":"If you install multiple instances of a service on computers throughout a forest, each instance must have its own SPN.","pos":[14028,14145]},{"content":"A given service instance can have multiple SPNs if there are multiple names that clients might use for authentication.","pos":[14146,14264]},{"content":"For example, an SPN always includes the name of the host computer on which the service instance is running, so a service instance might register an SPN for each name or alias of its host.","pos":[14265,14452]},{"content":"<bpt id=\"p1\">**</bpt>Old UAC Value<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: specifies flags that control password, lockout, disable/enable, script, and other behavior for the user or computer account.","pos":[14458,14626]},{"content":"This parameter contains the previous value of <bpt id=\"p1\">**</bpt>userAccountControl<ept id=\"p1\">**</ept> attribute of computer object.","pos":[14627,14725]},{"content":"<bpt id=\"p1\">**</bpt>New UAC Value<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: specifies flags that control password, lockout, disable/enable, script, and other behavior for the user or computer account.","pos":[14731,14899]},{"content":"If the value of <bpt id=\"p1\">**</bpt>userAccountControl<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[14900,15013]},{"content":"To decode this value, you can go through the property value definitions in the “Table 7.","pos":[15015,15103]},{"content":"User’s or Computer’s account UAC flags.”","pos":[15104,15144]},{"content":"from largest to smallest.","pos":[15145,15170]},{"content":"Compare each property value to the flags value in the event.","pos":[15171,15231]},{"content":"If the flags value in the event is greater than or equal to the property value, then the property is \"set\" and applies to that event.","pos":[15232,15365]},{"content":"Subtract the property value from the flags value in the event and note that the flag applies and then go on to the next flag.","pos":[15366,15491]},{"content":"Here's an example: Flags value from event: 0x15","pos":[15493,15540]},{"content":"Decoding:","pos":[15542,15551]},{"content":"• PASSWD<ph id=\"ph1\">\\_</ph>NOTREQD 0x0020","pos":[15553,15577]},{"content":"• LOCKOUT 0x0010","pos":[15579,15595]},{"content":"• HOMEDIR<ph id=\"ph1\">\\_</ph>REQUIRED 0x0008","pos":[15597,15623]},{"content":"• (undeclared) 0x0004","pos":[15625,15646]},{"content":"• ACCOUNTDISABLE 0x0002","pos":[15648,15671]},{"content":"• SCRIPT 0x0001","pos":[15673,15688]},{"content":"0x0020 <ph id=\"ph1\">&amp;gt;</ph> 0x15, so PASSWD<ph id=\"ph2\">\\_</ph>NOTREQD does not apply to this event","pos":[15690,15755]},{"content":"0x10 <ph id=\"ph1\">&amp;lt;</ph> 0x15, so LOCKOUT applies to this event.","pos":[15757,15806]},{"content":"0x15 - 0x10 = 0x5","pos":[15807,15824]},{"content":"0x4 <ph id=\"ph1\">&amp;lt;</ph> 0x5, so the undeclared value is set.","pos":[15826,15871]},{"content":"We'll pretend it doesn't mean anything.","pos":[15872,15911]},{"content":"0x5 - 0x4 = 0x1","pos":[15912,15927]},{"content":"0x2 <ph id=\"ph1\">&amp;gt;</ph> 0x1, so ACCOUNTDISABLE does not apply to this event","pos":[15929,15989]},{"content":"0x1 = 0x1, so SCRIPT applies to this event.","pos":[15991,16034]},{"content":"0x1 - 0x1 = 0x0, we're done.","pos":[16035,16063]},{"content":"So this UAC flags value decodes to: LOCKOUT and SCRIPT","pos":[16065,16119]},{"content":"<bpt id=\"p1\">**</bpt>User Account Control<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph><bpt id=\"p2\">**</bpt>:<ept id=\"p2\">**</ept> shows the list of changes in <bpt id=\"p3\">**</bpt>userAccountControl<ept id=\"p3\">**</ept> attribute.","pos":[16125,16242]},{"content":"You will see a line of text for each change.","pos":[16243,16287]},{"content":"See possible values in here: “Table 7.","pos":[16288,16326]},{"content":"User’s or Computer’s account UAC flags.”.","pos":[16327,16368]},{"content":"In the “User Account Control field text” column, you can see text that will be displayed in the <bpt id=\"p1\">**</bpt>User Account Control<ept id=\"p1\">**</ept> field in 4742 event.","pos":[16369,16510]},{"pos":[16526,16786],"content":"<bpt id=\"p1\">**</bpt>User Parameters<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: if you change any setting using Active Directory Users and Computers management console in Dial-in tab of computer’s account properties, then you will see <bpt id=\"p2\">**</bpt><ph id=\"ph3\">&amp;lt;</ph>value changed, but not displayed<ph id=\"ph4\">&amp;gt;</ph><ept id=\"p2\">**</ept> in this field."},{"content":"<bpt id=\"p1\">**</bpt>SID History<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: contains previous SIDs used for the object if the object was moved from another domain.","pos":[16792,16921]},{"content":"Whenever an object is moved from one domain to another, a new SID is created and becomes the objectSID.","pos":[16922,17025]},{"content":"The previous SID is added to the <bpt id=\"p1\">**</bpt>sIDHistory<ept id=\"p1\">**</ept> property.","pos":[17026,17083]},{"content":"If the value of <bpt id=\"p1\">**</bpt>sIDHistory<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[17084,17189]},{"content":"<bpt id=\"p1\">**</bpt>Logon Hours<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: hours that the account is allowed to logon to the domain.","pos":[17195,17294]},{"content":"If the value of <bpt id=\"p1\">**</bpt>logonHours<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[17295,17400]},{"content":"For computer objects, it is optional, and typically is not set.","pos":[17401,17464]},{"content":"You can change this attribute by using Active Directory Users and Computers, or through a script, for example.","pos":[17465,17575]},{"content":"<bpt id=\"p1\">**</bpt>DNS Host Name<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: name of computer account as registered in DNS.","pos":[17581,17671]},{"content":"If the value of <bpt id=\"p1\">**</bpt>dNSHostName<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[17672,17778]},{"content":"<bpt id=\"p1\">**</bpt>Service Principal Names<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph><bpt id=\"p2\">**</bpt>:<ept id=\"p2\">**</ept> The list of SPNs, registered for computer account.","pos":[17794,17902]},{"content":"If the SPN list of a computer account changed, you will see the new SPN list in <bpt id=\"p1\">**</bpt>Service Principal Names<ept id=\"p1\">**</ept> field (note that you will see the new list instead of changes).","pos":[17903,18074]},{"content":"If the value of <bpt id=\"p1\">**</bpt>servicePrincipalName<ept id=\"p1\">**</ept> attribute of computer object was changed, you will see the new value here.","pos":[18075,18190]},{"pos":[18196,18352],"content":"Here is an example of <bpt id=\"p1\">**</bpt>Service Principal Names<ept id=\"p1\">**</ept> field for new domain joined workstation in event 4742 on domain controller, after workstation reboots<bpt id=\"p2\">**</bpt>:<ept id=\"p2\">**</ept>"},{"content":"HOST/Win81.contoso.local","pos":[18358,18382]},{"content":"RestrictedKrbHost/Win81.contoso.local","pos":[18388,18425]},{"content":"HOST/WIN81","pos":[18431,18441]},{"content":"RestrictedKrbHost/WIN81","pos":[18447,18470]},{"content":"TERMSRV/Win81.contoso.local","pos":[18472,18499]},{"content":"Additional Information:","pos":[18503,18526]},{"content":"<bpt id=\"p1\">**</bpt>Privileges<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>Type = UnicodeString<ph id=\"ph2\">\\]</ph>: the list of user privileges which were used during the operation, for example, SeBackupPrivilege.","pos":[18534,18672]},{"content":"This parameter might not be captured in the event, and in that case appears as “-”.","pos":[18673,18756]},{"content":"See full list of user privileges in “Table 8.","pos":[18757,18802]},{"content":"User Privileges.”.","pos":[18803,18821]},{"content":"Security Monitoring Recommendations","pos":[18826,18861]},{"content":"For 4742(S): A computer account was changed.","pos":[18863,18907]},{"pos":[18911,19106],"content":"<bpt id=\"p1\">**</bpt>Important<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>For this event, also see <bpt id=\"p2\">[</bpt>Appendix A: Security monitoring recommendations for many audit events<ept id=\"p2\">](appendix-a-security-monitoring-recommendations-for-many-audit-events.md)</ept>."},{"pos":[19112,19416],"content":"If you have critical domain computer accounts (database servers, domain controllers, administration workstations, and so on) for which you need to monitor each change, monitor this event with the <bpt id=\"p1\">**</bpt>“Computer Account That Was Changed<ph id=\"ph1\">\\\\</ph>Security ID”<ept id=\"p1\">**</ept> that corresponds to the high-value account or accounts."},{"content":"If you have computer accounts for which any change in the services list on the <bpt id=\"p1\">**</bpt>Delegation<ept id=\"p1\">**</ept> tab should be monitored, monitor this event when <bpt id=\"p2\">**</bpt>AllowedToDelegateTo<ept id=\"p2\">**</ept> is not -.","pos":[19422,19598]},{"content":"This value means the services list was changed.","pos":[19599,19646]},{"content":"Consider whether to track the following fields and values:","pos":[19652,19710]},{"content":"Field and value to track","pos":[19716,19740]},{"content":"Reason to track","pos":[20041,20056]},{"content":"<bpt id=\"p1\">**</bpt>Display Name<ept id=\"p1\">**</ept> is not -","pos":[20918,20943]},{"content":"<bpt id=\"p1\">**</bpt>User Principal Name<ept id=\"p1\">**</ept> is not -","pos":[20947,20979]},{"content":"<bpt id=\"p1\">**</bpt>Home Directory<ept id=\"p1\">**</ept> is not -","pos":[20983,21010]},{"content":"<bpt id=\"p1\">**</bpt>Home Drive<ept id=\"p1\">**</ept> is not -","pos":[21014,21037]},{"content":"<bpt id=\"p1\">**</bpt>Script Path<ept id=\"p1\">**</ept> is not -","pos":[21041,21065]},{"content":"<bpt id=\"p1\">**</bpt>Profile Path<ept id=\"p1\">**</ept> is not -","pos":[21069,21094]},{"content":"<bpt id=\"p1\">**</bpt>User Workstations<ept id=\"p1\">**</ept> is not -","pos":[21098,21128]},{"content":"<bpt id=\"p1\">**</bpt>Account Expires<ept id=\"p1\">**</ept> is not -","pos":[21132,21160]},{"content":"<bpt id=\"p1\">**</bpt>Logon Hours<ept id=\"p1\">**</ept> is not <bpt id=\"p2\">**</bpt><ph id=\"ph1\">-</ph><ept id=\"p2\">**</ept>","pos":[21164,21192]},{"content":"Typically these fields are <bpt id=\"p1\">**</bpt><ph id=\"ph1\">-</ph><ept id=\"p1\">**</ept> for computer accounts.","pos":[21195,21250]},{"content":"Other values might indicate an anomaly and should be monitored.","pos":[21251,21314]},{"pos":[21472,21529],"content":"<bpt id=\"p1\">**</bpt>Password Last Set<ept id=\"p1\">**</ept> changes occur more often than usual"},{"content":"Changes that are more frequent than the default (typically once a month) might indicate an anomaly or attack.","pos":[21797,21906]},{"pos":[22074,22118],"content":"<bpt id=\"p1\">**</bpt>Primary Group ID<ept id=\"p1\">**</ept> is not 516, 521, or 515"},{"content":"Typically, the <bpt id=\"p1\">**</bpt>Primary Group ID<ept id=\"p1\">**</ept> value is one of the following:","pos":[22399,22465]},{"content":"<bpt id=\"p1\">**</bpt>516<ept id=\"p1\">**</ept> for domain controllers","pos":[22469,22499]},{"content":"<bpt id=\"p1\">**</bpt>521<ept id=\"p1\">**</ept> for read only domain controllers (RODCs)","pos":[22503,22551]},{"content":"<bpt id=\"p1\">**</bpt>515<ept id=\"p1\">**</ept> for servers and workstations (domain computers)","pos":[22555,22610]},{"content":"Other values should be monitored.","pos":[22614,22647]},{"pos":[22652,22811],"content":"For computer accounts for which the services list (on the <bpt id=\"p1\">**</bpt>Delegation<ept id=\"p1\">**</ept> tab) should not be empty: <bpt id=\"p2\">**</bpt>AllowedToDelegateTo<ept id=\"p2\">**</ept> is marked <bpt id=\"p3\">**</bpt><ph id=\"ph1\">&amp;lt;</ph>value not set<ph id=\"ph2\">&amp;gt;</ph> <ept id=\"p3\">**</ept>"},{"pos":[22977,23148],"content":"If <bpt id=\"p1\">**</bpt>AllowedToDelegateTo<ept id=\"p1\">**</ept> is marked <bpt id=\"p2\">**</bpt><ph id=\"ph1\">&amp;lt;</ph>value not set<ph id=\"ph2\">&amp;gt;</ph><ept id=\"p2\">**</ept> on computers that previously had a services list (on the <bpt id=\"p3\">**</bpt>Delegation<ept id=\"p3\">**</ept> tab), it means the list was cleared."},{"pos":[23254,23278],"content":"<bpt id=\"p1\">**</bpt>SID History<ept id=\"p1\">**</ept> is not -"},{"content":"This field will always be set to - unless the account was migrated from another domain.","pos":[23579,23666]},{"content":"Consider whether to track the following account control flags:","pos":[23859,23921]},{"content":"User account control flag to track","pos":[23927,23961]},{"content":"Information about the flag","pos":[23985,24011]},{"pos":[24813,24850],"content":"<bpt id=\"p1\">**</bpt>'Password Not Required'<ept id=\"p1\">**</ept> – Enabled"},{"content":"Should not be set for computer accounts.","pos":[24871,24911]},{"content":"Computer accounts typically require a password by default, except manually created computer objects.","pos":[24912,25012]},{"pos":[25257,25304],"content":"<bpt id=\"p1\">**</bpt>'Encrypted Text Password Allowed'<ept id=\"p1\">**</ept> – Enabled"},{"content":"Should not be set for computer accounts.","pos":[25315,25355]},{"content":"By default, it will not be set, and it cannot be set in the account properties in Active Directory Users and Computers.","pos":[25356,25475]},{"pos":[25701,25737],"content":"<bpt id=\"p1\">**</bpt>'Server Trust Account'<ept id=\"p1\">**</ept> – Enabled"},{"pos":[25759,25809],"content":"Should be enabled <bpt id=\"p1\">**</bpt>only<ept id=\"p1\">**</ept> for domain controllers."},{"pos":[26145,26182],"content":"<bpt id=\"p1\">**</bpt>'Server Trust Account'<ept id=\"p1\">**</ept> – Disabled"},{"pos":[26203,26253],"content":"Should <bpt id=\"p1\">**</bpt>not<ept id=\"p1\">**</ept> be disabled for domain controllers."},{"pos":[26589,26626],"content":"<bpt id=\"p1\">**</bpt>'Don't Expire Password'<ept id=\"p1\">**</ept> – Enabled"},{"content":"Should not be enabled for computer accounts, because the password automatically changes every 30 days by default.","pos":[26647,26760]},{"content":"For computer accounts, this flag cannot be set in the account properties in Active Directory Users and Computers.","pos":[26761,26874]},{"pos":[27033,27067],"content":"<bpt id=\"p1\">**</bpt>'Smartcard Required'<ept id=\"p1\">**</ept> – Enabled"},{"content":"Should not be enabled for computer accounts.","pos":[27091,27135]},{"pos":[27477,27515],"content":"<bpt id=\"p1\">**</bpt>'Trusted For Delegation'<ept id=\"p1\">**</ept> – Enabled"},{"content":"Means that Kerberos Constraint or Unconstraint delegation was enabled for the computer account.","pos":[27535,27630]},{"content":"We recommend monitoring this to discover whether it is an approved action (done by an administrator), a mistake, or a malicious action.","pos":[27631,27766]},{"pos":[27921,27960],"content":"<bpt id=\"p1\">**</bpt>'Trusted For Delegation'<ept id=\"p1\">**</ept> – Disabled"},{"content":"Means that Kerberos Constraint or Unconstraint delegation was disabled for the computer account.","pos":[27979,28075]},{"content":"We recommend monitoring this to discover whether it is an approved action (done by an administrator), a mistake, or a malicious action.","pos":[28076,28211]},{"content":"Also, if you have a list of computer accounts for which delegation is critical and should not be disabled, monitor this for those accounts.","pos":[28215,28354]},{"pos":[28359,28413],"content":"<bpt id=\"p1\">**</bpt>'Trusted To Authenticate For Delegation'<ept id=\"p1\">**</ept> – Enabled"},{"content":"Means that Protocol Transition delegation was enabled for the computer account.","pos":[28417,28496]},{"content":"We recommend monitoring this to discover whether it is an approved action (done by an administrator), a mistake, or a malicious action.","pos":[28497,28632]},{"pos":[28803,28858],"content":"<bpt id=\"p1\">**</bpt>'Trusted To Authenticate For Delegation'<ept id=\"p1\">**</ept> – Disabled"},{"content":"Means that Protocol Transition delegation was disabled for the computer account.","pos":[28861,28941]},{"content":"We recommend monitoring this to discover whether it is an approved action (done by an administrator), a mistake, or a malicious action.","pos":[28942,29077]},{"content":"Also, if you have a list of computer accounts for which delegation is critical and should not be disabled, monitor this for those accounts.","pos":[29081,29220]},{"pos":[29241,29270],"content":"<bpt id=\"p1\">**</bpt>'Not Delegated'<ept id=\"p1\">**</ept> – Enabled"},{"content":"Means that <bpt id=\"p1\">**</bpt>Account is sensitive and cannot be delegated<ept id=\"p1\">**</ept> was selected for the computer account.","pos":[29299,29397]},{"content":"For computer accounts, this flag cannot be set using the graphical interface.","pos":[29398,29475]},{"content":"We recommend monitoring this to discover whether it is an approved action (done by an administrator), a mistake, or a malicious action.","pos":[29476,29611]},{"pos":[29685,29717],"content":"<bpt id=\"p1\">**</bpt>'Use DES Key Only'<ept id=\"p1\">**</ept> – Enabled"},{"content":"Should not be enabled for computer accounts.","pos":[29743,29787]},{"content":"For computer accounts, it cannot be set in the account properties in Active Directory Users and Computers.","pos":[29788,29894]},{"pos":[30129,30166],"content":"<bpt id=\"p1\">**</bpt>'Don't Require Preauth'<ept id=\"p1\">**</ept> - Enabled"},{"content":"Should not be enabled for computer accounts.","pos":[30187,30231]},{"content":"For computer accounts, it cannot be set in the account properties in Active Directory Users and Computers.","pos":[30232,30338]}],"content":"---\ntitle: 4742(S) A computer account was changed. (Windows 10)\ndescription: Describes security event 4742(S) A computer account was changed.\nms.pagetype: security\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nauthor: Mir0sh\n---\n\n# 4742(S): A computer account was changed.\n\n**Applies to**\n-   Windows 10\n-   Windows Server 2016\n\n\n<img src=\"images/event-4742.png\" alt=\"Event 4742 illustration\" width=\"449\" height=\"781\" hspace=\"10\" align=\"left\" />\n\n***Subcategory:***&nbsp;[Audit Computer Account Management](audit-computer-account-management.md)\n\n***Event Description:***\n\nThis event generates every time a computer object is changed.\n\nThis event generates only on domain controllers.\n\nYou might see the same values for **Subject**\\\\**Security ID** and **Computer Account That Was Changed**\\\\**Security ID** in this event. This usually happens when you reboot a computer after adding it to the domain (the change takes effect after the reboot).\n\nFor each change, a separate 4742 event will be generated.\n\nSome changes do not invoke a 4742 event, for example, changes made using Active Directory Users and Computers management console in **Managed By** tab in computer account properties.\n\nYou might see this event without any changes inside, that is, where all **Changed Attributes** apear as “-“. This usually happens when a change is made to an attribute that is not listed in the event. In this case there is no way to determine which attribute was changed. For example, this would happen if you change the **Description** of a group object using the Active Directory Users and Computers administrative console. Also, if the [discretionary access control list](https://msdn.microsoft.com/en-us/library/windows/desktop/aa374872(v=vs.85).aspx) (DACL) is changed, a 4742 event will generate, but all attributes will be “-“.\n\n***Important*:** If you manually change any user-related setting or attribute, for example if you set the SMARTCARD\\_REQUIRED flag in **userAccountControl** for the computer account, then the **sAMAccountType** of the computer account will be changed to NORMAL\\_USER\\_ACCOUNT and you will get “[4738](event-4738.md): A user account was changed” instead of 4742 for this computer account. Essentially, the computer account will “become” a user account. For NORMAL\\_USER\\_ACCOUNT you will always get events from [Audit User Account Management](audit-user-account-management.md) subcategory. We strongly recommend that you avoid changing any user-related settings manually for computer objects.\n\n> **Note**&nbsp;&nbsp;For recommendations, see [Security Monitoring Recommendations](#security-monitoring-recommendations) for this event.\n\n<br clear=\"all\">\n\n***Event XML:***\n```\n- <Event xmlns=\"http://schemas.microsoft.com/win/2004/08/events/event\">\n- <System>\n <Provider Name=\"Microsoft-Windows-Security-Auditing\" Guid=\"{54849625-5478-4994-A5BA-3E3B0328C30D}\" /> \n <EventID>4742</EventID> \n <Version>0</Version> \n <Level>0</Level> \n <Task>13825</Task> \n <Opcode>0</Opcode> \n <Keywords>0x8020000000000000</Keywords> \n <TimeCreated SystemTime=\"2015-08-14T02:35:01.252397000Z\" /> \n <EventRecordID>171754</EventRecordID> \n <Correlation /> \n <Execution ProcessID=\"520\" ThreadID=\"1108\" /> \n <Channel>Security</Channel> \n <Computer>DC01.contoso.local</Computer> \n <Security /> \n </System>\n- <EventData>\n <Data Name=\"ComputerAccountChange\">-</Data> \n <Data Name=\"TargetUserName\">WIN81$</Data> \n <Data Name=\"TargetDomainName\">CONTOSO</Data> \n <Data Name=\"TargetSid\">S-1-5-21-3457937927-2839227994-823803824-6116</Data> \n <Data Name=\"SubjectUserSid\">S-1-5-21-3457937927-2839227994-823803824-1104</Data> \n <Data Name=\"SubjectUserName\">dadmin</Data> \n <Data Name=\"SubjectDomainName\">CONTOSO</Data> \n <Data Name=\"SubjectLogonId\">0x2e80c</Data> \n <Data Name=\"PrivilegeList\">-</Data> \n <Data Name=\"SamAccountName\">-</Data> \n <Data Name=\"DisplayName\">-</Data> \n <Data Name=\"UserPrincipalName\">-</Data> \n <Data Name=\"HomeDirectory\">-</Data> \n <Data Name=\"HomePath\">-</Data> \n <Data Name=\"ScriptPath\">-</Data> \n <Data Name=\"ProfilePath\">-</Data> \n <Data Name=\"UserWorkstations\">-</Data> \n <Data Name=\"PasswordLastSet\">-</Data> \n <Data Name=\"AccountExpires\">-</Data> \n <Data Name=\"PrimaryGroupId\">-</Data> \n <Data Name=\"AllowedToDelegateTo\">%%1793</Data> \n <Data Name=\"OldUacValue\">0x80</Data> \n <Data Name=\"NewUacValue\">0x2080</Data> \n <Data Name=\"UserAccountControl\">%%2093</Data> \n <Data Name=\"UserParameters\">-</Data> \n <Data Name=\"SidHistory\">-</Data> \n <Data Name=\"LogonHours\">-</Data> \n <Data Name=\"DnsHostName\">-</Data> \n <Data Name=\"ServicePrincipalNames\">-</Data> \n </EventData>\n </Event>\n\n```\n\n***Required Server Roles:*** Active Directory domain controller.\n\n***Minimum OS Version:*** Windows Server 2008.\n\n***Event Versions:*** 0.\n\n***Field Descriptions:***\n\n**Subject:**\n\n-   **Security ID** \\[Type = SID\\]**:** SID of account that requested the “change Computer object” operation. Event Viewer automatically tries to resolve SIDs and show the account name. If the SID cannot be resolved, you will see the source data in the event.\n\n> **Note**&nbsp;&nbsp;A **security identifier (SID)** is a unique value of variable length used to identify a trustee (security principal). Each account has a unique SID that is issued by an authority, such as an Active Directory domain controller, and stored in a security database. Each time a user logs on, the system retrieves the SID for that user from the database and places it in the access token for that user. The system uses the SID in the access token to identify the user in all subsequent interactions with Windows security. When a SID has been used as the unique identifier for a user or group, it cannot ever be used again to identify another user or group. For more information about SIDs, see [Security identifiers](security-identifiers.md).\n\n-   **Account Name** \\[Type = UnicodeString\\]**:** the name of the account that requested the “change Computer object” operation.\n\n-   **Account Domain** \\[Type = UnicodeString\\]**:** subject’s domain name. Formats vary, and include the following:\n\n    -   Domain NETBIOS name example: CONTOSO\n\n    -   Lowercase full domain name: contoso.local\n\n    -   Uppercase full domain name: CONTOSO.LOCAL\n\n    -   For some [well-known security principals](https://support.microsoft.com/en-us/kb/243330), such as LOCAL SERVICE or ANONYMOUS LOGON, the value of this field is “NT AUTHORITY”.\n\n-   **Logon ID** \\[Type = HexInt64\\]**:** hexadecimal value that can help you correlate this event with recent events that might contain the same Logon ID, for example, “[4624](event-4624.md): An account was successfully logged on.”\n\n**Computer Account That Was Changed:**\n\n-   **Security ID** \\[Type = SID\\]**:** SID of changed computer account. Event Viewer automatically tries to resolve SIDs and show the account name. If the SID cannot be resolved, you will see the source data in the event.\n\n-   **Account Name** \\[Type = UnicodeString\\]**:** the name of the computer account that was changed. For example: WIN81$\n\n-   **Account Domain** \\[Type = UnicodeString\\]**:** domain name of changed computer account. Formats vary, and include the following:\n\n    -   Domain NETBIOS name example: CONTOSO\n\n    -   Lowercase full domain name: contoso.local\n\n    -   Uppercase full domain name: CONTOSO.LOCAL\n\n**Changed Attributes:**\n\n> **Note**&nbsp;&nbsp;If attribute was not changed it will have “-“ value.\n\n-   **SAM Account Name** \\[Type = UnicodeString\\]: logon name for account used to support clients and servers from previous versions of Windows (pre-Windows 2000 logon name). If the value of **sAMAccountName** attribute of computer object was changed, you will see the new value here. For example: WIN8$.\n\n-   **Display Name** \\[Type = UnicodeString\\]: it is a name displayed in the address book for a particular account (typically – user account). This is usually the combination of the user's first name, middle initial, and last name. For computer objects, it is optional, and typically is not set. You can change this attribute by using Active Directory Users and Computers, or through a script, for example. If the value of **displayName** attribute of computer object was changed, you will see the new value here.\n\n-   **User Principal Name** \\[Type = UnicodeString\\]: internet-style login name for the account, based on the Internet standard RFC 822. By convention this should map to the account's email name. If the value of **userPrincipalName** attribute of computer object was changed, you will see the new value here. For computer objects, it is optional, and typically is not set. You can change this attribute by using Active Directory Users and Computers, or through a script, for example.\n\n-   **Home Directory** \\[Type = UnicodeString\\]: user's home directory. If **homeDrive** attribute is set and specifies a drive letter, **homeDirectory** should be a UNC path. The path must be a network UNC of the form \\\\\\\\Server\\\\Share\\\\Directory. If the value of **homeDirectory** attribute of computer object was changed, you will see the new value here. For computer objects, it is optional, and typically is not set. You can change this attribute by using Active Directory Users and Computers, or through a script, for example.\n\n-   **Home Drive** \\[Type = UnicodeString\\]**:** specifies the drive letter to which to map the UNC path specified by **homeDirectory** account’s attribute. The drive letter must be specified in the form “DRIVE\\_LETTER:”. For example – “H:”. If the value of **homeDrive** attribute of computer object was changed, you will see the new value here. For computer objects, it is optional, and typically is not set. You can change this attribute by using Active Directory Users and Computers, or through a script, for example.\n\n-   **Script Path** \\[Type = UnicodeString\\]**:** specifies the path of the account’s logon script. If the value of **scriptPath** attribute of computer object was changed, you will see the new value here. For computer objects, it is optional, and typically is not set. You can change this attribute by using Active Directory Users and Computers, or through a script, for example.\n\n-   **Profile Path** \\[Type = UnicodeString\\]: specifies a path to the account's profile. This value can be a null string, a local absolute path, or a UNC path. If the value of **profilePath** attribute of computer object was changed, you will see the new value here. For computer objects, it is optional, and typically is not set. You can change this attribute by using Active Directory Users and Computers, or through a script, for example.\n\n-   **User Workstations** \\[Type = UnicodeString\\]: contains the list of NetBIOS or DNS names of the computers from which the user can logon. Each computer name is separated by a comma. The name of a computer is the **sAMAccountName** property of a computer object. If the value of **userWorkstations** attribute of computer object was changed, you will see the new value here. For computer objects, it is optional, and typically is not set. You can change this attribute by using Active Directory Users and Computers, or through a script, for example.\n\n-   **Password Last Set** \\[Type = UnicodeString\\]**:** last time the account’s password was modified. If the value of **pwdLastSet** attribute of computer object was changed, you will see the new value here. For example: 8/12/2015 11:41:39 AM. This value will be changed, for example, after manual computer account reset action or automatically every 30 days by default for computer objects.\n\n-   **Account Expires** \\[Type = UnicodeString\\]: the date when the account expires. If the value of **accountExpires** attribute of computer object was changed, you will see the new value here. For computer objects, it is optional, and typically is not set. You can change this attribute by using Active Directory Users and Computers, or through a script, for example.\n\n-   **Primary Group ID** \\[Type = UnicodeString\\]: Relative Identifier (RID) of computer’s object primary group.\n\n> **Note**&nbsp;&nbsp;**Relative identifier (RID)** is a variable length number that is assigned to objects at creation and becomes part of the object's Security Identifier (SID) that uniquely identifies an account or group within a domain.\n\nThis field will contain some value if computer’s object primary group was changed. You can change computer’s primary group using Active Directory Users and Computers management console in the **Member Of** tab of computer object properties. You will see a RID of new primary group as a field value. For example, 515 (Domain Computers) for workstations, is a default primary group.\n\nTypical **Primary Group** values for computer accounts:\n\n-   516 (Domain Controllers) – for domain controllers.\n\n-   521 (Read-only Domain Controllers) – read-only domain controllers (RODC).\n\n-   515 (Domain Computers) – servers and workstations.\n\n    See this article <https://support.microsoft.com/en-us/kb/243330> for more information. If the value of **primaryGroupID** attribute of computer object was changed, you will see the new value here.\n\n<!-- -->\n\n-   **AllowedToDelegateTo** \\[Type = UnicodeString\\]: the list of SPNs to which this account can present delegated credentials. Can be changed using Active Directory Users and Computers management console in **Delegation** tab of computer account. If the SPNs list on **Delegation** tab of a computer account was changed, you will see the new SPNs list in **AllowedToDelegateTo** field (note that you will see the new list instead of changes) of this event. This is an example of **AllowedToDelegateTo**:\n\n    -   dcom/WIN2012\n\n    -   dcom/WIN2012.contoso.local\n\n        If the value of **msDS-AllowedToDelegateTo** attribute of computer object was changed, you will see the new value here.\n\n        The value can be **&lt;value not set&gt;**, for example, if delegation was disabled.\n\n> **Note**&nbsp;&nbsp;**Service Principal Name (SPN)** is the name by which a client uniquely identifies an instance of a service. If you install multiple instances of a service on computers throughout a forest, each instance must have its own SPN. A given service instance can have multiple SPNs if there are multiple names that clients might use for authentication. For example, an SPN always includes the name of the host computer on which the service instance is running, so a service instance might register an SPN for each name or alias of its host.\n\n-   **Old UAC Value** \\[Type = UnicodeString\\]: specifies flags that control password, lockout, disable/enable, script, and other behavior for the user or computer account. This parameter contains the previous value of **userAccountControl** attribute of computer object.\n\n-   **New UAC Value** \\[Type = UnicodeString\\]: specifies flags that control password, lockout, disable/enable, script, and other behavior for the user or computer account. If the value of **userAccountControl** attribute of computer object was changed, you will see the new value here.\n\nTo decode this value, you can go through the property value definitions in the “Table 7. User’s or Computer’s account UAC flags.” from largest to smallest. Compare each property value to the flags value in the event. If the flags value in the event is greater than or equal to the property value, then the property is \"set\" and applies to that event. Subtract the property value from the flags value in the event and note that the flag applies and then go on to the next flag.\n\nHere's an example: Flags value from event: 0x15\n\nDecoding:\n\n• PASSWD\\_NOTREQD 0x0020\n\n• LOCKOUT 0x0010\n\n• HOMEDIR\\_REQUIRED 0x0008\n\n• (undeclared) 0x0004\n\n• ACCOUNTDISABLE 0x0002\n\n• SCRIPT 0x0001\n\n0x0020 &gt; 0x15, so PASSWD\\_NOTREQD does not apply to this event\n\n0x10 &lt; 0x15, so LOCKOUT applies to this event. 0x15 - 0x10 = 0x5\n\n0x4 &lt; 0x5, so the undeclared value is set. We'll pretend it doesn't mean anything. 0x5 - 0x4 = 0x1\n\n0x2 &gt; 0x1, so ACCOUNTDISABLE does not apply to this event\n\n0x1 = 0x1, so SCRIPT applies to this event. 0x1 - 0x1 = 0x0, we're done.\n\nSo this UAC flags value decodes to: LOCKOUT and SCRIPT\n\n-   **User Account Control** \\[Type = UnicodeString\\]**:** shows the list of changes in **userAccountControl** attribute. You will see a line of text for each change. See possible values in here: “Table 7. User’s or Computer’s account UAC flags.”. In the “User Account Control field text” column, you can see text that will be displayed in the **User Account Control** field in 4742 event.\n\n<!-- -->\n\n-   **User Parameters** \\[Type = UnicodeString\\]: if you change any setting using Active Directory Users and Computers management console in Dial-in tab of computer’s account properties, then you will see **&lt;value changed, but not displayed&gt;** in this field.\n\n-   **SID History** \\[Type = UnicodeString\\]: contains previous SIDs used for the object if the object was moved from another domain. Whenever an object is moved from one domain to another, a new SID is created and becomes the objectSID. The previous SID is added to the **sIDHistory** property. If the value of **sIDHistory** attribute of computer object was changed, you will see the new value here.\n\n-   **Logon Hours** \\[Type = UnicodeString\\]: hours that the account is allowed to logon to the domain. If the value of **logonHours** attribute of computer object was changed, you will see the new value here. For computer objects, it is optional, and typically is not set. You can change this attribute by using Active Directory Users and Computers, or through a script, for example.\n\n-   **DNS Host Name** \\[Type = UnicodeString\\]: name of computer account as registered in DNS. If the value of **dNSHostName** attribute of computer object was changed, you will see the new value here.\n\n<!-- -->\n\n-   **Service Principal Names** \\[Type = UnicodeString\\]**:** The list of SPNs, registered for computer account. If the SPN list of a computer account changed, you will see the new SPN list in **Service Principal Names** field (note that you will see the new list instead of changes). If the value of **servicePrincipalName** attribute of computer object was changed, you will see the new value here.\n\n    Here is an example of **Service Principal Names** field for new domain joined workstation in event 4742 on domain controller, after workstation reboots**:**\n\n    HOST/Win81.contoso.local\n\n    RestrictedKrbHost/Win81.contoso.local\n\n    HOST/WIN81\n\n    RestrictedKrbHost/WIN81\n\nTERMSRV/Win81.contoso.local\n\n**Additional Information:**\n\n-   **Privileges** \\[Type = UnicodeString\\]: the list of user privileges which were used during the operation, for example, SeBackupPrivilege. This parameter might not be captured in the event, and in that case appears as “-”. See full list of user privileges in “Table 8. User Privileges.”.\n\n## Security Monitoring Recommendations\n\nFor 4742(S): A computer account was changed.\n\n> **Important**&nbsp;&nbsp;For this event, also see [Appendix A: Security monitoring recommendations for many audit events](appendix-a-security-monitoring-recommendations-for-many-audit-events.md).\n\n-   If you have critical domain computer accounts (database servers, domain controllers, administration workstations, and so on) for which you need to monitor each change, monitor this event with the **“Computer Account That Was Changed\\\\Security ID”** that corresponds to the high-value account or accounts.\n\n-   If you have computer accounts for which any change in the services list on the **Delegation** tab should be monitored, monitor this event when **AllowedToDelegateTo** is not -. This value means the services list was changed.\n\n-   Consider whether to track the following fields and values:\n\n| **Field and value to track**                                                                                                                                                                                                                                                                                                       | **Reason to track**                                                                                                                                                                                                                                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| **Display Name** is not -<br>**User Principal Name** is not -<br>**Home Directory** is not -<br>**Home Drive** is not -<br>**Script Path** is not -<br>**Profile Path** is not -<br>**User Workstations** is not -<br>**Account Expires** is not -<br>**Logon Hours** is not **-** | Typically these fields are **-** for computer accounts. Other values might indicate an anomaly and should be monitored.                                                                                                                                                          |\n| **Password Last Set** changes occur more often than usual                                                                                                                                                                                                                                                                          | Changes that are more frequent than the default (typically once a month) might indicate an anomaly or attack.                                                                                                                                                                    |\n| **Primary Group ID** is not 516, 521, or 515                                                                                                                                                                                                                                                                                       | Typically, the **Primary Group ID** value is one of the following:<br>**516** for domain controllers<br>**521** for read only domain controllers (RODCs)<br>**515** for servers and workstations (domain computers)<br>Other values should be monitored. |\n| For computer accounts for which the services list (on the **Delegation** tab) should not be empty: **AllowedToDelegateTo** is marked **&lt;value not set&gt; **                                                                                                                                                                    | If **AllowedToDelegateTo** is marked **&lt;value not set&gt;** on computers that previously had a services list (on the **Delegation** tab), it means the list was cleared.                                                                                                      |\n| **SID History** is not -                                                                                                                                                                                                                                                                                                           | This field will always be set to - unless the account was migrated from another domain.                                                                                                                                                                                          |\n\n-   Consider whether to track the following account control flags:\n\n| **User account control flag to track**                  | **Information about the flag**                                                                                                                                                                                                                                                                                                                                                                |\n|---------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| **'Password Not Required'** – Enabled                   | Should not be set for computer accounts. Computer accounts typically require a password by default, except manually created computer objects.                                                                                                                                                                                                                                                 |\n| **'Encrypted Text Password Allowed'** – Enabled         | Should not be set for computer accounts. By default, it will not be set, and it cannot be set in the account properties in Active Directory Users and Computers.                                                                                                                                                                                                                              |\n| **'Server Trust Account'** – Enabled                    | Should be enabled **only** for domain controllers.                                                                                                                                                                                                                                                                                                                                            |\n| **'Server Trust Account'** – Disabled                   | Should **not** be disabled for domain controllers.                                                                                                                                                                                                                                                                                                                                            |\n| **'Don't Expire Password'** – Enabled                   | Should not be enabled for computer accounts, because the password automatically changes every 30 days by default. For computer accounts, this flag cannot be set in the account properties in Active Directory Users and Computers.                                                                                                                                                           |\n| **'Smartcard Required'** – Enabled                      | Should not be enabled for computer accounts.                                                                                                                                                                                                                                                                                                                                                  |\n| **'Trusted For Delegation'** – Enabled                  | Means that Kerberos Constraint or Unconstraint delegation was enabled for the computer account. We recommend monitoring this to discover whether it is an approved action (done by an administrator), a mistake, or a malicious action.                                                                                                                                                       |\n| **'Trusted For Delegation'** – Disabled                 | Means that Kerberos Constraint or Unconstraint delegation was disabled for the computer account. We recommend monitoring this to discover whether it is an approved action (done by an administrator), a mistake, or a malicious action.<br>Also, if you have a list of computer accounts for which delegation is critical and should not be disabled, monitor this for those accounts. |\n| **'Trusted To Authenticate For Delegation'** – Enabled  | Means that Protocol Transition delegation was enabled for the computer account. We recommend monitoring this to discover whether it is an approved action (done by an administrator), a mistake, or a malicious action.                                                                                                                                                                       |\n| **'Trusted To Authenticate For Delegation'** – Disabled | Means that Protocol Transition delegation was disabled for the computer account. We recommend monitoring this to discover whether it is an approved action (done by an administrator), a mistake, or a malicious action.<br>Also, if you have a list of computer accounts for which delegation is critical and should not be disabled, monitor this for those accounts.                 |\n| **'Not Delegated'** – Enabled                           | Means that **Account is sensitive and cannot be delegated** was selected for the computer account. For computer accounts, this flag cannot be set using the graphical interface. We recommend monitoring this to discover whether it is an approved action (done by an administrator), a mistake, or a malicious action.                                                                      |\n| **'Use DES Key Only'** – Enabled                        | Should not be enabled for computer accounts. For computer accounts, it cannot be set in the account properties in Active Directory Users and Computers.                                                                                                                                                                                                                                       |\n| **'Don't Require Preauth'** - Enabled                   | Should not be enabled for computer accounts. For computer accounts, it cannot be set in the account properties in Active Directory Users and Computers.                                                                                                                                                                                                                                       |\n\n"}