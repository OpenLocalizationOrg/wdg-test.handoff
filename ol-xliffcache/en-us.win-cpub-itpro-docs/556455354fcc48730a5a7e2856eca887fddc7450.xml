{"nodes":[{"content":"BitLocker basic deployment (Windows 10)","pos":[11,50]},{"content":"This topic for the IT professional explains how BitLocker features can be used to protect your data through drive encryption.","pos":[64,189]},{"content":"BitLocker basic deployment","pos":[345,371]},{"content":"Applies to","pos":[375,385]},{"content":"Windows 10","pos":[392,402]},{"content":"This topic for the IT professional explains how BitLocker features can be used to protect your data through drive encryption.","pos":[404,529]},{"content":"The following sections provide information that will help you put together your basic deployment plan for implementing BitLocker in your organization:","pos":[531,681]},{"content":"Using BitLocker to encrypt volumes","pos":[688,722]},{"content":"Down-level compatibility","pos":[741,765]},{"content":"Using manage-bde to encrypt volumes with BitLocker","pos":[784,834]},{"content":"Using PowerShell to encrypt volumes with BitLocker","pos":[853,903]},{"pos":[951,985],"content":"Using BitLocker to encrypt volumes"},{"content":"BitLocker provides full volume encryption (FVE) for operating system volumes, as well as fixed and removable data volumes.","pos":[987,1109]},{"content":"To support fully encrypted operating system volumes, BitLocker uses an unencrypted system volume for the files required to boot, decrypt, and load the operating system.","pos":[1110,1278]},{"content":"This volume is automatically created during a new installation of both client and server operating systems.","pos":[1279,1386]},{"content":"In the event that the drive was prepared as a single contiguous space, BitLocker requires a new volume to hold the boot files.","pos":[1388,1514]},{"content":"BdeHdCfg.exe can create these volumes.","pos":[1515,1553]},{"pos":[1557,1702],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept>  For more info about using this tool, see <bpt id=\"p2\">[</bpt>Bdehdcfg<ept id=\"p2\">](http://technet.microsoft.com/library/ee732026.aspx)</ept> in the Command-Line Reference."},{"content":"BitLocker encryption can be done using the following methods:","pos":[1705,1766]},{"content":"BitLocker control panel","pos":[1772,1795]},{"content":"Windows Explorer","pos":[1800,1816]},{"content":"manage-bde command line interface","pos":[1821,1854]},{"content":"BitLocker Windows PowerShell cmdlets","pos":[1859,1895]},{"content":"Encrypting volumes using the BitLocker control panel","pos":[1901,1953]},{"content":"Encrypting volumes with the BitLocker control panel is how many users will utilize BitLocker.","pos":[1955,2048]},{"content":"The name of the BitLocker control panel is BitLocker Drive Encryption.","pos":[2049,2119]},{"content":"The BitLocker control panel supports encrypting operating system, fixed data and removable data volumes.","pos":[2120,2224]},{"content":"The BitLocker control panel will organize available drives in the appropriate category based on how the device reports itself to Windows.","pos":[2225,2362]},{"content":"Only formatted volumes with assigned drive letters will appear properly in the BitLocker control panel applet.","pos":[2363,2473]},{"content":"To start encryption for a volume, select <bpt id=\"p1\">**</bpt>Turn on BitLocker<ept id=\"p1\">**</ept> for the appropriate drive to initialize the BitLocker Drive Encryption Wizard.","pos":[2474,2615]},{"content":"BitLocker Drive Encryption Wizard options vary based on volume type (operating system volume or data volume).","pos":[2616,2725]},{"content":"Operating system volume","pos":[2731,2754]},{"content":"Upon launch, the BitLocker Drive Encryption Wizard verifies the computer meets the BitLocker system requirements for encrypting an operating system volume.","pos":[2756,2911]},{"content":"By default, the system requirements are:","pos":[2912,2952]},{"content":"Requirement","pos":[3069,3080]},{"content":"Description","pos":[3103,3114]},{"content":"Hardware configuration","pos":[3180,3202]},{"content":"The computer must meet the minimum requirements for the supported Windows versions.","pos":[3232,3315]},{"content":"Operating system","pos":[3369,3385]},{"content":"BitLocker is an optional feature which can be installed by Server Manager on Windows Server 2012 and later.","pos":[3415,3522]},{"content":"Hardware TPM","pos":[3575,3587]},{"content":"TPM version 1.2 or 2.0","pos":[3617,3639]},{"content":"A TPM is not required for BitLocker; however, only a computer with a TPM can provide the additional security of pre-startup system integrity verification and multifactor authentication.","pos":[3647,3832]},{"content":"BIOS configuration","pos":[3886,3904]},{"content":"A Trusted Computing Group (TCG)-compliant BIOS or UEFI firmware.","pos":[3943,4007]},{"content":"The boot order must be set to start first from the hard disk, and not the USB or CD drives.","pos":[4024,4115]},{"content":"The firmware must be able to read from a USB flash drive during startup.","pos":[4132,4204]},{"content":"File system","pos":[4268,4279]},{"content":"For computers that boot natively with UEFI firmware, at least one FAT32 partition for the system drive and one NTFS partition for the operating system drive.","pos":[4309,4466]},{"content":"For computers with legacy BIOS firmware, at least two NTFS disk partitions, one for the system drive and one for the operating system drive.","pos":[4474,4614]},{"content":"For either firmware, the system drive partition must be at least 350 megabytes (MB) and set as the active partition.","pos":[4622,4738]},{"content":"Hardware encrypted drive prerequisites (optional)","pos":[4792,4841]},{"content":"To use a hardware encrypted drive as the boot drive, the drive must be in the uninitialized state and in the security inactive state.","pos":[4871,5004]},{"content":"In addition, the system must always boot with native UEFI version 2.3.1 or higher and the CSM (if any) disabled.","pos":[5005,5117]},{"content":"Upon passing the initial configuration, users are required to enter a password for the volume.","pos":[5153,5247]},{"content":"If the volume does not pass the initial configuration for BitLocker, the user is presented with an error dialog describing the appropriate actions to be taken.","pos":[5248,5407]},{"content":"Once a strong password has been created for the volume, a recovery key will be generated.","pos":[5408,5497]},{"content":"The BitLocker Drive Encryption Wizard will prompt for a location to save this key.","pos":[5498,5580]},{"content":"A BitLocker recovery key is a special key that you can create when you turn on BitLocker Drive Encryption for the first time on each drive that you encrypt.","pos":[5581,5737]},{"content":"You can use the recovery key to gain access to your computer if the drive that Windows is installed on (the operating system drive) is encrypted using BitLocker Drive Encryption and BitLocker detects a condition that prevents it from unlocking the drive when the computer is starting up.","pos":[5738,6025]},{"content":"A recovery key can also be used to gain access to your files and folders on a removable data drive (such as an external hard drive or USB flash drive) that is encrypted using BitLocker To Go, if for some reason you forget the password or your computer cannot access the drive.","pos":[6026,6302]},{"content":"You should store the recovery key by printing it, saving it on removable media, or saving it as a file in a network folder or on your OneDrive, or on another drive of your computer that you are not encrypting.","pos":[6304,6513]},{"content":"You cannot save the recovery key to the root directory of a non-removable drive and cannot be stored on the encrypted volume.","pos":[6514,6639]},{"content":"You cannot save the recovery key for a removable data drive (such as a USB flash drive) on removable media.","pos":[6640,6747]},{"content":"Ideally, you should store the recovery key separate from your computer.","pos":[6748,6819]},{"content":"After you create a recovery key, you can use the BitLocker control panel to make additional copies.","pos":[6820,6919]},{"content":"When the recovery key has been properly stored, the BitLocker Drive Encryption Wizard will prompt the user to choose how to encrypt the drive.","pos":[6921,7063]},{"content":"There are two options:","pos":[7064,7086]},{"content":"Encrypt used disk space only - Encrypts only disk space that contains data","pos":[7092,7166]},{"content":"Encrypt entire drive - Encrypts the entire volume including free space","pos":[7171,7241]},{"pos":[7243,7444],"content":"It is recommended that drives with little to no data utilize the <bpt id=\"p1\">**</bpt>used disk space only<ept id=\"p1\">**</ept> encryption option and that drives with data or an operating system utilize the <bpt id=\"p2\">**</bpt>encrypt entire drive<ept id=\"p2\">**</ept> option."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept>  Deleted files appear as free space to the file system, which is not encrypted by <bpt id=\"p2\">**</bpt>used disk space only<ept id=\"p2\">**</ept>.","pos":[7448,7565]},{"content":"Until they are wiped or overwritten, deleted files hold information that could be recovered with common data forensic tools.","pos":[7566,7690]},{"content":"Selecting an encryption type and choosing <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> will give the user the option of running a BitLocker system check (selected by default) which will ensure that BitLocker can properly access the recovery and encryption keys before the volume encryption begins.","pos":[7693,7954]},{"content":"It is recommended to run this system check before starting the encryption process.","pos":[7955,8037]},{"content":"If the system check is not run and a problem is encountered when the operating system attempts to start, the user will need to provide the recovery key to start Windows.","pos":[8038,8207]},{"content":"After completing the system check (if selected), the BitLocker Drive Encryption Wizard will restart the computer to begin encryption.","pos":[8209,8342]},{"content":"Upon reboot, users are required to enter the password chosen to boot into the operating system volume.","pos":[8343,8445]},{"content":"Users can check encryption status by checking the system notification area or the BitLocker control panel.","pos":[8446,8552]},{"content":"Until encryption is completed, the only available options for managing BitLocker involve manipulation of the password protecting the operating system volume, backing up the recovery key, and turning BitLocker off.","pos":[8554,8767]},{"content":"Data volume","pos":[8773,8784]},{"content":"Encrypting data volumes using the BitLocker control panel interface works in a similar fashion to encryption of the operating system volumes.","pos":[8786,8927]},{"content":"Users select <bpt id=\"p1\">**</bpt>Turn on BitLocker<ept id=\"p1\">**</ept> within the control panel to begin the BitLocker Drive Encryption wizard.","pos":[8928,9035]},{"content":"Unlike for operating system volumes, data volumes are not required to pass any configuration tests for the wizard to proceed.","pos":[9036,9161]},{"content":"Upon launching the wizard, a choice of authentication methods to unlock the drive appears.","pos":[9162,9252]},{"content":"The available options are <bpt id=\"p1\">**</bpt>password<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>smart card<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>automatically unlock this drive on this computer<ept id=\"p3\">**</ept>.","pos":[9253,9368]},{"content":"Disabled by default, the latter option will unlock the data volume without user input when the operating system volume is unlocked.","pos":[9369,9500]},{"content":"After selecting the desired authentication method and choosing <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>, the wizard presents options for storage of the recovery key.","pos":[9502,9635]},{"content":"These options are the same as for operating system volumes.","pos":[9636,9695]},{"content":"With the recovery key saved, selecting <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> in the wizard will show available options for encryption.","pos":[9696,9801]},{"content":"These options are the same as for operating system volumes; <bpt id=\"p1\">**</bpt>used disk space only<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>full drive encryption<ept id=\"p2\">**</ept>.","pos":[9802,9917]},{"content":"If the volume being encrypted is new or empty, it is recommended that used space only encryption is selected.","pos":[9918,10027]},{"content":"With an encryption method chosen, a final confirmation screen displays before beginning the encryption process.","pos":[10029,10140]},{"content":"Selecting <bpt id=\"p1\">**</bpt>Start encrypting<ept id=\"p1\">**</ept> will begin encryption.","pos":[10141,10194]},{"content":"Encryption status displays in the notification area or within the BitLocker control panel.","pos":[10196,10286]},{"pos":[10331,10346],"content":"OneDrive option"},{"content":"There is a new option for storing the BitLocker recovery key using the OneDrive.","pos":[10348,10428]},{"content":"This option requires that computers are not members of a domain and that the user is using a Microsoft Account.","pos":[10429,10540]},{"content":"Local accounts do not give the option to utilize OneDrive.","pos":[10541,10599]},{"content":"Using the OneDrive option is the default, recommended recovery key storage method for computers that are not joined to a domain.","pos":[10600,10728]},{"content":"Users can verify the recovery key was saved properly by checking their OneDrive for the BitLocker folder which is created automatically during the save process.","pos":[10730,10890]},{"content":"The folder will contain two files, a readme.txt and the recovery key.","pos":[10891,10960]},{"content":"For users storing more than one recovery password on their OneDrive, they can identify the required recovery key by looking at the file name.","pos":[10961,11103]},{"content":"The recovery key ID is appended to the end of the file name.","pos":[11104,11164]},{"content":"Using BitLocker within Windows Explorer","pos":[11170,11209]},{"content":"Windows Explorer allows users to launch the BitLocker Drive Encryption wizard by right clicking on a volume and selecting <bpt id=\"p1\">**</bpt>Turn On BitLocker<ept id=\"p1\">**</ept>.","pos":[11211,11355]},{"content":"This option is available on client computers by default.","pos":[11356,11412]},{"content":"On servers, you must first install the BitLocker and Desktop-Experience features for this option to be available.","pos":[11413,11526]},{"content":"After selecting <bpt id=\"p1\">**</bpt>Turn on BitLocker<ept id=\"p1\">**</ept>, the wizard works exactly as it does when launched using the BitLocker control panel.","pos":[11527,11650]},{"pos":[11685,11709],"content":"Down-level compatibility"},{"content":"The following table shows the compatibility matrix for systems that have been BitLocker enabled then presented to a different version of Windows.","pos":[11711,11856]},{"content":"Table 1: Cross compatibility for Windows 10, Windows 8.1, Windows 8, and Windows 7 encrypted volumes","pos":[11858,11958]},{"content":"Encryption Type","pos":[12116,12131]},{"content":"Windows 10 and Windows 8.1","pos":[12161,12187]},{"content":"Windows 8","pos":[12217,12226]},{"content":"Windows 7","pos":[12256,12265]},{"content":"Fully encrypted on Windows 8","pos":[12319,12347]},{"content":"Presents as fully encrypted","pos":[12377,12404]},{"content":"N/A","pos":[12434,12437]},{"content":"Presented as fully encrypted","pos":[12467,12495]},{"content":"Used Disk Space Only encrypted on Windows 8","pos":[12548,12591]},{"content":"Presents as encrypt on write","pos":[12621,12649]},{"content":"N/A","pos":[12679,12682]},{"content":"Presented as fully encrypted","pos":[12712,12740]},{"content":"Fully encrypted volume from Windows 7","pos":[12794,12831]},{"content":"Presents as fully encrypted","pos":[12861,12888]},{"content":"Presented as fully encrypted","pos":[12918,12946]},{"content":"N/A","pos":[12976,12979]},{"content":"Partially encrypted volume from Windows 7","pos":[13032,13073]},{"content":"Windows 10 and Windows 8.1 will complete encryption regardless of policy","pos":[13103,13175]},{"content":"Windows 8 will complete encryption regardless of policy","pos":[13205,13260]},{"content":"N/A","pos":[13290,13293]},{"content":"Encrypting volumes using the manage-bde command line interface","pos":[13333,13395]},{"content":"Manage-bde is a command-line utility that can be used for scripting BitLocker operations.","pos":[13397,13486]},{"content":"Manage-bde offers additional options not displayed in the BitLocker control panel.","pos":[13487,13569]},{"content":"For a complete list of the options, see <bpt id=\"p1\">[</bpt>Manage-bde<ept id=\"p1\">](http://technet.microsoft.com/library/ff829849.aspx)</ept>.","pos":[13570,13675]},{"content":"Manage-bde offers a multitude of wider options for configuring BitLocker.","pos":[13676,13749]},{"content":"This means that using the command syntax may require care and possibly later customization by the user.","pos":[13750,13853]},{"content":"For example, using just the <ph id=\"ph1\">`manage-bde -on`</ph> command on a data volume will fully encrypt the volume without any authenticating protectors.","pos":[13854,13992]},{"content":"A volume encrypted in this manner still requires user interaction to turn on BitLocker protection, even though the command successfully completed because an authentication method needs to be added to the volume for it to be fully protected.","pos":[13993,14233]},{"content":"Command line users need to determine the appropriate syntax for a given situation.","pos":[14234,14316]},{"content":"The following section covers general encryption for operating system volumes and data volumes.","pos":[14317,14411]},{"content":"Operating system volume","pos":[14417,14440]},{"content":"Listed below are examples of basic valid commands for operating system volumes.","pos":[14442,14521]},{"content":"In general, using only the <ph id=\"ph1\">`manage-bde -on &lt;drive letter&gt;`</ph> command will encrypt the operating system volume with a TPM-only protector and no recovery key.","pos":[14522,14676]},{"content":"However, many environments require more secure protectors such as passwords or PIN and expect to be able to recover information with a recovery key.","pos":[14677,14825]},{"content":"Determining volume status","pos":[14829,14854]},{"content":"A good practice when using manage-bde is to determine the volume status on the target system.","pos":[14858,14951]},{"content":"Use the following command to determine volume status:","pos":[14952,15005]},{"content":"This command returns the volumes on the target, current encryption status and volume type (operating system or data) for each volume.","pos":[15029,15162]},{"content":"Using this information, users can determine the best encryption method for their environment.","pos":[15163,15256]},{"content":"Enabling BitLocker without a TPM","pos":[15260,15292]},{"content":"For example, suppose that you want to enable BitLocker on a computer without a TPM chip.","pos":[15296,15384]},{"content":"To properly enable BitLocker for the operating system volume, you will need to use a USB flash drive as a startup key to boot (in this example, the drive letter E).","pos":[15385,15549]},{"content":"You would first create the startup key needed for BitLocker using the –protectors option and save it to the USB drive on E: and then begin the encryption process.","pos":[15550,15712]},{"content":"You will need to reboot the computer when prompted to complete the encryption process.","pos":[15713,15799]},{"content":"Enabling BitLocker with a TPM only","pos":[15883,15917]},{"content":"It is possible to encrypt the operating system volume without any defined protectors using manage-bde.","pos":[15921,16023]},{"content":"The command to do this is:","pos":[16024,16050]},{"content":"This will encrypt the drive using the TPM as the protector.","pos":[16073,16132]},{"content":"If a user is unsure of the protector for a volume, they can use the -protectors option in manage-bde to list this information with the command:","pos":[16133,16276]},{"content":"Provisioning BitLocker with two protectors","pos":[16320,16362]},{"content":"Another example is a user on non-TPM hardware who wishes to add a password and SID-based protector to the operating system volume.","pos":[16366,16496]},{"content":"In this instance, the user adds the protectors first.","pos":[16497,16550]},{"content":"This is done with the command:","pos":[16551,16581]},{"content":"This command will require the user to enter and then confirm the password protector before adding them to the volume.","pos":[16642,16759]},{"content":"With the protectors enabled on the volume, the user just needs to turn BitLocker on.","pos":[16760,16844]},{"content":"Data volume","pos":[16850,16861]},{"content":"Data volumes use the same syntax for encryption as operating system volumes but they do not require protectors for the operation to complete.","pos":[16863,17004]},{"content":"Encrypting data volumes can be done using the base command: <ph id=\"ph1\">`manage-bde -on &lt;drive letter&gt;`</ph> or users can choose to add protectors to the volume.","pos":[17005,17149]},{"content":"It is recommended that at least one primary protector and a recovery protector be added to a data volume.","pos":[17150,17255]},{"content":"Enabling BitLocker with a password","pos":[17259,17293]},{"content":"A common protector for a data volume is the password protector.","pos":[17297,17360]},{"content":"In the example below, we add a password protector to the volume and turn BitLocker on.","pos":[17361,17447]},{"pos":[17550,17600],"content":"Using manage-bde to encrypt volumes with BitLocker"},{"content":"Encrypting volumes using the BitLocker Windows PowerShell cmdlets","pos":[17606,17671]},{"content":"Windows PowerShell cmdlets provide an alternative way to work with BitLocker.","pos":[17673,17750]},{"content":"Using Windows PowerShell's scripting capabilities, administrators can integrate BitLocker options into existing scripts with ease.","pos":[17751,17881]},{"content":"The list below displays the available BitLocker cmdlets.","pos":[17882,17938]},{"content":"Name","pos":[18063,18067]},{"content":"Parameters","pos":[18114,18124]},{"content":"Add-BitLockerKeyProtector","pos":[18195,18220]},{"content":"-ADAccountOrGroup","pos":[18259,18276]},{"content":"-ADAccountOrGroupProtector","pos":[18284,18310]},{"content":"-Confirm","pos":[18318,18326]},{"content":"-MountPoint","pos":[18334,18345]},{"content":"-Password","pos":[18353,18362]},{"content":"-PasswordProtector","pos":[18370,18388]},{"content":"-Pin","pos":[18396,18400]},{"content":"-RecoveryKeyPath","pos":[18408,18424]},{"content":"-RecoveryKeyProtector","pos":[18432,18453]},{"content":"-RecoveryPassword","pos":[18461,18478]},{"content":"-RecoveryPasswordProtector","pos":[18486,18512]},{"content":"-Service","pos":[18520,18528]},{"content":"-StartupKeyPath","pos":[18536,18551]},{"content":"-StartupKeyProtector","pos":[18559,18579]},{"content":"-TpmAndPinAndStartupKeyProtector","pos":[18587,18619]},{"content":"-TpmAndPinProtector","pos":[18627,18646]},{"content":"-TpmAndStartupKeyProtector","pos":[18654,18680]},{"content":"-TpmProtector","pos":[18688,18701]},{"content":"-WhatIf","pos":[18709,18716]},{"content":"Backup-BitLockerKeyProtector","pos":[18777,18805]},{"content":"-Confirm","pos":[18844,18852]},{"content":"-KeyProtectorId","pos":[18860,18875]},{"content":"-MountPoint","pos":[18883,18894]},{"content":"-WhatIf","pos":[18902,18909]},{"content":"Disable-BitLocker","pos":[18971,18988]},{"content":"-Confirm","pos":[19027,19035]},{"content":"-MountPoint","pos":[19043,19054]},{"content":"-WhatIf","pos":[19062,19069]},{"content":"Disable-BitLockerAutoUnlock","pos":[19130,19157]},{"content":"-Confirm","pos":[19196,19204]},{"content":"-MountPoint","pos":[19212,19223]},{"content":"-WhatIf","pos":[19231,19238]},{"content":"Enable-BitLocker","pos":[19300,19316]},{"content":"-AdAccountOrGroup","pos":[19355,19372]},{"content":"-AdAccountOrGroupProtector","pos":[19380,19406]},{"content":"-Confirm","pos":[19414,19422]},{"content":"-EncryptionMethod","pos":[19430,19447]},{"content":"-HardwareEncryption","pos":[19455,19474]},{"content":"-Password","pos":[19482,19491]},{"content":"-PasswordProtector","pos":[19499,19517]},{"content":"-Pin","pos":[19525,19529]},{"content":"-RecoveryKeyPath","pos":[19537,19553]},{"content":"-RecoveryKeyProtector","pos":[19561,19582]},{"content":"-RecoveryPassword","pos":[19590,19607]},{"content":"-RecoveryPasswordProtector","pos":[19615,19641]},{"content":"-Service","pos":[19649,19657]},{"content":"-SkipHardwareTest","pos":[19665,19682]},{"content":"-StartupKeyPath","pos":[19690,19705]},{"content":"-StartupKeyProtector","pos":[19713,19733]},{"content":"-TpmAndPinAndStartupKeyProtector","pos":[19741,19773]},{"content":"-TpmAndPinProtector","pos":[19781,19800]},{"content":"-TpmAndStartupKeyProtector","pos":[19808,19834]},{"content":"-TpmProtector","pos":[19842,19855]},{"content":"-UsedSpaceOnly","pos":[19863,19877]},{"content":"-WhatIf","pos":[19885,19892]},{"content":"Enable-BitLockerAutoUnlock","pos":[19953,19979]},{"content":"-Confirm","pos":[20018,20026]},{"content":"-MountPoint","pos":[20034,20045]},{"content":"-WhatIf","pos":[20053,20060]},{"content":"Get-BitLockerVolume","pos":[20122,20141]},{"content":"-MountPoint","pos":[20180,20191]},{"content":"Lock-BitLocker","pos":[20252,20266]},{"content":"-Confirm","pos":[20305,20313]},{"content":"-ForceDismount","pos":[20321,20335]},{"content":"-MountPoint","pos":[20343,20354]},{"content":"-WhatIf","pos":[20362,20369]},{"content":"Remove-BitLockerKeyProtector","pos":[20431,20459]},{"content":"-Confirm","pos":[20498,20506]},{"content":"-KeyProtectorId","pos":[20514,20529]},{"content":"-MountPoint","pos":[20537,20548]},{"content":"-WhatIf","pos":[20556,20563]},{"content":"Resume-BitLocker","pos":[20624,20640]},{"content":"-Confirm","pos":[20679,20687]},{"content":"-MountPoint","pos":[20695,20706]},{"content":"-WhatIf","pos":[20714,20721]},{"content":"Suspend-BitLocker","pos":[20783,20800]},{"content":"-Confirm","pos":[20839,20847]},{"content":"-MountPoint","pos":[20855,20866]},{"content":"-RebootCount","pos":[20874,20886]},{"content":"-WhatIf","pos":[20894,20901]},{"content":"Unlock-BitLocker","pos":[20962,20978]},{"content":"-AdAccountOrGroup","pos":[21017,21034]},{"content":"-Confirm","pos":[21042,21050]},{"content":"-MountPoint","pos":[21058,21069]},{"content":"-Password","pos":[21077,21086]},{"content":"-RecoveryKeyPath","pos":[21094,21110]},{"content":"-RecoveryPassword","pos":[21118,21135]},{"content":"-RecoveryPassword","pos":[21143,21160]},{"content":"-WhatIf","pos":[21168,21175]},{"content":"Similar to manage-bde, the Windows PowerShell cmdlets allow configuration beyond the options offered in the control panel.","pos":[21211,21333]},{"content":"As with manage-bde, users need to consider the specific needs of the volume they are encrypting prior to running Windows PowerShell cmdlets.","pos":[21334,21474]},{"content":"A good initial step is to determine the current state of the volume(s) on the computer.","pos":[21475,21562]},{"content":"You can do this using the <ph id=\"ph1\">`Get-BitLocker`</ph> volume cmdlet.","pos":[21563,21619]},{"content":"The output from this cmdlet displays information on the volume type, protectors, protection status, and other useful information.","pos":[21620,21749]},{"content":"Occasionally, all protectors may not be shown when using <bpt id=\"p1\">**</bpt>Get-BitLockerVolume<ept id=\"p1\">**</ept> due to lack of space in the output display.","pos":[21750,21874]},{"content":"If you do not see all of the protectors for a volume, you can use the Windows PowerShell pipe command (|) to format a listing of the protectors.","pos":[21875,22019]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept>  In the event that there are more than four protectors for a volume, the pipe command may run out of display space.","pos":[22023,22148]},{"content":"For volumes with more than four protectors, use the method described in the section below to generate a listing of all protectors with protector ID.","pos":[22149,22297]},{"content":"If you wanted to remove the existing protectors prior to provisioning BitLocker on the volume, you can utilize the <ph id=\"ph1\">`Remove-BitLockerKeyProtector`</ph> cmdlet.","pos":[22331,22484]},{"content":"Accomplishing this requires the GUID associated with the protector to be removed.","pos":[22485,22566]},{"content":"A simple script can pipe the values of each <bpt id=\"p1\">**</bpt>Get-BitLockerVolume<ept id=\"p1\">**</ept> return out to another variable as seen below:","pos":[22567,22680]},{"content":"Using this, we can display the information in the <bpt id=\"p1\">**</bpt>$keyprotectors<ept id=\"p1\">**</ept> variable to determine the GUID for each protector.","pos":[22758,22877]},{"content":"Using this information, we can then remove the key protector for a specific volume using the command:","pos":[22878,22979]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept>  The BitLocker cmdlet requires the key protector GUID enclosed in quotation marks to execute.","pos":[23061,23164]},{"content":"Ensure the entire GUID, with braces, is included in the command.","pos":[23165,23229]},{"content":"Operating system volume","pos":[23236,23259]},{"content":"Using the BitLocker Windows PowerShell cmdlets is similar to working with the manage-bde tool for encrypting operating system volumes.","pos":[23261,23395]},{"content":"Windows PowerShell offers users a lot of flexibility.","pos":[23396,23449]},{"content":"For example, users can add the desired protector as part command for encrypting the volume.","pos":[23450,23541]},{"content":"Below are examples of common user scenarios and steps to accomplish them using the BitLocker cmdlets for Windows PowerShell.","pos":[23542,23666]},{"content":"To enable BitLocker with just the TPM protector.","pos":[23667,23715]},{"content":"This can be done using the command:","pos":[23716,23751]},{"content":"The example below adds one additional protector, the StartupKey protectors, and chooses to skip the BitLocker hardware test.","pos":[23788,23912]},{"content":"In this example, encryption starts immediately without the need for a reboot.","pos":[23913,23990]},{"content":"Data volume","pos":[24093,24104]},{"content":"Data volume encryption using Windows PowerShell is the same as for operating system volumes.","pos":[24106,24198]},{"content":"You should add the desired protectors prior to encrypting the volume.","pos":[24199,24268]},{"content":"The following example adds a password protector to the E: volume using the variable $pw as the password.","pos":[24269,24373]},{"content":"The $pw variable is held as a SecureString value to store the user defined password.","pos":[24374,24458]},{"content":"Last, encryption begins.","pos":[24459,24483]},{"content":"Using a SID based protector in Windows PowerShell","pos":[24624,24673]},{"content":"The ADAccountOrGroup protector is an Active Directory SID-based protector.","pos":[24675,24749]},{"content":"This protector can be added to both operating system and data volumes, although it does not unlock operating system volumes in the pre-boot environment.","pos":[24750,24902]},{"content":"The protector requires the SID for the domain account or group to link with the protector.","pos":[24903,24993]},{"content":"BitLocker can protect a cluster-aware disk by adding a SID-based protector for the Cluster Name Object (CNO) that lets the disk properly failover and be unlocked to any member computer of the cluster.","pos":[24994,25194]},{"pos":[25197,25356],"content":"<bpt id=\"p1\">**</bpt>Warning:<ept id=\"p1\">**</ept>  The SID-based protector requires the use of an additional protector (such as TPM, PIN, recovery key, etc.) when used on operating system volumes."},{"content":"To add an ADAccountOrGroup protector to a volume requires either the actual domain SID or the group name preceded by the domain and a backslash.","pos":[25359,25503]},{"content":"In the example below, the CONTOSO<ph id=\"ph1\">\\\\</ph>Administrator account is added as a protector to the data volume G.","pos":[25504,25606]},{"content":"For users who wish to use the SID for the account or group, the first step is to determine the SID associated with the account.","pos":[25710,25837]},{"content":"To get the specific SID for a user account in Windows PowerShell, use the following command:","pos":[25838,25930]},{"pos":[26005,26076],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept>  Use of this command requires the RSAT-AD-PowerShell feature."},{"content":"<bpt id=\"p1\">**</bpt>Tip:<ept id=\"p1\">**</ept>  In addition to the Windows PowerShell command above, information about the locally logged on user and group membership can be found using: WHOAMI /ALL.","pos":[26081,26242]},{"content":"This does not require the use of additional features.","pos":[26243,26296]},{"content":"In the example below, the user wishes to add a domain SID based protector to the previously encrypted operating system volume.","pos":[26299,26425]},{"content":"The user knows the SID for the user account or group they wish to add and uses the following command:","pos":[26426,26527]},{"pos":[26628,26734],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept>  Active Directory-based protectors are normally used to unlock Failover Cluster enabled volumes."},{"pos":[26770,26820],"content":"Using PowerShell to encrypt volumes with BitLocker"},{"content":"Checking BitLocker status","pos":[26826,26851]},{"content":"To check the BitLocker status of a particular volume, administrators can look at the status of the drive in the BitLocker control panel applet, Windows Explorer, manage-bde command line tool, or Windows PowerShell cmdlets.","pos":[26853,27075]},{"content":"Each option offers different levels of detail and ease of use.","pos":[27076,27138]},{"content":"We will look at each of the available methods in the following section.","pos":[27139,27210]},{"content":"Checking BitLocker status with the control panel","pos":[27216,27264]},{"content":"Checking BitLocker status with the control panel is the most common method used by most users.","pos":[27266,27360]},{"content":"Once opened, the status for each volume will display next to the volume description and drive letter.","pos":[27361,27462]},{"content":"Available status return values with the control panel include:","pos":[27463,27525]},{"content":"Status","pos":[27529,27535]},{"content":"Description","pos":[27538,27549]},{"content":"On","pos":[27566,27568]},{"content":"BitLocker is enabled for the volume","pos":[27571,27606]},{"content":"Off","pos":[27613,27616]},{"content":"BitLocker is not enabled for the volume","pos":[27620,27659]},{"content":"Suspended","pos":[27666,27675]},{"content":"BitLocker is suspended and not actively protecting the volume","pos":[27680,27741]},{"content":"Waiting for Activation","pos":[27748,27770]},{"content":"BitLocker is enabled with a clear protector key and requires further action to be fully protected","pos":[27774,27871]},{"content":"If a drive is pre-provisioned with BitLocker, a status of \"Waiting for Activation\" displays with a yellow exclamation icon on volume E. This status means that there was only a clear protector used when encrypting the volume.","pos":[27875,28099]},{"content":"In this case, the volume is not in a protected state and needs to have a secure key added to the volume before the drive is fully protected.","pos":[28100,28240]},{"content":"Administrators can use the control panel, manage-bde tool, or WMI APIs to add an appropriate key protector.","pos":[28241,28348]},{"content":"Once complete, the control panel will update to reflect the new status.","pos":[28349,28420]},{"content":"Using the control panel, administrators can choose <bpt id=\"p1\">**</bpt>Turn on BitLocker<ept id=\"p1\">**</ept> to start the BitLocker Drive Encryption wizard and add a protector, like PIN for an operating system volume (or password if no TPM exists), or a password or smart card protector to a data volume.","pos":[28421,28689]},{"content":"The drive security window displays prior to changing the volume status.","pos":[28690,28761]},{"content":"Selecting <bpt id=\"p1\">**</bpt>Activate BitLocker<ept id=\"p1\">**</ept> will complete the encryption process.","pos":[28762,28832]},{"content":"Once BitLocker protector activation is completed, the completion notice is displayed.","pos":[28834,28919]},{"content":"Checking BitLocker status with manage-bde","pos":[28925,28966]},{"content":"Administrators who prefer a command line interface can utilize manage-bde to check volume status.","pos":[28968,29065]},{"content":"Manage-bde is capable of returning more information about the volume than the graphical user interface tools in the control panel.","pos":[29066,29196]},{"content":"For example, manage-bde can display the BitLocker version in use, the encryption type, and the protectors associated with a volume.","pos":[29197,29328]},{"content":"To check the status of a volume using manage-bde, use the following command:","pos":[29330,29406]},{"pos":[29453,29573],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept>  If no volume letter is associated with the -status command, all volumes on the computer display their status."},{"content":"Checking BitLocker status with Windows PowerShell","pos":[29580,29629]},{"content":"Windows PowerShell commands offer another way to query BitLocker status for volumes.","pos":[29631,29715]},{"content":"Like manage-bde, Windows PowerShell includes the advantage of being able to check the status of a volume on a remote computer.","pos":[29716,29842]},{"content":"Using the Get-BitLockerVolume cmdlet, each volume on the system will display its current BitLocker status.","pos":[29844,29950]},{"content":"To get information that is more detailed on a specific volume, use the following command:","pos":[29951,30040]},{"content":"This command will display information about the encryption method, volume type, key protectors, etc.","pos":[30100,30200]},{"content":"Provisioning BitLocker during operating system deployment","pos":[30206,30263]},{"content":"Administrators can enable BitLocker prior to operating system deployment from the Windows Pre-installation Environment.","pos":[30265,30384]},{"content":"This is done with a randomly generated clear key protector applied to the formatted volume and encrypting the volume prior to running the Windows setup process.","pos":[30385,30545]},{"content":"If the encryption uses the Used Disk Space Only option described later in this document, this step takes only a few seconds and incorporates well into regular deployment processes.","pos":[30546,30726]},{"content":"Decrypting BitLocker volumes","pos":[30732,30760]},{"content":"Decrypting volumes removes BitLocker and any associated protectors from the volumes.","pos":[30762,30846]},{"content":"Decryption should occur when protection is no longer required.","pos":[30847,30909]},{"content":"BitLocker decryption should not occur as a troubleshooting step.","pos":[30910,30974]},{"content":"BitLocker can be removed from a volume using the BitLocker control panel applet, manage-bde, or Windows PowerShell cmdlets.","pos":[30975,31098]},{"content":"We will discuss each method further below.","pos":[31099,31141]},{"content":"Decrypting volumes using the BitLocker control panel applet","pos":[31147,31206]},{"content":"BitLocker decryption using the control panel is done using a Wizard.","pos":[31208,31276]},{"content":"The control panel can be called from Windows Explorer or by opening the directly.","pos":[31277,31358]},{"content":"After opening the BitLocker control panel, users will select the Turn off BitLocker option to begin the process.","pos":[31359,31471]},{"content":"Once selected, the user chooses to continue by clicking the confirmation dialog.","pos":[31472,31552]},{"content":"With Turn off BitLocker confirmed, the drive decryption process will begin and report status to the control panel.","pos":[31553,31667]},{"content":"The control panel does not report decryption progress but displays it in the notification area of the task bar.","pos":[31669,31780]},{"content":"Selecting the notification area icon will open a modal dialog with progress.","pos":[31781,31857]},{"content":"Once decryption is complete, the drive will update its status in the control panel and is available for encryption.","pos":[31859,31974]},{"content":"Decrypting volumes using the manage-bde command line interface","pos":[31980,32042]},{"content":"Decrypting volumes using manage-bde is very straightforward.","pos":[32044,32104]},{"content":"Decryption with manage-bde offers the advantage of not requiring user confirmation to start the process.","pos":[32105,32209]},{"content":"Manage-bde uses the -off command to start the decryption process.","pos":[32210,32275]},{"content":"A sample command for decryption is:","pos":[32276,32311]},{"content":"This command disables protectors while it decrypts the volume and removes all protectors when decryption is complete.","pos":[32347,32464]},{"content":"If a user wishes to check the status of the decryption, they can use the following command:","pos":[32465,32556]},{"content":"Decrypting volumes using the BitLocker Windows PowerShell cmdlets","pos":[32599,32664]},{"content":"Decryption with Windows PowerShell cmdlets is straightforward, similar to manage-bde.","pos":[32666,32751]},{"content":"The additional advantage Windows PowerShell offers is the ability to decrypt multiple drives in one pass.","pos":[32752,32857]},{"content":"In the example below, the user has three encrypted volumes, which they wish to decrypt.","pos":[32858,32945]},{"content":"Using the Disable-BitLocker command, they can remove all protectors and encryption at the same time without the need for additional commands.","pos":[32947,33088]},{"content":"An example of this command is:","pos":[33089,33119]},{"content":"If a user did not want to input each mount point individually, using the <ph id=\"ph1\">`-MountPoint`</ph> parameter in an array can sequence the same command into one line without requiring additional user input.","pos":[33153,33346]},{"content":"An example command is:","pos":[33347,33369]},{"content":"See also","pos":[33428,33436]},{"content":"Prepare your organization for BitLocker: Planning and p<ph id=\"ph1\">\\\\</ph>olicies","pos":[33441,33505]},{"content":"BitLocker recovery guide","pos":[33576,33600]},{"content":"BitLocker: How to enable Network Unlock","pos":[33639,33678]},{"content":"BitLocker overview","pos":[33726,33744]}],"content":"---\ntitle: BitLocker basic deployment (Windows 10)\ndescription: This topic for the IT professional explains how BitLocker features can be used to protect your data through drive encryption.\nms.assetid: 97c646cb-9e53-4236-9678-354af41151c4\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# BitLocker basic deployment\n\n**Applies to**\n-   Windows 10\n\nThis topic for the IT professional explains how BitLocker features can be used to protect your data through drive encryption.\n\nThe following sections provide information that will help you put together your basic deployment plan for implementing BitLocker in your organization:\n\n-   [Using BitLocker to encrypt volumes](#bkmk-dep1)\n-   [Down-level compatibility](#bkmk-dep2)\n-   [Using manage-bde to encrypt volumes with BitLocker](#bkmk-dep3)\n-   [Using PowerShell to encrypt volumes with BitLocker](#bkmk-dep4)\n\n## <a href=\"\" id=\"bkmk-dep1\"></a>Using BitLocker to encrypt volumes\n\nBitLocker provides full volume encryption (FVE) for operating system volumes, as well as fixed and removable data volumes. To support fully encrypted operating system volumes, BitLocker uses an unencrypted system volume for the files required to boot, decrypt, and load the operating system. This volume is automatically created during a new installation of both client and server operating systems.\n\nIn the event that the drive was prepared as a single contiguous space, BitLocker requires a new volume to hold the boot files. BdeHdCfg.exe can create these volumes.\n\n> **Note:**  For more info about using this tool, see [Bdehdcfg](http://technet.microsoft.com/library/ee732026.aspx) in the Command-Line Reference.\n \nBitLocker encryption can be done using the following methods:\n\n-   BitLocker control panel\n-   Windows Explorer\n-   manage-bde command line interface\n-   BitLocker Windows PowerShell cmdlets\n\n### Encrypting volumes using the BitLocker control panel\n\nEncrypting volumes with the BitLocker control panel is how many users will utilize BitLocker. The name of the BitLocker control panel is BitLocker Drive Encryption. The BitLocker control panel supports encrypting operating system, fixed data and removable data volumes. The BitLocker control panel will organize available drives in the appropriate category based on how the device reports itself to Windows. Only formatted volumes with assigned drive letters will appear properly in the BitLocker control panel applet.\nTo start encryption for a volume, select **Turn on BitLocker** for the appropriate drive to initialize the BitLocker Drive Encryption Wizard. BitLocker Drive Encryption Wizard options vary based on volume type (operating system volume or data volume).\n\n### Operating system volume\n\nUpon launch, the BitLocker Drive Encryption Wizard verifies the computer meets the BitLocker system requirements for encrypting an operating system volume. By default, the system requirements are:\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th align=\"left\">Requirement</th>\n<th align=\"left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td align=\"left\"><p>Hardware configuration</p></td>\n<td align=\"left\"><p>The computer must meet the minimum requirements for the supported Windows versions.</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>Operating system</p></td>\n<td align=\"left\"><p>BitLocker is an optional feature which can be installed by Server Manager on Windows Server 2012 and later.</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p>Hardware TPM</p></td>\n<td align=\"left\"><p>TPM version 1.2 or 2.0</p>\n<p>A TPM is not required for BitLocker; however, only a computer with a TPM can provide the additional security of pre-startup system integrity verification and multifactor authentication.</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>BIOS configuration</p></td>\n<td align=\"left\"><ul>\n<li><p>A Trusted Computing Group (TCG)-compliant BIOS or UEFI firmware.</p></li>\n<li><p>The boot order must be set to start first from the hard disk, and not the USB or CD drives.</p></li>\n<li><p>The firmware must be able to read from a USB flash drive during startup.</p></li>\n</ul></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p>File system</p></td>\n<td align=\"left\"><p>For computers that boot natively with UEFI firmware, at least one FAT32 partition for the system drive and one NTFS partition for the operating system drive.</p>\n<p>For computers with legacy BIOS firmware, at least two NTFS disk partitions, one for the system drive and one for the operating system drive.</p>\n<p>For either firmware, the system drive partition must be at least 350 megabytes (MB) and set as the active partition.</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>Hardware encrypted drive prerequisites (optional)</p></td>\n<td align=\"left\"><p>To use a hardware encrypted drive as the boot drive, the drive must be in the uninitialized state and in the security inactive state. In addition, the system must always boot with native UEFI version 2.3.1 or higher and the CSM (if any) disabled.</p></td>\n</tr>\n</tbody>\n</table>\n \nUpon passing the initial configuration, users are required to enter a password for the volume. If the volume does not pass the initial configuration for BitLocker, the user is presented with an error dialog describing the appropriate actions to be taken.\nOnce a strong password has been created for the volume, a recovery key will be generated. The BitLocker Drive Encryption Wizard will prompt for a location to save this key. A BitLocker recovery key is a special key that you can create when you turn on BitLocker Drive Encryption for the first time on each drive that you encrypt. You can use the recovery key to gain access to your computer if the drive that Windows is installed on (the operating system drive) is encrypted using BitLocker Drive Encryption and BitLocker detects a condition that prevents it from unlocking the drive when the computer is starting up. A recovery key can also be used to gain access to your files and folders on a removable data drive (such as an external hard drive or USB flash drive) that is encrypted using BitLocker To Go, if for some reason you forget the password or your computer cannot access the drive.\n\nYou should store the recovery key by printing it, saving it on removable media, or saving it as a file in a network folder or on your OneDrive, or on another drive of your computer that you are not encrypting. You cannot save the recovery key to the root directory of a non-removable drive and cannot be stored on the encrypted volume. You cannot save the recovery key for a removable data drive (such as a USB flash drive) on removable media. Ideally, you should store the recovery key separate from your computer. After you create a recovery key, you can use the BitLocker control panel to make additional copies.\n\nWhen the recovery key has been properly stored, the BitLocker Drive Encryption Wizard will prompt the user to choose how to encrypt the drive. There are two options:\n\n-   Encrypt used disk space only - Encrypts only disk space that contains data\n-   Encrypt entire drive - Encrypts the entire volume including free space\n\nIt is recommended that drives with little to no data utilize the **used disk space only** encryption option and that drives with data or an operating system utilize the **encrypt entire drive** option.\n\n> **Note:**  Deleted files appear as free space to the file system, which is not encrypted by **used disk space only**. Until they are wiped or overwritten, deleted files hold information that could be recovered with common data forensic tools.\n \nSelecting an encryption type and choosing **Next** will give the user the option of running a BitLocker system check (selected by default) which will ensure that BitLocker can properly access the recovery and encryption keys before the volume encryption begins. It is recommended to run this system check before starting the encryption process. If the system check is not run and a problem is encountered when the operating system attempts to start, the user will need to provide the recovery key to start Windows.\n\nAfter completing the system check (if selected), the BitLocker Drive Encryption Wizard will restart the computer to begin encryption. Upon reboot, users are required to enter the password chosen to boot into the operating system volume. Users can check encryption status by checking the system notification area or the BitLocker control panel.\n\nUntil encryption is completed, the only available options for managing BitLocker involve manipulation of the password protecting the operating system volume, backing up the recovery key, and turning BitLocker off.\n\n### Data volume\n\nEncrypting data volumes using the BitLocker control panel interface works in a similar fashion to encryption of the operating system volumes. Users select **Turn on BitLocker** within the control panel to begin the BitLocker Drive Encryption wizard.\nUnlike for operating system volumes, data volumes are not required to pass any configuration tests for the wizard to proceed. Upon launching the wizard, a choice of authentication methods to unlock the drive appears. The available options are **password** and **smart card** and **automatically unlock this drive on this computer**. Disabled by default, the latter option will unlock the data volume without user input when the operating system volume is unlocked.\n\nAfter selecting the desired authentication method and choosing **Next**, the wizard presents options for storage of the recovery key. These options are the same as for operating system volumes.\nWith the recovery key saved, selecting **Next** in the wizard will show available options for encryption. These options are the same as for operating system volumes; **used disk space only** and **full drive encryption**. If the volume being encrypted is new or empty, it is recommended that used space only encryption is selected.\n\nWith an encryption method chosen, a final confirmation screen displays before beginning the encryption process. Selecting **Start encrypting** will begin encryption.\n\nEncryption status displays in the notification area or within the BitLocker control panel.\n\n### <a href=\"\" id=\"-onedrive-option-\"></a> OneDrive option\n\nThere is a new option for storing the BitLocker recovery key using the OneDrive. This option requires that computers are not members of a domain and that the user is using a Microsoft Account. Local accounts do not give the option to utilize OneDrive. Using the OneDrive option is the default, recommended recovery key storage method for computers that are not joined to a domain.\n\nUsers can verify the recovery key was saved properly by checking their OneDrive for the BitLocker folder which is created automatically during the save process. The folder will contain two files, a readme.txt and the recovery key. For users storing more than one recovery password on their OneDrive, \nthey can identify the required recovery key by looking at the file name. The recovery key ID is appended to the end of the file name.\n\n### Using BitLocker within Windows Explorer\n\nWindows Explorer allows users to launch the BitLocker Drive Encryption wizard by right clicking on a volume and selecting **Turn On BitLocker**. This option is available on client computers by default. On servers, you must first install the BitLocker and Desktop-Experience features for this option to be available. After selecting **Turn on BitLocker**, the wizard works exactly as it does when launched using the BitLocker control panel.\n\n## <a href=\"\" id=\"bkmk-dep2\"></a>Down-level compatibility\n\nThe following table shows the compatibility matrix for systems that have been BitLocker enabled then presented to a different version of Windows.\n\nTable 1: Cross compatibility for Windows 10, Windows 8.1, Windows 8, and Windows 7 encrypted volumes\n\n<table>\n<colgroup>\n<col width=\"25%\" />\n<col width=\"25%\" />\n<col width=\"25%\" />\n<col width=\"25%\" />\n</colgroup>\n<tbody>\n<tr class=\"odd\">\n<td align=\"left\"><p>Encryption Type</p></td>\n<td align=\"left\"><p>Windows 10 and Windows 8.1</p></td>\n<td align=\"left\"><p>Windows 8</p></td>\n<td align=\"left\"><p>Windows 7</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>Fully encrypted on Windows 8</p></td>\n<td align=\"left\"><p>Presents as fully encrypted</p></td>\n<td align=\"left\"><p>N/A</p></td>\n<td align=\"left\"><p>Presented as fully encrypted</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p>Used Disk Space Only encrypted on Windows 8</p></td>\n<td align=\"left\"><p>Presents as encrypt on write</p></td>\n<td align=\"left\"><p>N/A</p></td>\n<td align=\"left\"><p>Presented as fully encrypted</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>Fully encrypted volume from Windows 7</p></td>\n<td align=\"left\"><p>Presents as fully encrypted</p></td>\n<td align=\"left\"><p>Presented as fully encrypted</p></td>\n<td align=\"left\"><p>N/A</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p>Partially encrypted volume from Windows 7</p></td>\n<td align=\"left\"><p>Windows 10 and Windows 8.1 will complete encryption regardless of policy</p></td>\n<td align=\"left\"><p>Windows 8 will complete encryption regardless of policy</p></td>\n<td align=\"left\"><p>N/A</p></td>\n</tr>\n</tbody>\n</table>\n \n### Encrypting volumes using the manage-bde command line interface\n\nManage-bde is a command-line utility that can be used for scripting BitLocker operations. Manage-bde offers additional options not displayed in the BitLocker control panel. For a complete list of the options, see [Manage-bde](http://technet.microsoft.com/library/ff829849.aspx).\nManage-bde offers a multitude of wider options for configuring BitLocker. This means that using the command syntax may require care and possibly later customization by the user. For example, using just the `manage-bde -on` command on a data volume will fully encrypt the volume without any authenticating protectors. A volume encrypted in this manner still requires user interaction to turn on BitLocker protection, even though the command successfully completed because an authentication method needs to be added to the volume for it to be fully protected.\nCommand line users need to determine the appropriate syntax for a given situation. The following section covers general encryption for operating system volumes and data volumes.\n\n### Operating system volume\n\nListed below are examples of basic valid commands for operating system volumes. In general, using only the `manage-bde -on <drive letter>` command will encrypt the operating system volume with a TPM-only protector and no recovery key. However, many environments require more secure protectors such as passwords or PIN and expect to be able to recover information with a recovery key.\n\n**Determining volume status**\n\nA good practice when using manage-bde is to determine the volume status on the target system. Use the following command to determine volume status:\n\n`manage-bde -status`\n\nThis command returns the volumes on the target, current encryption status and volume type (operating system or data) for each volume. Using this information, users can determine the best encryption method for their environment.\n\n**Enabling BitLocker without a TPM**\n\nFor example, suppose that you want to enable BitLocker on a computer without a TPM chip. To properly enable BitLocker for the operating system volume, you will need to use a USB flash drive as a startup key to boot (in this example, the drive letter E). You would first create the startup key needed for BitLocker using the –protectors option and save it to the USB drive on E: and then begin the encryption process. You will need to reboot the computer when prompted to complete the encryption process.\n\n``` syntax\nmanage-bde –protectors -add C: -startupkey E:\nmanage-bde -on C:\n```\n\n**Enabling BitLocker with a TPM only**\n\nIt is possible to encrypt the operating system volume without any defined protectors using manage-bde. The command to do this is:\n\n`manage-bde -on C:`\n\nThis will encrypt the drive using the TPM as the protector. If a user is unsure of the protector for a volume, they can use the -protectors option in manage-bde to list this information with the command:\n\n`manage-bde -protectors -get <volume>`\n\n**Provisioning BitLocker with two protectors**\n\nAnother example is a user on non-TPM hardware who wishes to add a password and SID-based protector to the operating system volume. In this instance, the user adds the protectors first. This is done with the command:\n\n`manage-bde -protectors -add C: -pw -sid <user or group>`\n\nThis command will require the user to enter and then confirm the password protector before adding them to the volume. With the protectors enabled on the volume, the user just needs to turn BitLocker on.\n\n### Data volume\n\nData volumes use the same syntax for encryption as operating system volumes but they do not require protectors for the operation to complete. Encrypting data volumes can be done using the base command: `manage-bde -on <drive letter>` or users can choose to add protectors to the volume. It is recommended that at least one primary protector and a recovery protector be added to a data volume.\n\n**Enabling BitLocker with a password**\n\nA common protector for a data volume is the password protector. In the example below, we add a password protector to the volume and turn BitLocker on.\n\n``` syntax\nmanage-bde -protectors -add -pw C:\nmanage-bde -on C:\n```\n## <a href=\"\" id=\"bkmk-dep3\"></a>Using manage-bde to encrypt volumes with BitLocker\n\n### Encrypting volumes using the BitLocker Windows PowerShell cmdlets\n\nWindows PowerShell cmdlets provide an alternative way to work with BitLocker. Using Windows PowerShell's scripting capabilities, administrators can integrate BitLocker options into existing scripts with ease. The list below displays the available BitLocker cmdlets.\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<tbody>\n<tr class=\"odd\">\n<td align=\"left\"><p><strong>Name</strong></p></td>\n<td align=\"left\"><p><strong>Parameters</strong></p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p><strong>Add-BitLockerKeyProtector</strong></p></td>\n<td align=\"left\"><p>-ADAccountOrGroup</p>\n<p>-ADAccountOrGroupProtector</p>\n<p>-Confirm</p>\n<p>-MountPoint</p>\n<p>-Password</p>\n<p>-PasswordProtector</p>\n<p>-Pin</p>\n<p>-RecoveryKeyPath</p>\n<p>-RecoveryKeyProtector</p>\n<p>-RecoveryPassword</p>\n<p>-RecoveryPasswordProtector</p>\n<p>-Service</p>\n<p>-StartupKeyPath</p>\n<p>-StartupKeyProtector</p>\n<p>-TpmAndPinAndStartupKeyProtector</p>\n<p>-TpmAndPinProtector</p>\n<p>-TpmAndStartupKeyProtector</p>\n<p>-TpmProtector</p>\n<p>-WhatIf</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p><strong>Backup-BitLockerKeyProtector</strong></p></td>\n<td align=\"left\"><p>-Confirm</p>\n<p>-KeyProtectorId</p>\n<p>-MountPoint</p>\n<p>-WhatIf</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p><strong>Disable-BitLocker</strong></p></td>\n<td align=\"left\"><p>-Confirm</p>\n<p>-MountPoint</p>\n<p>-WhatIf</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p><strong>Disable-BitLockerAutoUnlock</strong></p></td>\n<td align=\"left\"><p>-Confirm</p>\n<p>-MountPoint</p>\n<p>-WhatIf</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p><strong>Enable-BitLocker</strong></p></td>\n<td align=\"left\"><p>-AdAccountOrGroup</p>\n<p>-AdAccountOrGroupProtector</p>\n<p>-Confirm</p>\n<p>-EncryptionMethod</p>\n<p>-HardwareEncryption</p>\n<p>-Password</p>\n<p>-PasswordProtector</p>\n<p>-Pin</p>\n<p>-RecoveryKeyPath</p>\n<p>-RecoveryKeyProtector</p>\n<p>-RecoveryPassword</p>\n<p>-RecoveryPasswordProtector</p>\n<p>-Service</p>\n<p>-SkipHardwareTest</p>\n<p>-StartupKeyPath</p>\n<p>-StartupKeyProtector</p>\n<p>-TpmAndPinAndStartupKeyProtector</p>\n<p>-TpmAndPinProtector</p>\n<p>-TpmAndStartupKeyProtector</p>\n<p>-TpmProtector</p>\n<p>-UsedSpaceOnly</p>\n<p>-WhatIf</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p><strong>Enable-BitLockerAutoUnlock</strong></p></td>\n<td align=\"left\"><p>-Confirm</p>\n<p>-MountPoint</p>\n<p>-WhatIf</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p><strong>Get-BitLockerVolume</strong></p></td>\n<td align=\"left\"><p>-MountPoint</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p><strong>Lock-BitLocker</strong></p></td>\n<td align=\"left\"><p>-Confirm</p>\n<p>-ForceDismount</p>\n<p>-MountPoint</p>\n<p>-WhatIf</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p><strong>Remove-BitLockerKeyProtector</strong></p></td>\n<td align=\"left\"><p>-Confirm</p>\n<p>-KeyProtectorId</p>\n<p>-MountPoint</p>\n<p>-WhatIf</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p><strong>Resume-BitLocker</strong></p></td>\n<td align=\"left\"><p>-Confirm</p>\n<p>-MountPoint</p>\n<p>-WhatIf</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p><strong>Suspend-BitLocker</strong></p></td>\n<td align=\"left\"><p>-Confirm</p>\n<p>-MountPoint</p>\n<p>-RebootCount</p>\n<p>-WhatIf</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p><strong>Unlock-BitLocker</strong></p></td>\n<td align=\"left\"><p>-AdAccountOrGroup</p>\n<p>-Confirm</p>\n<p>-MountPoint</p>\n<p>-Password</p>\n<p>-RecoveryKeyPath</p>\n<p>-RecoveryPassword</p>\n<p>-RecoveryPassword</p>\n<p>-WhatIf</p></td>\n</tr>\n</tbody>\n</table>\n \nSimilar to manage-bde, the Windows PowerShell cmdlets allow configuration beyond the options offered in the control panel. As with manage-bde, users need to consider the specific needs of the volume they are encrypting prior to running Windows PowerShell cmdlets.\nA good initial step is to determine the current state of the volume(s) on the computer. You can do this using the `Get-BitLocker` volume cmdlet. The output from this cmdlet displays information on the volume type, protectors, protection status, and other useful information.\nOccasionally, all protectors may not be shown when using **Get-BitLockerVolume** due to lack of space in the output display. If you do not see all of the protectors for a volume, you can use the Windows PowerShell pipe command (|) to format a listing of the protectors.\n\n> **Note:**  In the event that there are more than four protectors for a volume, the pipe command may run out of display space. For volumes with more than four protectors, use the method described in the section below to generate a listing of all protectors with protector ID.\n \n`Get-BitLockerVolume C: | fl`\n\nIf you wanted to remove the existing protectors prior to provisioning BitLocker on the volume, you can utilize the `Remove-BitLockerKeyProtector` cmdlet. Accomplishing this requires the GUID associated with the protector to be removed.\nA simple script can pipe the values of each **Get-BitLockerVolume** return out to another variable as seen below:\n``` syntax\n$vol = Get-BitLockerVolume\n$keyprotectors = $vol.KeyProtector\n```\nUsing this, we can display the information in the **$keyprotectors** variable to determine the GUID for each protector.\nUsing this information, we can then remove the key protector for a specific volume using the command:\n``` syntax\nRemove-BitLockerKeyProtector <volume>: -KeyProtectorID \"{GUID}\"\n```\n> **Note:**  The BitLocker cmdlet requires the key protector GUID enclosed in quotation marks to execute. Ensure the entire GUID, with braces, is included in the command.\n \n### Operating system volume\n\nUsing the BitLocker Windows PowerShell cmdlets is similar to working with the manage-bde tool for encrypting operating system volumes. Windows PowerShell offers users a lot of flexibility. For example, users can add the desired protector as part command for encrypting the volume. Below are examples of common user scenarios and steps to accomplish them using the BitLocker cmdlets for Windows PowerShell.\nTo enable BitLocker with just the TPM protector. This can be done using the command:\n\n``` syntax\nEnable-BitLocker C:\n```\nThe example below adds one additional protector, the StartupKey protectors, and chooses to skip the BitLocker hardware test. In this example, encryption starts immediately without the need for a reboot.\n\n``` syntax\nEnable-BitLocker C: -StartupKeyProtector -StartupKeyPath <path> -SkipHardwareTest\n```\n### Data volume\n\nData volume encryption using Windows PowerShell is the same as for operating system volumes. You should add the desired protectors prior to encrypting the volume. The following example adds a password protector to the E: volume using the variable $pw as the password. The $pw variable is held as a SecureString value to store the user defined password. Last, encryption begins.\n\n``` syntax\n$pw = Read-Host -AsSecureString\n<user inputs password>\nEnable-BitLockerKeyProtector E: -PasswordProtector -Password $pw\n```\n### Using a SID based protector in Windows PowerShell\n\nThe ADAccountOrGroup protector is an Active Directory SID-based protector. This protector can be added to both operating system and data volumes, although it does not unlock operating system volumes in the pre-boot environment. The protector requires the SID for the domain account or group to link with the protector. BitLocker can protect a cluster-aware disk by adding a SID-based protector for the Cluster Name Object (CNO) that lets the disk properly failover and be unlocked to any member computer of the cluster.\n\n>**Warning:**  The SID-based protector requires the use of an additional protector (such as TPM, PIN, recovery key, etc.) when used on operating system volumes.\n \nTo add an ADAccountOrGroup protector to a volume requires either the actual domain SID or the group name preceded by the domain and a backslash. In the example below, the CONTOSO\\\\Administrator account is added as a protector to the data volume G.\n\n``` syntax\nEnable-BitLocker G: -AdAccountOrGroupProtector -AdAccountOrGroup CONTOSO\\Administrator\n```\nFor users who wish to use the SID for the account or group, the first step is to determine the SID associated with the account. To get the specific SID for a user account in Windows PowerShell, use the following command:\n\n``` syntax\nget-aduser -filter {samaccountname -eq \"administrator\"}\n```\n> **Note:**  Use of this command requires the RSAT-AD-PowerShell feature.\n \n> **Tip:**  In addition to the Windows PowerShell command above, information about the locally logged on user and group membership can be found using: WHOAMI /ALL. This does not require the use of additional features.\n \nIn the example below, the user wishes to add a domain SID based protector to the previously encrypted operating system volume. The user knows the SID for the user account or group they wish to add and uses the following command:\n\n``` syntax\nAdd-BitLockerKeyProtector C: -ADAccountOrGroupProtector -ADAccountOrGroup \"<SID>\"\n```\n> **Note:**  Active Directory-based protectors are normally used to unlock Failover Cluster enabled volumes.\n \n## <a href=\"\" id=\"bkmk-dep4\"></a>Using PowerShell to encrypt volumes with BitLocker\n\n### Checking BitLocker status\n\nTo check the BitLocker status of a particular volume, administrators can look at the status of the drive in the BitLocker control panel applet, Windows Explorer, manage-bde command line tool, or Windows PowerShell cmdlets. Each option offers different levels of detail and ease of use. We will look at each of the available methods in the following section.\n\n### Checking BitLocker status with the control panel\n\nChecking BitLocker status with the control panel is the most common method used by most users. Once opened, the status for each volume will display next to the volume description and drive letter. Available status return values with the control panel include:\n\n| Status | Description |\n| - | - |\n| **On**|BitLocker is enabled for the volume |\n| **Off**| BitLocker is not enabled for the volume |\n| **Suspended** | BitLocker is suspended and not actively protecting the volume |\n| **Waiting for Activation**| BitLocker is enabled with a clear protector key and requires further action to be fully protected|\n \nIf a drive is pre-provisioned with BitLocker, a status of \"Waiting for Activation\" displays with a yellow exclamation icon on volume E. This status means that there was only a clear protector used when encrypting the volume. In this case, the volume is not in a protected state and needs to have a secure key added to the volume before the drive is fully protected. Administrators can use the control panel, manage-bde tool, or WMI APIs to add an appropriate key protector. Once complete, the control panel will update to reflect the new status.\nUsing the control panel, administrators can choose **Turn on BitLocker** to start the BitLocker Drive Encryption wizard and add a protector, like PIN for an operating system volume (or password if no TPM exists), or a password or smart card protector to a data volume.\nThe drive security window displays prior to changing the volume status. Selecting **Activate BitLocker** will complete the encryption process.\n\nOnce BitLocker protector activation is completed, the completion notice is displayed.\n\n### Checking BitLocker status with manage-bde\n\nAdministrators who prefer a command line interface can utilize manage-bde to check volume status. Manage-bde is capable of returning more information about the volume than the graphical user interface tools in the control panel. For example, manage-bde can display the BitLocker version in use, the encryption type, and the protectors associated with a volume.\n\nTo check the status of a volume using manage-bde, use the following command:\n\n``` syntax\nmanage-bde -status <volume>\n```\n> **Note:**  If no volume letter is associated with the -status command, all volumes on the computer display their status.\n \n### Checking BitLocker status with Windows PowerShell\n\nWindows PowerShell commands offer another way to query BitLocker status for volumes. Like manage-bde, Windows PowerShell includes the advantage of being able to check the status of a volume on a remote computer.\n\nUsing the Get-BitLockerVolume cmdlet, each volume on the system will display its current BitLocker status. To get information that is more detailed on a specific volume, use the following command:\n\n``` syntax\nGet-BitLockerVolume <volume> -Verbose | fl\n```\nThis command will display information about the encryption method, volume type, key protectors, etc.\n\n### Provisioning BitLocker during operating system deployment\n\nAdministrators can enable BitLocker prior to operating system deployment from the Windows Pre-installation Environment. This is done with a randomly generated clear key protector applied to the formatted volume and encrypting the volume prior to running the Windows setup process. If the encryption uses the Used Disk Space Only option described later in this document, this step takes only a few seconds and incorporates well into regular deployment processes.\n\n### Decrypting BitLocker volumes\n\nDecrypting volumes removes BitLocker and any associated protectors from the volumes. Decryption should occur when protection is no longer required. BitLocker decryption should not occur as a troubleshooting step. BitLocker can be removed from a volume using the BitLocker control panel applet, manage-bde, or Windows PowerShell cmdlets. We will discuss each method further below.\n\n### Decrypting volumes using the BitLocker control panel applet\n\nBitLocker decryption using the control panel is done using a Wizard. The control panel can be called from Windows Explorer or by opening the directly. After opening the BitLocker control panel, users will select the Turn off BitLocker option to begin the process.\nOnce selected, the user chooses to continue by clicking the confirmation dialog. With Turn off BitLocker confirmed, the drive decryption process will begin and report status to the control panel.\n\nThe control panel does not report decryption progress but displays it in the notification area of the task bar. Selecting the notification area icon will open a modal dialog with progress.\n\nOnce decryption is complete, the drive will update its status in the control panel and is available for encryption.\n\n### Decrypting volumes using the manage-bde command line interface\n\nDecrypting volumes using manage-bde is very straightforward. Decryption with manage-bde offers the advantage of not requiring user confirmation to start the process. Manage-bde uses the -off command to start the decryption process. A sample command for decryption is:\n\n``` syntax\nmanage-bde -off C:\n```\nThis command disables protectors while it decrypts the volume and removes all protectors when decryption is complete. If a user wishes to check the status of the decryption, they can use the following command:\n\n``` syntax\nmanage-bde -status C:\n```\n### Decrypting volumes using the BitLocker Windows PowerShell cmdlets\n\nDecryption with Windows PowerShell cmdlets is straightforward, similar to manage-bde. The additional advantage Windows PowerShell offers is the ability to decrypt multiple drives in one pass. In the example below, the user has three encrypted volumes, which they wish to decrypt.\n\nUsing the Disable-BitLocker command, they can remove all protectors and encryption at the same time without the need for additional commands. An example of this command is:\n\n``` syntax\nDisableBitLocker\n```\nIf a user did not want to input each mount point individually, using the `-MountPoint` parameter in an array can sequence the same command into one line without requiring additional user input. An example command is:\n\n``` syntax\nDisable-BitLocker -MountPoint E:,F:,G:\n```\n## See also\n\n- [Prepare your organization for BitLocker: Planning and p\\\\olicies](prepare-your-organization-for-bitlocker-planning-and-policies.md)\n- [BitLocker recovery guide](bitlocker-recovery-guide-plan.md)\n- [BitLocker: How to enable Network Unlock](bitlocker-how-to-enable-network-unlock.md)\n- [BitLocker overview](bitlocker-overview.md)\n \n \n"}