{"nodes":[{"content":"Planning Your Windows Firewall with Advanced Security Design (Windows 10)","pos":[11,84]},{"content":"Planning Your Windows Firewall with Advanced Security Design","pos":[98,158]},{"content":"Planning Your Windows Firewall with Advanced Security Design","pos":[314,374]},{"content":"Applies to","pos":[378,388]},{"content":"Windows 10","pos":[395,405]},{"content":"Windows Server 2016 Technical Preview","pos":[410,447]},{"content":"After you have gathered the relevant information in the previous sections, and understand the basics of the designs as described earlier in this guide, you can select the design (or combination of designs) that meet your needs.","pos":[449,676]},{"content":"Basic firewall design","pos":[681,702]},{"content":"We recommend that you deploy at least the basic firewall design.","pos":[704,768]},{"content":"As discussed in the <bpt id=\"p1\">[</bpt>Protect Devices from Unwanted Network Traffic<ept id=\"p1\">](protect-devices-from-unwanted-network-traffic.md)</ept> section, host-based firewalls are an important element in a defense-in-depth strategy and complement most other security measures you put in place in your organization.","pos":[769,1055]},{"pos":[1057,1243],"content":"When you are ready to examine the options for firewall policy settings, see the <bpt id=\"p1\">[</bpt>Planning Settings for a Basic Firewall Policy<ept id=\"p1\">](planning-settings-for-a-basic-firewall-policy.md)</ept> section."},{"content":"Algorithm and method support and selection","pos":[1248,1290]},{"content":"To create a domain isolation or server isolation design, you must understand the algorithms available in each version of Windows, as well as their relative strengths.","pos":[1292,1458]},{"content":"IPsec performance considerations","pos":[1463,1495]},{"content":"Although IPsec is critically important in securing network traffic going to and from your devices, there are costs associated with its use.","pos":[1497,1636]},{"content":"The mathematically intensive cryptographic algorithms require a significant amount of computing power, which can prevent your device from making use of all of the available bandwidth.","pos":[1637,1820]},{"content":"For example, an IPsec-enabled device using the AES encryption protocols on a 10 gigabits per second (Gbps) network link might see a throughput of 4.5 Gbps.","pos":[1821,1976]},{"content":"This is due to the demands placed on the CPU to perform the cryptographic functions required by the IPsec integrity and encryption algorithms.","pos":[1977,2119]},{"content":"IPsec task offload is a Windows technology that supports network adapters equipped with dedicated cryptographic processors to perform the computationally intensive work required by IPsec.","pos":[2121,2308]},{"content":"This frees up a deviceâ€™s CPU and can dramatically increase network throughput.","pos":[2309,2387]},{"content":"For the same network link as above, the throughput with IPsec task offload enabled improves to about 9.2 Gbps.","pos":[2388,2498]},{"content":"Domain isolation design","pos":[2503,2526]},{"content":"Include this design in your plans:","pos":[2529,2563]},{"content":"If you have an Active Directory domain of which most of the devices are members.","pos":[2569,2649]},{"content":"If you want to prevent the devices in your organization from accepting any unsolicited network traffic from devices that are not part of the domain.","pos":[2655,2803]},{"content":"If you plan on including the basic firewall design as part of your deployment, we recommend that you deploy the firewall policies first to confirm that they work properly.","pos":[2805,2976]},{"content":"Also plan to enable your connection security rules in request mode at first, instead of the more restrictive require mode, until you are sure that the devices are all correctly protecting network traffic with IPsec.","pos":[2977,3192]},{"content":"If something is wrong, request mode still allows communications to continue while you are troubleshooting.","pos":[3193,3299]},{"pos":[3301,3462],"content":"When you are ready to examine the options for creating an isolated domain, see the <bpt id=\"p1\">[</bpt>Planning Domain Isolation Zones<ept id=\"p1\">](planning-domain-isolation-zones.md)</ept> section."},{"content":"Server isolation design","pos":[3467,3490]},{"content":"Include this design in your plans:","pos":[3493,3527]},{"content":"If you have an isolated domain and you want to additionally restrict access to specific servers to only authorized users and devices.","pos":[3533,3666]},{"content":"You are not deploying an isolated domain, but want to take advantage of similar benefits for a few specific servers.","pos":[3672,3788]},{"content":"You can restrict access to the isolated servers to only authorized users and devices.","pos":[3789,3874]},{"content":"If you plan to include domain isolation in your deployment, we recommend that you complete that layer and confirm its correct operation before you implement the additional server isolation elements.","pos":[3876,4074]},{"pos":[4076,4227],"content":"When you are ready to examine the options for isolating servers, see the <bpt id=\"p1\">[</bpt>Planning Server Isolation Zones<ept id=\"p1\">](planning-server-isolation-zones.md)</ept> section."},{"content":"Certificate-based authentication design","pos":[4232,4271]},{"content":"Include this design in your plans:","pos":[4274,4308]},{"content":"If you want to implement some of the elements of domain or server isolation on devices that are not joined to an Active Directory domain, or do not want to use domain membership as an authentication mechanism.","pos":[4314,4523]},{"content":"You have an isolated domain and want to include a server that is not a member of the Active Directory domain because the device is not running Windows, or for any other reason.","pos":[4529,4705]},{"content":"You must enable external devices that are not managed by your organization to access information on one of your servers, and want to do this in a secure way.","pos":[4711,4868]},{"content":"If you plan to include domain or server isolation in your deployment, we recommend that you complete those elements and confirm their correct operation before you add certificate-based authentication to the devices that require it.","pos":[4870,5101]},{"pos":[5103,5295],"content":"When you are ready to examine the options for using certificate-based authentication, see the <bpt id=\"p1\">[</bpt>Planning Certificate-based Authentication<ept id=\"p1\">](planning-certificate-based-authentication.md)</ept> section."},{"content":"Documenting your design","pos":[5300,5323]},{"content":"After you finish selecting the designs that you will use, you must assign each of your devices to the appropriate isolation zone and document the assignment for use by the deployment team.","pos":[5326,5514]},{"content":"Documenting the Zones","pos":[5521,5542]},{"content":"Designing groups and GPOs","pos":[5574,5599]},{"content":"After you have selected a design and assigned your devices to zones, you can begin laying out the isolation groups for each zone, the network access groups for isolated server access, and the GPOs that you will use to apply the settings and rules to your devices.","pos":[5602,5865]},{"pos":[5867,6082],"content":"When you are ready to examine the options for the groups, filters, and GPOs, see the <bpt id=\"p1\">[</bpt>Planning Group Policy Deployment for Your Isolation Zones<ept id=\"p1\">](planning-group-policy-deployment-for-your-isolation-zones.md)</ept> section."},{"pos":[6084,6191],"content":"<bpt id=\"p1\">**</bpt>Next: <ept id=\"p1\">**</ept><bpt id=\"p2\">[</bpt>Planning Settings for a Basic Firewall Policy<ept id=\"p2\">](planning-settings-for-a-basic-firewall-policy.md)</ept>"}],"content":"---\ntitle: Planning Your Windows Firewall with Advanced Security Design (Windows 10)\ndescription: Planning Your Windows Firewall with Advanced Security Design\nms.assetid: f3ac3d49-ef4c-4f3c-a16c-e107284e169f\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Planning Your Windows Firewall with Advanced Security Design\n\n**Applies to**\n-   Windows 10\n-   Windows Server 2016 Technical Preview\n\nAfter you have gathered the relevant information in the previous sections, and understand the basics of the designs as described earlier in this guide, you can select the design (or combination of designs) that meet your needs.\n\n## Basic firewall design\n\nWe recommend that you deploy at least the basic firewall design. As discussed in the [Protect Devices from Unwanted Network Traffic](protect-devices-from-unwanted-network-traffic.md) section, host-based firewalls are an important element in a defense-in-depth strategy and complement most other security measures you put in place in your organization.\n\nWhen you are ready to examine the options for firewall policy settings, see the [Planning Settings for a Basic Firewall Policy](planning-settings-for-a-basic-firewall-policy.md) section.\n\n## Algorithm and method support and selection\n\nTo create a domain isolation or server isolation design, you must understand the algorithms available in each version of Windows, as well as their relative strengths.\n\n## IPsec performance considerations\n\nAlthough IPsec is critically important in securing network traffic going to and from your devices, there are costs associated with its use. The mathematically intensive cryptographic algorithms require a significant amount of computing power, which can prevent your device from making use of all of the available bandwidth. For example, an IPsec-enabled device using the AES encryption protocols on a 10 gigabits per second (Gbps) network link might see a throughput of 4.5 Gbps. This is due to the demands placed on the CPU to perform the cryptographic functions required by the IPsec integrity and encryption algorithms.\n\nIPsec task offload is a Windows technology that supports network adapters equipped with dedicated cryptographic processors to perform the computationally intensive work required by IPsec. This frees up a deviceâ€™s CPU and can dramatically increase network throughput. For the same network link as above, the throughput with IPsec task offload enabled improves to about 9.2 Gbps.\n\n## Domain isolation design\n\n\nInclude this design in your plans:\n\n-   If you have an Active Directory domain of which most of the devices are members.\n\n-   If you want to prevent the devices in your organization from accepting any unsolicited network traffic from devices that are not part of the domain.\n\nIf you plan on including the basic firewall design as part of your deployment, we recommend that you deploy the firewall policies first to confirm that they work properly. Also plan to enable your connection security rules in request mode at first, instead of the more restrictive require mode, until you are sure that the devices are all correctly protecting network traffic with IPsec. If something is wrong, request mode still allows communications to continue while you are troubleshooting.\n\nWhen you are ready to examine the options for creating an isolated domain, see the [Planning Domain Isolation Zones](planning-domain-isolation-zones.md) section.\n\n## Server isolation design\n\n\nInclude this design in your plans:\n\n-   If you have an isolated domain and you want to additionally restrict access to specific servers to only authorized users and devices.\n\n-   You are not deploying an isolated domain, but want to take advantage of similar benefits for a few specific servers. You can restrict access to the isolated servers to only authorized users and devices.\n\nIf you plan to include domain isolation in your deployment, we recommend that you complete that layer and confirm its correct operation before you implement the additional server isolation elements.\n\nWhen you are ready to examine the options for isolating servers, see the [Planning Server Isolation Zones](planning-server-isolation-zones.md) section.\n\n## Certificate-based authentication design\n\n\nInclude this design in your plans:\n\n-   If you want to implement some of the elements of domain or server isolation on devices that are not joined to an Active Directory domain, or do not want to use domain membership as an authentication mechanism.\n\n-   You have an isolated domain and want to include a server that is not a member of the Active Directory domain because the device is not running Windows, or for any other reason.\n\n-   You must enable external devices that are not managed by your organization to access information on one of your servers, and want to do this in a secure way.\n\nIf you plan to include domain or server isolation in your deployment, we recommend that you complete those elements and confirm their correct operation before you add certificate-based authentication to the devices that require it.\n\nWhen you are ready to examine the options for using certificate-based authentication, see the [Planning Certificate-based Authentication](planning-certificate-based-authentication.md) section.\n\n## Documenting your design\n\n\nAfter you finish selecting the designs that you will use, you must assign each of your devices to the appropriate isolation zone and document the assignment for use by the deployment team.\n\n-   [Documenting the Zones](documenting-the-zones.md)\n\n## Designing groups and GPOs\n\n\nAfter you have selected a design and assigned your devices to zones, you can begin laying out the isolation groups for each zone, the network access groups for isolated server access, and the GPOs that you will use to apply the settings and rules to your devices.\n\nWhen you are ready to examine the options for the groups, filters, and GPOs, see the [Planning Group Policy Deployment for Your Isolation Zones](planning-group-policy-deployment-for-your-isolation-zones.md) section.\n\n**Next: **[Planning Settings for a Basic Firewall Policy](planning-settings-for-a-basic-firewall-policy.md)\n"}