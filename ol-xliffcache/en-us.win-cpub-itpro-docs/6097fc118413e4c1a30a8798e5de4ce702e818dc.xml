{"nodes":[{"content":"Dynamic Access Control Overview (Windows 10)","pos":[11,55]},{"content":"Dynamic Access Control Overview","pos":[69,100]},{"content":"Dynamic Access Control Overview","pos":[185,216]},{"content":"Applies to","pos":[220,230]},{"content":"Windows Server 2016","pos":[237,256]},{"content":"This overview topic for the IT professional describes Dynamic Access Control and its associated elements, which were introduced in Windows Server 2012 and Windows 8.","pos":[258,423]},{"content":"Domain-based Dynamic Access Control enables administrators to apply access-control permissions and restrictions based on well-defined rules that can include the sensitivity of the resources, the job or role of the user, and the configuration of the device that is used to access these resources.","pos":[425,720]},{"content":"For example, a user might have different permissions when they access a resource from their office computer versus when they are using a portable computer over a virtual private network.","pos":[722,908]},{"content":"Or access may be allowed only if a device meets the security requirements that are defined by the network administrators.","pos":[909,1030]},{"content":"When Dynamic Access Control is used, a user’s permissions change dynamically without additional administrator intervention if the user’s job or role changes (resulting in changes to the user’s account attributes in AD DS).","pos":[1031,1253]},{"content":"Dynamic Access Control is not supported in Windows operating systems prior to Windows Server 2012 and Windows 8.","pos":[1255,1367]},{"content":"When Dynamic Access Control is configured in environments with supported and non-supported versions of Windows, only the supported versions will implement the changes.","pos":[1368,1535]},{"content":"Features and concepts associated with Dynamic Access Control include:","pos":[1537,1606]},{"content":"Central access rules","pos":[1613,1633]},{"content":"Central access policies","pos":[1654,1677]},{"content":"Claims","pos":[1701,1707]},{"content":"Expressions","pos":[1729,1740]},{"content":"Proposed permissions","pos":[1768,1788]},{"pos":[1846,1866],"content":"Central access rules"},{"content":"A central access rule is an expression of authorization rules that can include one or more conditions involving user groups, user claims, device claims, and resource properties.","pos":[1868,2045]},{"content":"Multiple central access rules can be combined into a central access policy.","pos":[2046,2121]},{"content":"If one or more central access rules have been defined for a domain, file share administrators can match specific rules to specific resources and business requirements.","pos":[2123,2290]},{"pos":[2330,2353],"content":"Central access policies"},{"content":"Central access policies are authorization policies that include conditional expressions.","pos":[2355,2443]},{"content":"For example, let’s say an organization has a business requirement to restrict access to personally identifiable information (PII) in files to only the file owner and members of the human resources (HR) department who are allowed to view PII information.","pos":[2444,2697]},{"content":"This represents an organization-wide policy that applies to PII files wherever they are located on file servers across the organization.","pos":[2698,2834]},{"content":"To implement this policy, an organization needs to be able to:","pos":[2835,2897]},{"content":"Identify and mark the files that contain the PII.","pos":[2903,2952]},{"content":"Identify the group of HR members who are allowed to view the PII information.","pos":[2958,3035]},{"content":"Add the central access policy to a central access rule, and apply the central access rule to all files that contain the PII, wherever they are located amongst the file servers across the organization.","pos":[3041,3241]},{"content":"Central access policies act as security umbrellas that an organization applies across its servers.","pos":[3243,3341]},{"content":"These policies are in addition to (but do not replace) the local access policies or discretionary access control lists (DACLs) that are applied to files and folders.","pos":[3342,3507]},{"pos":[3545,3551],"content":"Claims"},{"content":"A claim is a unique piece of information about a user, device, or resource that has been published by a domain controller.","pos":[3553,3675]},{"content":"The user’s title, the department classification of a file, or the health state of a computer are valid examples of a claim.","pos":[3676,3799]},{"content":"An entity can involve more than one claim, and any combination of claims can be used to authorize access to resources.","pos":[3800,3918]},{"content":"The following types of claims are available in the supported versions of Windows:","pos":[3919,4000]},{"pos":[4006,4093],"content":"<bpt id=\"p1\">**</bpt>User claims<ept id=\"p1\">**</ept>   Active Directory attributes that are associated with a specific user."},{"pos":[4099,4199],"content":"<bpt id=\"p1\">**</bpt>Device claims<ept id=\"p1\">**</ept>   Active Directory attributes that are associated with a specific computer object."},{"pos":[4205,4342],"content":"<bpt id=\"p1\">**</bpt>Resource attributes<ept id=\"p1\">**</ept>  Global resource properties that are marked for use in authorization decisions and published in Active Directory."},{"content":"Claims make it possible for administrators to make precise organization- or enterprise-wide statements about users, devices, and resources that can be incorporated in expressions, rules, and policies.","pos":[4344,4544]},{"pos":[4588,4599],"content":"Expressions"},{"content":"Conditional expressions are an enhancement to access control management that allow or deny access to resources only when certain conditions are met, for example, group membership, location, or the security state of the device.","pos":[4601,4827]},{"content":"Expressions are managed through the Advanced Security Settings dialog box of the ACL Editor or the Central Access Rule Editor in the Active Directory Administrative Center (ADAC).","pos":[4828,5007]},{"content":"Expressions help administrators manage access to sensitive resources with flexible conditions in increasingly complex business environments.","pos":[5009,5149]},{"pos":[5193,5213],"content":"Proposed permissions"},{"content":"Proposed permissions enable an administrator to more accurately model the impact of potential changes to access control settings without actually changing them.","pos":[5215,5375]},{"content":"Predicting the effective access to a resource helps you plan and configure permissions for those resources before implementing those changes.","pos":[5377,5518]},{"content":"Additional changes","pos":[5523,5541]},{"content":"Additional enhancements in the supported versions of Windows that support Dynamic Access Control include:","pos":[5544,5649]},{"content":"Support in the Kerberos authentication protocol to reliably provide user claims, device claims, and device groups.","pos":[5655,5769]},{"content":"By default, devices running any of the supported versions of Windows are able to process Dynamic Access Control-related Kerberos tickets, which include data needed for compound authentication.","pos":[5771,5963]},{"content":"Domain controllers are able to issue and respond to Kerberos tickets with compound authentication-related information.","pos":[5964,6082]},{"content":"When a domain is configured to recognize Dynamic Access Control, devices receive claims from domain controllers during initial authentication, and they receive compound authentication tickets when submitting service ticket requests.","pos":[6083,6315]},{"content":"Compound authentication results in an access token that includes the identity of the user and the device on the resources that recognize Dynamic Access Control.","pos":[6316,6476]},{"content":"Support for using the Key Distribution Center (KDC) Group Policy setting to enable Dynamic Access Control for a domain.","pos":[6482,6601]},{"pos":[6603,6840],"content":"Every domain controller needs to have the same Administrative Template policy setting, which is located at <bpt id=\"p1\">**</bpt>Computer Configuration<ph id=\"ph1\">\\\\</ph>Policies<ph id=\"ph2\">\\\\</ph>Administrative Templates<ph id=\"ph3\">\\\\</ph>System<ph id=\"ph4\">\\\\</ph>KDC<ph id=\"ph5\">\\\\</ph>Support Dynamic Access Control and Kerberos armoring<ept id=\"p1\">**</ept>."},{"content":"Support for using the Key Distribution Center (KDC) Group Policy setting to enable Dynamic Access Control for a domain.","pos":[6846,6965]},{"pos":[6967,7204],"content":"Every domain controller needs to have the same Administrative Template policy setting, which is located at <bpt id=\"p1\">**</bpt>Computer Configuration<ph id=\"ph1\">\\\\</ph>Policies<ph id=\"ph2\">\\\\</ph>Administrative Templates<ph id=\"ph3\">\\\\</ph>System<ph id=\"ph4\">\\\\</ph>KDC<ph id=\"ph5\">\\\\</ph>Support Dynamic Access Control and Kerberos armoring<ept id=\"p1\">**</ept>."},{"content":"Support in Active Directory to store user and device claims, resource properties, and central access policy objects.","pos":[7210,7326]},{"content":"Support for using Group Policy to deploy central access policy objects.","pos":[7332,7403]},{"pos":[7405,7641],"content":"The following Group Policy setting enables you to deploy central access policy objects to file servers in your organization: <bpt id=\"p1\">**</bpt>Computer Configuration<ph id=\"ph1\">\\\\</ph>Policies<ph id=\"ph2\">\\\\</ph> Windows Settings<ph id=\"ph3\">\\\\</ph>Security Settings<ph id=\"ph4\">\\\\</ph>File System<ph id=\"ph5\">\\\\</ph>Central Access Policy<ept id=\"p1\">**</ept>."},{"content":"Support for claims-based file authorization and auditing for file systems by using Group Policy and Global Object Access Auditing","pos":[7647,7776]},{"content":"You must enable staged central access policy auditing to audit the effective access of central access policy by using proposed permissions.","pos":[7778,7917]},{"content":"You configure this setting for the computer under <bpt id=\"p1\">**</bpt>Advanced Audit Policy Configuration<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Security Settings<ept id=\"p2\">**</ept> of a Group Policy Object (GPO).","pos":[7918,8068]},{"content":"After you configure the security setting in the GPO, you can deploy the GPO to computers in your network.","pos":[8069,8174]},{"content":"Support for transforming or filtering claim policy objects that traverse Active Directory forest trusts","pos":[8180,8283]},{"content":"You can filter or transform incoming and outgoing claims that traverse a forest trust.","pos":[8285,8371]},{"content":"There are three basic scenarios for filtering and transforming claims:","pos":[8372,8442]},{"content":"<bpt id=\"p1\">**</bpt>Value-based filtering<ept id=\"p1\">**</ept>  Filters can be based on the value of a claim.","pos":[8448,8520]},{"content":"This allows the trusted forest to prevent claims with certain values from being sent to the trusting forest.","pos":[8521,8629]},{"content":"Domain controllers in trusting forests can use value-based filtering to guard against an elevation-of-privilege attack by filtering the incoming claims with specific values from the trusted forest.","pos":[8630,8827]},{"content":"<bpt id=\"p1\">**</bpt>Claim type-based filtering<ept id=\"p1\">**</ept>  Filters are based on the type of claim, rather than the value of the claim.","pos":[8833,8940]},{"content":"You identify the claim type by the name of the claim.","pos":[8941,8994]},{"content":"You use claim type-based filtering in the trusted forest, and it prevents Windows from sending claims that disclose information to the trusting forest.","pos":[8995,9146]},{"content":"<bpt id=\"p1\">**</bpt>Claim type-based transformation<ept id=\"p1\">**</ept>  Manipulates a claim before sending it to the intended target.","pos":[9152,9250]},{"content":"You use claim type-based transformation in the trusted forest to generalize a known claim that contains specific information.","pos":[9251,9376]},{"content":"You can use transformations to generalize the claim-type, the claim value, or both.","pos":[9377,9460]},{"pos":[9508,9529],"content":"Software requirements"},{"content":"Because claims and compound authentication for Dynamic Access Control require Kerberos authentication extensions, any domain that supports Dynamic Access Control must have enough domain controllers running the supported versions of Windows to support authentication from Dynamic Access Control-aware Kerberos clients.","pos":[9532,9849]},{"content":"By default, devices must use domain controllers in other sites.","pos":[9850,9913]},{"content":"If no such domain controllers are available, authentication will fail.","pos":[9914,9984]},{"content":"Therefore, you must support one of the following conditions:","pos":[9985,10045]},{"content":"Every domain that supports Dynamic Access Control must have enough domain controllers running the supported versions of Windows Server to support authentication from all devices running the supported versions of Windows or Windows Server.","pos":[10051,10289]},{"content":"Devices running the supported versions of Windows or that do not protect resources by using claims or compound identity, should disable Kerberos protocol support for Dynamic Access Control.","pos":[10295,10484]},{"content":"For domains that support user claims, every domain controller running the supported versions of Windows server must be configured with the appropriate setting to support claims and compound authentication, and to provide Kerberos armoring.","pos":[10486,10725]},{"content":"Configure settings in the KDC Administrative Template policy as follows:","pos":[10726,10798]},{"content":"<bpt id=\"p1\">**</bpt>Always provide claims<ept id=\"p1\">**</ept>   Use this setting if all domain controllers are running the supported versions of Windows Server.","pos":[10804,10928]},{"content":"In addition, set the domain functional level to Windows Server 2012 or higher.","pos":[10929,11007]},{"pos":[11013,11295],"content":"<bpt id=\"p1\">**</bpt>Supported<ept id=\"p1\">**</ept>   When you use this setting, monitor domain controllers to ensure that the number of domain controllers running the supported versions of Windows Server is sufficient for the number of client computers that need to access resources protected by Dynamic Access Control."},{"content":"If the user domain and file server domain are in different forests, all domain controllers in the file server’s forest root must be set at the Windows Server 2012 or higher functional level.","pos":[11297,11487]},{"content":"If clients do not recognize Dynamic Access Control, there must be a two-way trust relationship between the two forests.","pos":[11489,11608]},{"content":"If claims are transformed when they leave a forest, all domain controllers in the user’s forest root must be set at the Windows Server 2012 or higher functional level.","pos":[11610,11777]},{"content":"A file server running Windows Server 2012 or Windows Server 2012 R2 must have a Group Policy setting that specifies whether it needs to get user claims for user tokens that do not carry claims.","pos":[11779,11972]},{"content":"This setting is set by default to <bpt id=\"p1\">**</bpt>Automatic<ept id=\"p1\">**</ept>, which results in this Group Policy setting to be turned <bpt id=\"p2\">**</bpt>On<ept id=\"p2\">**</ept> if there is a central policy that contains user or device claims for that file server.","pos":[11973,12171]},{"content":"If the file server contains discretionary ACLs that include user claims, you need to set this Group Policy to <bpt id=\"p1\">**</bpt>On<ept id=\"p1\">**</ept> so that the server knows to request claims on behalf of users that do not provide claims when they access the server.","pos":[12172,12406]},{"content":"Additional resource","pos":[12411,12430]},{"content":"Access control overview","pos":[12433,12456]}],"content":"---\ntitle: Dynamic Access Control Overview (Windows 10)\ndescription: Dynamic Access Control Overview\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\n---\n\n# Dynamic Access Control Overview\n\n**Applies to**\n-   Windows Server 2016\n\nThis overview topic for the IT professional describes Dynamic Access Control and its associated elements, which were introduced in Windows Server 2012 and Windows 8.\n\nDomain-based Dynamic Access Control enables administrators to apply access-control permissions and restrictions based on well-defined rules that can include the sensitivity of the resources, the job or role of the user, and the configuration of the device that is used to access these resources.\n\nFor example, a user might have different permissions when they access a resource from their office computer versus when they are using a portable computer over a virtual private network. Or access may be allowed only if a device meets the security requirements that are defined by the network administrators. When Dynamic Access Control is used, a user’s permissions change dynamically without additional administrator intervention if the user’s job or role changes (resulting in changes to the user’s account attributes in AD DS).\n\nDynamic Access Control is not supported in Windows operating systems prior to Windows Server 2012 and Windows 8. When Dynamic Access Control is configured in environments with supported and non-supported versions of Windows, only the supported versions will implement the changes.\n\nFeatures and concepts associated with Dynamic Access Control include:\n\n-   [Central access rules](#bkmk-rules)\n\n-   [Central access policies](#bkmk-policies)\n\n-   [Claims](#bkmk-claims)\n\n-   [Expressions](#bkmk-expressions2)\n\n-   [Proposed permissions](#bkmk-permissions2)\n\n### <a href=\"\" id=\"bkmk-rules\"></a>Central access rules\n\nA central access rule is an expression of authorization rules that can include one or more conditions involving user groups, user claims, device claims, and resource properties. Multiple central access rules can be combined into a central access policy.\n\nIf one or more central access rules have been defined for a domain, file share administrators can match specific rules to specific resources and business requirements.\n\n### <a href=\"\" id=\"bkmk-policies\"></a>Central access policies\n\nCentral access policies are authorization policies that include conditional expressions. For example, let’s say an organization has a business requirement to restrict access to personally identifiable information (PII) in files to only the file owner and members of the human resources (HR) department who are allowed to view PII information. This represents an organization-wide policy that applies to PII files wherever they are located on file servers across the organization. To implement this policy, an organization needs to be able to:\n\n-   Identify and mark the files that contain the PII.\n\n-   Identify the group of HR members who are allowed to view the PII information.\n\n-   Add the central access policy to a central access rule, and apply the central access rule to all files that contain the PII, wherever they are located amongst the file servers across the organization.\n\nCentral access policies act as security umbrellas that an organization applies across its servers. These policies are in addition to (but do not replace) the local access policies or discretionary access control lists (DACLs) that are applied to files and folders.\n\n### <a href=\"\" id=\"bkmk-claims\"></a>Claims\n\nA claim is a unique piece of information about a user, device, or resource that has been published by a domain controller. The user’s title, the department classification of a file, or the health state of a computer are valid examples of a claim. An entity can involve more than one claim, and any combination of claims can be used to authorize access to resources. The following types of claims are available in the supported versions of Windows:\n\n-   **User claims**   Active Directory attributes that are associated with a specific user.\n\n-   **Device claims**   Active Directory attributes that are associated with a specific computer object.\n\n-   **Resource attributes**  Global resource properties that are marked for use in authorization decisions and published in Active Directory.\n\nClaims make it possible for administrators to make precise organization- or enterprise-wide statements about users, devices, and resources that can be incorporated in expressions, rules, and policies.\n\n### <a href=\"\" id=\"bkmk-expressions2\"></a>Expressions\n\nConditional expressions are an enhancement to access control management that allow or deny access to resources only when certain conditions are met, for example, group membership, location, or the security state of the device. Expressions are managed through the Advanced Security Settings dialog box of the ACL Editor or the Central Access Rule Editor in the Active Directory Administrative Center (ADAC).\n\nExpressions help administrators manage access to sensitive resources with flexible conditions in increasingly complex business environments.\n\n### <a href=\"\" id=\"bkmk-permissions2\"></a>Proposed permissions\n\nProposed permissions enable an administrator to more accurately model the impact of potential changes to access control settings without actually changing them.\n\nPredicting the effective access to a resource helps you plan and configure permissions for those resources before implementing those changes.\n\n## Additional changes\n\n\nAdditional enhancements in the supported versions of Windows that support Dynamic Access Control include:\n\n### Support in the Kerberos authentication protocol to reliably provide user claims, device claims, and device groups.\n\nBy default, devices running any of the supported versions of Windows are able to process Dynamic Access Control-related Kerberos tickets, which include data needed for compound authentication. Domain controllers are able to issue and respond to Kerberos tickets with compound authentication-related information. When a domain is configured to recognize Dynamic Access Control, devices receive claims from domain controllers during initial authentication, and they receive compound authentication tickets when submitting service ticket requests. Compound authentication results in an access token that includes the identity of the user and the device on the resources that recognize Dynamic Access Control.\n\n### Support for using the Key Distribution Center (KDC) Group Policy setting to enable Dynamic Access Control for a domain.\n\nEvery domain controller needs to have the same Administrative Template policy setting, which is located at **Computer Configuration\\\\Policies\\\\Administrative Templates\\\\System\\\\KDC\\\\Support Dynamic Access Control and Kerberos armoring**.\n\n### Support for using the Key Distribution Center (KDC) Group Policy setting to enable Dynamic Access Control for a domain.\n\nEvery domain controller needs to have the same Administrative Template policy setting, which is located at **Computer Configuration\\\\Policies\\\\Administrative Templates\\\\System\\\\KDC\\\\Support Dynamic Access Control and Kerberos armoring**.\n\n### Support in Active Directory to store user and device claims, resource properties, and central access policy objects.\n\n### Support for using Group Policy to deploy central access policy objects.\n\nThe following Group Policy setting enables you to deploy central access policy objects to file servers in your organization: **Computer Configuration\\\\Policies\\\\ Windows Settings\\\\Security Settings\\\\File System\\\\Central Access Policy**.\n\n### Support for claims-based file authorization and auditing for file systems by using Group Policy and Global Object Access Auditing\n\nYou must enable staged central access policy auditing to audit the effective access of central access policy by using proposed permissions. You configure this setting for the computer under **Advanced Audit Policy Configuration** in the **Security Settings** of a Group Policy Object (GPO). After you configure the security setting in the GPO, you can deploy the GPO to computers in your network.\n\n### Support for transforming or filtering claim policy objects that traverse Active Directory forest trusts\n\nYou can filter or transform incoming and outgoing claims that traverse a forest trust. There are three basic scenarios for filtering and transforming claims:\n\n-   **Value-based filtering**  Filters can be based on the value of a claim. This allows the trusted forest to prevent claims with certain values from being sent to the trusting forest. Domain controllers in trusting forests can use value-based filtering to guard against an elevation-of-privilege attack by filtering the incoming claims with specific values from the trusted forest.\n\n-   **Claim type-based filtering**  Filters are based on the type of claim, rather than the value of the claim. You identify the claim type by the name of the claim. You use claim type-based filtering in the trusted forest, and it prevents Windows from sending claims that disclose information to the trusting forest.\n\n-   **Claim type-based transformation**  Manipulates a claim before sending it to the intended target. You use claim type-based transformation in the trusted forest to generalize a known claim that contains specific information. You can use transformations to generalize the claim-type, the claim value, or both.\n\n## <a href=\"\" id=\"software-requirements-\"></a>Software requirements\n\n\nBecause claims and compound authentication for Dynamic Access Control require Kerberos authentication extensions, any domain that supports Dynamic Access Control must have enough domain controllers running the supported versions of Windows to support authentication from Dynamic Access Control-aware Kerberos clients. By default, devices must use domain controllers in other sites. If no such domain controllers are available, authentication will fail. Therefore, you must support one of the following conditions:\n\n-   Every domain that supports Dynamic Access Control must have enough domain controllers running the supported versions of Windows Server to support authentication from all devices running the supported versions of Windows or Windows Server.\n\n-   Devices running the supported versions of Windows or that do not protect resources by using claims or compound identity, should disable Kerberos protocol support for Dynamic Access Control.\n\nFor domains that support user claims, every domain controller running the supported versions of Windows server must be configured with the appropriate setting to support claims and compound authentication, and to provide Kerberos armoring. Configure settings in the KDC Administrative Template policy as follows:\n\n-   **Always provide claims**   Use this setting if all domain controllers are running the supported versions of Windows Server. In addition, set the domain functional level to Windows Server 2012 or higher.\n\n-   **Supported**   When you use this setting, monitor domain controllers to ensure that the number of domain controllers running the supported versions of Windows Server is sufficient for the number of client computers that need to access resources protected by Dynamic Access Control.\n\nIf the user domain and file server domain are in different forests, all domain controllers in the file server’s forest root must be set at the Windows Server 2012 or higher functional level.\n\nIf clients do not recognize Dynamic Access Control, there must be a two-way trust relationship between the two forests.\n\nIf claims are transformed when they leave a forest, all domain controllers in the user’s forest root must be set at the Windows Server 2012 or higher functional level.\n\nA file server running Windows Server 2012 or Windows Server 2012 R2 must have a Group Policy setting that specifies whether it needs to get user claims for user tokens that do not carry claims. This setting is set by default to **Automatic**, which results in this Group Policy setting to be turned **On** if there is a central policy that contains user or device claims for that file server. If the file server contains discretionary ACLs that include user claims, you need to set this Group Policy to **On** so that the server knows to request claims on behalf of users that do not provide claims when they access the server.\n\n## Additional resource\n\n[Access control overview](access-control.md)\n\n \n\n \n\n\n\n\n"}