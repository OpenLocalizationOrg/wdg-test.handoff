{"nodes":[{"content":"Deny log on as a batch job (Windows 10)","pos":[11,50]},{"content":"Describes the best practices, location, values, policy management, and security considerations for the Deny log on as a batch job security policy setting.","pos":[64,218]},{"content":"Deny log on as a batch job","pos":[374,400]},{"content":"Applies to","pos":[404,414]},{"content":"Windows 10","pos":[421,431]},{"pos":[433,591],"content":"Describes the best practices, location, values, policy management, and security considerations for the <bpt id=\"p1\">**</bpt>Deny log on as a batch job<ept id=\"p1\">**</ept> security policy setting."},{"content":"Reference","pos":[596,605]},{"content":"This policy setting determines which accounts are prevented from logging on by using a batch-queue tool to schedule and start jobs automatically in the future.","pos":[607,766]},{"content":"The ability to log on by using a batch-queue tool is needed for any account that is used to start scheduled jobs by means of the Task Scheduler.","pos":[767,912]},{"content":"Constant: SeDenyBatchLogonRight","pos":[914,945]},{"content":"Possible values","pos":[951,966]},{"content":"User-defined list of accounts","pos":[972,1001]},{"content":"Not defined","pos":[1006,1017]},{"content":"Best practices","pos":[1023,1037]},{"content":"When you assign this user right, thoroughly test that the effect is what you intended.","pos":[1043,1129]},{"content":"Within a domain, modify this setting on the applicable Group Policy Object (GPO).","pos":[1134,1215]},{"pos":[1220,1447],"content":"<bpt id=\"p1\">**</bpt>Deny log on as a batch job<ept id=\"p1\">**</ept> prevents administrators or operators from using their personal accounts to schedule tasks, which helps with business continuity when that person transitions to other positions or responsibilities."},{"content":"Location","pos":[1453,1461]},{"content":"Computer Configuration<ph id=\"ph1\">\\\\</ph>Windows Settings<ph id=\"ph2\">\\\\</ph>Security Settings<ph id=\"ph3\">\\\\</ph>Local Policies<ph id=\"ph4\">\\\\</ph>User Rights Assignment","pos":[1463,1562]},{"content":"Default values","pos":[1568,1582]},{"content":"The following table lists the actual and effective default policy values for the most recent supported versions of Windows.","pos":[1584,1707]},{"content":"Default values are also listed on the policy’s property page.","pos":[1708,1769]},{"content":"Server type or GPO","pos":[1773,1791]},{"content":"Default value","pos":[1794,1807]},{"content":"Default Domain Policy","pos":[1822,1843]},{"content":"Not defined","pos":[1846,1857]},{"content":"Default Domain Controller Policy","pos":[1862,1894]},{"content":"Not defined","pos":[1897,1908]},{"content":"Stand-Alone Server Default Settings","pos":[1914,1949]},{"content":"Not defined","pos":[1952,1963]},{"content":"Domain Controller Effective Default Settings","pos":[1969,2013]},{"content":"Not defined","pos":[2016,2027]},{"content":"Member Server Effective Default Settings","pos":[2033,2073]},{"content":"Not defined","pos":[2076,2087]},{"content":"Client Computer Effective Default Settings","pos":[2093,2135]},{"content":"Not defined","pos":[2138,2149]},{"content":"Policy management","pos":[2158,2175]},{"content":"This section describes features and tools available to help you manage this policy.","pos":[2177,2260]},{"content":"A restart of the device is not required for this policy setting to be effective.","pos":[2262,2342]},{"content":"Any change to the user rights assignment for an account becomes effective the next time the owner of the account logs on.","pos":[2344,2465]},{"pos":[2467,2556],"content":"This policy setting might conflict with and negate the <bpt id=\"p1\">**</bpt>Log on as a batch job<ept id=\"p1\">**</ept> setting."},{"content":"Group Policy","pos":[2562,2574]},{"content":"On a domain-joined device, including the domain controller, this policy can be overwritten by a domain policy, which will prevent you from modifying the local policy setting.","pos":[2576,2750]},{"content":"For example, if you are trying to configure Task Scheduler on your domain controller, check the Settings tab of your two domain controller policy and domain policy GPOs in the Group Policy Management Console (GPMC).","pos":[2752,2967]},{"content":"Verify the targeted account is not present in the <bpt id=\"p1\">**</bpt>Deny log on as a batch job<ept id=\"p1\">**</ept>","pos":[2968,3048]},{"pos":[3051,3145],"content":"User Rights Assignment and also correctly configured in the <bpt id=\"p1\">**</bpt>Log on as a batch job<ept id=\"p1\">**</ept> setting."},{"content":"Settings are applied in the following order through a Group Policy Object (GPO), which will overwrite settings on the local computer at the next Group Policy update:","pos":[3147,3312]},{"content":"Local policy settings","pos":[3318,3339]},{"content":"Site policy settings","pos":[3344,3364]},{"content":"Domain policy settings","pos":[3369,3391]},{"content":"OU policy settings","pos":[3396,3414]},{"content":"When a local setting is greyed out, it indicates that a GPO currently controls that setting.","pos":[3416,3508]},{"content":"Security considerations","pos":[3513,3536]},{"content":"This section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.","pos":[3538,3732]},{"content":"Vulnerability","pos":[3738,3751]},{"pos":[3753,3937],"content":"Accounts that have the <bpt id=\"p1\">**</bpt>Deny log on as a batch job<ept id=\"p1\">**</ept> user right could be used to schedule jobs that could consume excessive computer resources and cause a denial-of-service condition."},{"content":"Countermeasure","pos":[3943,3957]},{"pos":[3959,4039],"content":"Assign the <bpt id=\"p1\">**</bpt>Deny log on as a batch job<ept id=\"p1\">**</ept> user right to the local Guest account."},{"content":"Potential impact","pos":[4045,4061]},{"content":"If you assign the <bpt id=\"p1\">**</bpt>Deny log on as a batch job<ept id=\"p1\">**</ept> user right to other accounts, you could deny the ability to perform required job activities to users who are assigned specific administrative roles.","pos":[4063,4260]},{"content":"You should confirm that delegated tasks are not affected adversely.","pos":[4261,4328]},{"content":"Related topics","pos":[4333,4347]},{"content":"User Rights Assignment","pos":[4352,4374]}],"content":"---\ntitle: Deny log on as a batch job (Windows 10)\ndescription: Describes the best practices, location, values, policy management, and security considerations for the Deny log on as a batch job security policy setting.\nms.assetid: 0ac36ebd-5e28-4b6a-9b4e-8924c6ecf44b\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Deny log on as a batch job\n\n**Applies to**\n-   Windows 10\n\nDescribes the best practices, location, values, policy management, and security considerations for the **Deny log on as a batch job** security policy setting.\n\n## Reference\n\nThis policy setting determines which accounts are prevented from logging on by using a batch-queue tool to schedule and start jobs automatically in the future. The ability to log on by using a batch-queue tool is needed for any account that is used to start scheduled jobs by means of the Task \nScheduler.\n\nConstant: SeDenyBatchLogonRight\n\n### Possible values\n\n-   User-defined list of accounts\n-   Not defined\n\n### Best practices\n\n1.  When you assign this user right, thoroughly test that the effect is what you intended.\n2.  Within a domain, modify this setting on the applicable Group Policy Object (GPO).\n3.  **Deny log on as a batch job** prevents administrators or operators from using their personal accounts to schedule tasks, which helps with business continuity when that person transitions to other positions or responsibilities.\n\n### Location\n\nComputer Configuration\\\\Windows Settings\\\\Security Settings\\\\Local Policies\\\\User Rights Assignment\n\n### Default values\n\nThe following table lists the actual and effective default policy values for the most recent supported versions of Windows. Default values are also listed on the policy’s property page.\n\n| Server type or GPO | Default value |\n| - | - |\n| Default Domain Policy | Not defined| \n| Default Domain Controller Policy | Not defined | \n| Stand-Alone Server Default Settings | Not defined | \n| Domain Controller Effective Default Settings | Not defined | \n| Member Server Effective Default Settings | Not defined | \n| Client Computer Effective Default Settings | Not defined | \n \n## Policy management\n\nThis section describes features and tools available to help you manage this policy.\n\nA restart of the device is not required for this policy setting to be effective.\n\nAny change to the user rights assignment for an account becomes effective the next time the owner of the account logs on.\n\nThis policy setting might conflict with and negate the **Log on as a batch job** setting.\n\n### Group Policy\n\nOn a domain-joined device, including the domain controller, this policy can be overwritten by a domain policy, which will prevent you from modifying the local policy setting.\n\nFor example, if you are trying to configure Task Scheduler on your domain controller, check the Settings tab of your two domain controller policy and domain policy GPOs in the Group Policy Management Console (GPMC). Verify the targeted account is not present in the **Deny log on as a batch job** \n\nUser Rights Assignment and also correctly configured in the **Log on as a batch job** setting.\n\nSettings are applied in the following order through a Group Policy Object (GPO), which will overwrite settings on the local computer at the next Group Policy update:\n\n1.  Local policy settings\n2.  Site policy settings\n3.  Domain policy settings\n4.  OU policy settings\n\nWhen a local setting is greyed out, it indicates that a GPO currently controls that setting.\n\n## Security considerations\n\nThis section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.\n\n### Vulnerability\n\nAccounts that have the **Deny log on as a batch job** user right could be used to schedule jobs that could consume excessive computer resources and cause a denial-of-service condition.\n\n### Countermeasure\n\nAssign the **Deny log on as a batch job** user right to the local Guest account.\n\n### Potential impact\n\nIf you assign the **Deny log on as a batch job** user right to other accounts, you could deny the ability to perform required job activities to users who are assigned specific administrative roles. You should confirm that delegated tasks are not affected adversely.\n\n## Related topics\n\n- [User Rights Assignment](user-rights-assignment.md)\n"}