{"nodes":[{"content":"Create a rule that uses a path condition (Windows 10)","pos":[11,64]},{"content":"This topic for IT professionals shows how to create an AppLocker rule with a path condition.","pos":[78,170]},{"content":"Create a rule that uses a path condition","pos":[326,366]},{"content":"Applies to","pos":[370,380]},{"content":"Windows 10","pos":[387,397]},{"content":"This topic for IT professionals shows how to create an AppLocker rule with a path condition.","pos":[399,491]},{"content":"The path condition identifies an app by its location in the file system of the computer or on the network.","pos":[493,599]},{"content":"<bpt id=\"p1\">**</bpt>Important:<ept id=\"p1\">**</ept>  When creating a rule that uses a deny action, path conditions are less secure for preventing access to a file because a user could easily copy the file to a different location than what is specified in the rule.","pos":[602,829]},{"content":"Because path rules correspond to locations within the file system, you should ensure that there are no subdirectories that are writable by non-administrators.","pos":[830,988]},{"content":"For example, if you create a path rule for C:<ph id=\"ph1\">\\\\</ph> with the allow action, any file within C:<ph id=\"ph2\">\\\\</ph> will be allowed to run, including users' profiles.","pos":[989,1131]},{"pos":[1134,1281],"content":"For info about the path condition, see <bpt id=\"p1\">[</bpt>Understanding the path rule condition in AppLocker<ept id=\"p1\">](understanding-the-path-rule-condition-in-applocker.md)</ept>."},{"content":"You can perform this task by using the Group Policy Management Console for an AppLocker policy in a Group Policy Object (GPO) or by using the Local Security Policy snap-in for an AppLocker policy on a local computer or in a security template.","pos":[1283,1525]},{"content":"For information how to use these MMC snap-ins to administer AppLocker, see <bpt id=\"p1\">[</bpt>Administer AppLocker<ept id=\"p1\">](administer-applocker.md#bkmk-using-snapins)</ept>.","pos":[1526,1668]},{"content":"To create a new rule with a path condition","pos":[1672,1714]},{"content":"Open the AppLocker console, and then click the rule collection that you want to create the rule for.","pos":[1722,1822]},{"pos":[1827,1877],"content":"On the <bpt id=\"p1\">**</bpt>Action<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Create New Rule<ept id=\"p2\">**</ept>."},{"pos":[1882,1931],"content":"On the <bpt id=\"p1\">**</bpt>Before You Begin<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept>."},{"pos":[1936,2076],"content":"On the <bpt id=\"p1\">**</bpt>Permissions<ept id=\"p1\">**</ept> page, select the action (allow or deny) and the user or group that the rule should apply to, and then click <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept>."},{"pos":[2081,2169],"content":"On the <bpt id=\"p1\">**</bpt>Conditions<ept id=\"p1\">**</ept> page, select the <bpt id=\"p2\">**</bpt>Path<ept id=\"p2\">**</ept> rule condition, and then click <bpt id=\"p3\">**</bpt>Next<ept id=\"p3\">**</ept>."},{"pos":[2174,2239],"content":"Click <bpt id=\"p1\">**</bpt>Browse Files<ept id=\"p1\">**</ept> to locate the targeted folder for the app."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept>  When you browse to a file or folder location, the wizard automatically converts absolute file paths to use AppLocker path variables.","pos":[2246,2389]},{"content":"You may edit the path after browsing to specify an absolute path, or you may type the path directly into the <bpt id=\"p1\">**</bpt>Path<ept id=\"p1\">**</ept> box.","pos":[2390,2512]},{"content":"To learn more about AppLocker path variables, see <bpt id=\"p1\">[</bpt>Understanding the path rule condition in AppLocker<ept id=\"p1\">](understanding-the-path-rule-condition-in-applocker.md)</ept>.","pos":[2513,2671]},{"pos":[2682,2697],"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>."},{"content":"(Optional) On the <bpt id=\"p1\">**</bpt>Exceptions<ept id=\"p1\">**</ept> page, specify conditions by which to exclude files from being affected by the rule.","pos":[2702,2818]},{"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.","pos":[2819,2834]},{"pos":[2839,2964],"content":"On the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> page, either accept the automatically generated rule name or type a new rule name, and then click <bpt id=\"p2\">**</bpt>Create<ept id=\"p2\">**</ept>."}],"content":"---\ntitle: Create a rule that uses a path condition (Windows 10)\ndescription: This topic for IT professionals shows how to create an AppLocker rule with a path condition.\nms.assetid: 9b2093f5-5976-45fa-90c3-da1e0e845d95\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Create a rule that uses a path condition\n\n**Applies to**\n-   Windows 10\n\nThis topic for IT professionals shows how to create an AppLocker rule with a path condition.\n\nThe path condition identifies an app by its location in the file system of the computer or on the network.\n\n>**Important:**  When creating a rule that uses a deny action, path conditions are less secure for preventing access to a file because a user could easily copy the file to a different location than what is specified in the rule. Because path rules correspond to locations within the file system, you should ensure that there are no subdirectories that are writable by non-administrators. For example, if you create a path rule for C:\\\\ with the allow action, any file within C:\\\\ will be allowed to run, including users' profiles.\n \nFor info about the path condition, see [Understanding the path rule condition in AppLocker](understanding-the-path-rule-condition-in-applocker.md).\n\nYou can perform this task by using the Group Policy Management Console for an AppLocker policy in a Group Policy Object (GPO) or by using the Local Security Policy snap-in for an AppLocker policy on a local computer or in a security template. For information how to use these MMC snap-ins to administer AppLocker, see [Administer AppLocker](administer-applocker.md#bkmk-using-snapins).\n\n**To create a new rule with a path condition**\n\n1.  Open the AppLocker console, and then click the rule collection that you want to create the rule for.\n2.  On the **Action** menu, click **Create New Rule**.\n3.  On the **Before You Begin** page, click **Next**.\n4.  On the **Permissions** page, select the action (allow or deny) and the user or group that the rule should apply to, and then click **Next**.\n5.  On the **Conditions** page, select the **Path** rule condition, and then click **Next**.\n6.  Click **Browse Files** to locate the targeted folder for the app.\n\n    >**Note:**  When you browse to a file or folder location, the wizard automatically converts absolute file paths to use AppLocker path variables. You may edit the path after browsing to specify an absolute path, or you may type the path directly into the **Path** box. To learn more about AppLocker path variables, see [Understanding the path rule condition in AppLocker](understanding-the-path-rule-condition-in-applocker.md).\n     \n7.  Click **Next**.\n8.  (Optional) On the **Exceptions** page, specify conditions by which to exclude files from being affected by the rule. Click **Next**.\n9.  On the **Name** page, either accept the automatically generated rule name or type a new rule name, and then click **Create**.\n"}