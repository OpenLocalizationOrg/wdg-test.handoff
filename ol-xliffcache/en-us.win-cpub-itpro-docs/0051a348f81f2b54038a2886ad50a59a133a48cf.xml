{"nodes":[{"content":"Security and Protection Overview","pos":[11,43]},{"content":"Security and Protection Overview","pos":[57,89]},{"content":"Security and Protection Overview","pos":[263,295]},{"content":"Microsoft Application Virtualization 4.5 provides the following enhanced security features to help you plan and implement a more secure deployment strategy:","pos":[298,454]},{"content":"Application Virtualization now supports Transport Layer Security (TLS) using X.509 V3 certificates.","pos":[460,559]},{"content":"Provided that a server certificate has been provisioned to the planned Application Virtualization Management or Streaming Server, the installation will default to secure, using the RTSPS protocol over port 322.","pos":[560,770]},{"content":"Using RTSPS ensures that communication between the Application Virtualization Servers and the Application Virtualization Clients is signed and encrypted.","pos":[771,924]},{"content":"If no certificate is assigned to the server during the Application Virtualization Server installation, the communication will be set to RTSP over port 554.","pos":[925,1080]},{"content":"Security Note:","pos":[1088,1102]},{"content":"To help provide a secure setup of the server, you must make sure that RTSP ports are disabled even if you have all packages configured to use RTSPS.","pos":[1112,1260]},{"content":"If you add security certificates to the server after installing the server, the server might not detect the certificates.","pos":[1266,1387]},{"content":"To help ensure security certificate detection, restart the server after adding the certificates.","pos":[1388,1484]},{"content":"The client must be configured to use the same protocol and port as the server, or it will not be able to communicate with the server.","pos":[1490,1623]},{"content":"The client must also trust the issuer of the certificate and ships with several of the primary providers in its Trusted Root Store.","pos":[1624,1755]},{"content":"You can use self-signed certificates, but you will need to update the clients.","pos":[1756,1834]},{"content":"When configuring IIS servers to use the HTTPS protocol for streaming, you will need to set up Secure Sockets Layer (SSL) on the IIS server and provision the certificate for the server.","pos":[1840,2024]},{"content":"The clients will also need to be configured to trust the root certification authority that issued the server certificate.","pos":[2025,2146]},{"content":"Kerberos authentication has been added to Microsoft Application Virtualization as the default authentication mechanism.","pos":[2152,2271]},{"content":"Earlier versions relied upon NTLM V2 for authentication.","pos":[2272,2328]},{"content":"Using Kerberos Authentication strengthens the security of the communication between the client and the Application Virtualization server.","pos":[2329,2466]},{"content":"When a connection has been initiated from the client, the Application Virtualization Server verifies the session ticket with the Key Distribution Center (KDC).","pos":[2467,2626]},{"content":"Because of the support for using server certificates and using the RTSPS or HTTPS protocols, you can now support clients outside of the corporate network.","pos":[2632,2786]},{"content":"This can help eliminate the need for mobile users to set up a secure connection to the corporate network (VPN, RAS, and so on) prior to launching Application Virtualization provisioned applications.","pos":[2787,2985]},{"content":"Other important security considerations to consider include the following:","pos":[2987,3061]},{"content":"Always keep servers fully updated and protected.","pos":[3067,3115]},{"content":"To add a certificate to enable more secure communications to the Application Virtualization Management Server, the following criteria must be met:","pos":[3121,3267]},{"content":"The user who will be adding the certificate must be an administrator on the server where the certificate store is located.","pos":[3277,3399]},{"content":"The server service must be started.","pos":[3409,3444]},{"content":"Port 139 on the Management Server must be open to the Web Service server’s IP.","pos":[3454,3532]},{"content":"Use access control lists (ACLs) to ensure that the application packages and all package files are protected and cannot be tampered.","pos":[3538,3669]},{"content":"ACLs restrict access to the location or folder where you store the packages, allowing access only to certain accounts.","pos":[3670,3788]},{"content":"Make sure that the channel between the Application Virtualization Management Server and the database is secured—for example, by using IPsec.","pos":[3794,3934]},{"content":"If packages are stored on a SAN or NAS, ensure the connection between the central storage device and the Application Virtualization Servers is protected.","pos":[3940,4093]},{"content":"All communication channels to the client should be protected—including connections to the publishing server, the Application Virtualization Server, and the path to the OSD and ICO files—by using a protocol such as HTTPS or IPsec.","pos":[4099,4328]},{"content":"Client permissions should be configured to help ensure that packages cannot be tampered with by users.","pos":[4335,4437]},{"content":"It is especially important that you do not grant users permission to add or update packages on systems, such as Remote Desktop Session Host (RD Session Host) servers, that are shared with multiple users.","pos":[4438,4641]},{"content":"Kerberos authentication must be permitted across domain or forest environments for the Server Management Console to work correctly.","pos":[4647,4778]},{"content":"This release of the software does not support hosting a Kerberos-based RTSP server and a Microsoft NTLM-only-based IIS server on the same computer.","pos":[4784,4931]},{"content":"To host an RTSP server and an IIS server on the same computer, remove the SPN from the IIS server and use NTLM authentication.","pos":[4932,5058]},{"content":"Related topics","pos":[5063,5077]},{"content":"Planning for Application Virtualization System Deployment","pos":[5081,5138]}],"content":"---\ntitle: Security and Protection Overview\ndescription: Security and Protection Overview\nauthor: jamiejdt\nms.assetid: a43e1c53-7936-4d48-a110-0be26c8e9d97\nms.pagetype: mdop, appcompat, virtualization\nms.mktglfcycl: deploy\nms.sitesec: library\nms.prod: w8\n---\n\n\n# Security and Protection Overview\n\n\nMicrosoft Application Virtualization 4.5 provides the following enhanced security features to help you plan and implement a more secure deployment strategy:\n\n-   Application Virtualization now supports Transport Layer Security (TLS) using X.509 V3 certificates. Provided that a server certificate has been provisioned to the planned Application Virtualization Management or Streaming Server, the installation will default to secure, using the RTSPS protocol over port 322. Using RTSPS ensures that communication between the Application Virtualization Servers and the Application Virtualization Clients is signed and encrypted. If no certificate is assigned to the server during the Application Virtualization Server installation, the communication will be set to RTSP over port 554.\n\n    **Security Note:  **\n\n    To help provide a secure setup of the server, you must make sure that RTSP ports are disabled even if you have all packages configured to use RTSPS.\n\n    If you add security certificates to the server after installing the server, the server might not detect the certificates. To help ensure security certificate detection, restart the server after adding the certificates.\n\n-   The client must be configured to use the same protocol and port as the server, or it will not be able to communicate with the server. The client must also trust the issuer of the certificate and ships with several of the primary providers in its Trusted Root Store. You can use self-signed certificates, but you will need to update the clients.\n\n-   When configuring IIS servers to use the HTTPS protocol for streaming, you will need to set up Secure Sockets Layer (SSL) on the IIS server and provision the certificate for the server. The clients will also need to be configured to trust the root certification authority that issued the server certificate.\n\n-   Kerberos authentication has been added to Microsoft Application Virtualization as the default authentication mechanism. Earlier versions relied upon NTLM V2 for authentication. Using Kerberos Authentication strengthens the security of the communication between the client and the Application Virtualization server. When a connection has been initiated from the client, the Application Virtualization Server verifies the session ticket with the Key Distribution Center (KDC).\n\n-   Because of the support for using server certificates and using the RTSPS or HTTPS protocols, you can now support clients outside of the corporate network. This can help eliminate the need for mobile users to set up a secure connection to the corporate network (VPN, RAS, and so on) prior to launching Application Virtualization provisioned applications.\n\nOther important security considerations to consider include the following:\n\n-   Always keep servers fully updated and protected.\n\n-   To add a certificate to enable more secure communications to the Application Virtualization Management Server, the following criteria must be met:\n\n    -   The user who will be adding the certificate must be an administrator on the server where the certificate store is located.\n\n    -   The server service must be started.\n\n    -   Port 139 on the Management Server must be open to the Web Service server’s IP.\n\n-   Use access control lists (ACLs) to ensure that the application packages and all package files are protected and cannot be tampered. ACLs restrict access to the location or folder where you store the packages, allowing access only to certain accounts.\n\n-   Make sure that the channel between the Application Virtualization Management Server and the database is secured—for example, by using IPsec.\n\n-   If packages are stored on a SAN or NAS, ensure the connection between the central storage device and the Application Virtualization Servers is protected.\n\n-   All communication channels to the client should be protected—including connections to the publishing server, the Application Virtualization Server, and the path to the OSD and ICO files—by using a protocol such as HTTPS or IPsec. \n\n-   Client permissions should be configured to help ensure that packages cannot be tampered with by users. It is especially important that you do not grant users permission to add or update packages on systems, such as Remote Desktop Session Host (RD Session Host) servers, that are shared with multiple users.\n\n-   Kerberos authentication must be permitted across domain or forest environments for the Server Management Console to work correctly.\n\n-   This release of the software does not support hosting a Kerberos-based RTSP server and a Microsoft NTLM-only-based IIS server on the same computer. To host an RTSP server and an IIS server on the same computer, remove the SPN from the IIS server and use NTLM authentication.\n\n## Related topics\n\n\n[Planning for Application Virtualization System Deployment](planning-for-application-virtualization-system-deployment.md)\n\n \n\n \n\n\n\n\n\n"}