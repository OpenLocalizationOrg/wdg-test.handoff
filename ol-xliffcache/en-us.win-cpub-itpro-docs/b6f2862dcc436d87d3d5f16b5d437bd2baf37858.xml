{"nodes":[{"content":"Network access Do not allow anonymous enumeration of SAM accounts and shares (Windows 10)","pos":[11,100]},{"content":"Describes the best practices, location, values, and security considerations for the Network access Do not allow anonymous enumeration of SAM accounts and shares security policy setting.","pos":[114,299]},{"content":"Network access: Do not allow anonymous enumeration of SAM accounts and shares","pos":[455,532]},{"content":"Applies to","pos":[536,546]},{"content":"Windows 10","pos":[553,563]},{"pos":[565,755],"content":"Describes the best practices, location, values, and security considerations for the <bpt id=\"p1\">**</bpt>Network access: Do not allow anonymous enumeration of SAM accounts and shares<ept id=\"p1\">**</ept> security policy setting."},{"content":"Reference","pos":[760,769]},{"content":"This policy setting determines which additional permissions will be assigned for anonymous connections to the device.","pos":[771,888]},{"content":"Windows allows anonymous users to perform certain activities, such as enumerating the names of domain accounts and network shares.","pos":[889,1019]},{"content":"This is convenient, for example, when an administrator wants to give access to users in a trusted domain that does not maintain a reciprocal trust.","pos":[1020,1167]},{"content":"However, even with this policy setting enabled, anonymous users will have access to resources with permissions that explicitly include the built-in group, ANONYMOUS LOGON.","pos":[1168,1339]},{"content":"This policy setting has no impact on domain controllers.","pos":[1341,1397]},{"content":"Misuse of this policy setting is a common error that can cause data loss or problems with data access or security.","pos":[1398,1512]},{"content":"Possible values","pos":[1518,1533]},{"content":"Enabled","pos":[1539,1546]},{"content":"Disabled","pos":[1552,1560]},{"content":"No additional permissions can be assigned by the administrator for anonymous connections to the device.","pos":[1566,1669]},{"content":"Anonymous connections will rely on default permissions.","pos":[1670,1725]},{"content":"However, an unauthorized user could anonymously list account names and use the information to attempt to guess passwords or perform social-engineering attacks.","pos":[1726,1885]},{"content":"Not defined","pos":[1891,1902]},{"content":"Location","pos":[1908,1916]},{"content":"Computer Configuration<ph id=\"ph1\">\\\\</ph>Windows Settings<ph id=\"ph2\">\\\\</ph>Security Settings<ph id=\"ph3\">\\\\</ph>Local Policies<ph id=\"ph4\">\\\\</ph>Security Options","pos":[1918,2011]},{"content":"Default values","pos":[2017,2031]},{"content":"The following table lists the actual and effective default values for this policy.","pos":[2033,2115]},{"content":"Default values are also listed on the policy’s property page.","pos":[2116,2177]},{"content":"Server type or GPO","pos":[2181,2199]},{"content":"Default value","pos":[2202,2215]},{"content":"Default Domain Policy","pos":[2230,2251]},{"content":"Not defined","pos":[2253,2264]},{"content":"Default Domain Controller Policy","pos":[2269,2301]},{"content":"Not defined","pos":[2304,2315]},{"content":"Stand-Alone Server Default Settings","pos":[2320,2355]},{"content":"Disabled","pos":[2358,2366]},{"content":"DC Effective Default Settings","pos":[2371,2400]},{"content":"Disabled","pos":[2403,2411]},{"content":"Member Server Effective Default Settings","pos":[2416,2456]},{"content":"Disabled","pos":[2459,2467]},{"content":"Client Computer Effective Default Settings","pos":[2472,2514]},{"content":"Disabled","pos":[2517,2525]},{"content":"Policy management","pos":[2533,2550]},{"content":"This section describes features and tools that are available to help you manage this policy.","pos":[2552,2644]},{"content":"Restart requirement","pos":[2650,2669]},{"content":"None.","pos":[2671,2676]},{"content":"Changes to this policy become effective without a device restart when they are saved locally or distributed through Group Policy.","pos":[2677,2806]},{"content":"Policy conflicts","pos":[2812,2828]},{"content":"Even with this policy setting enabled, anonymous users will have access to resources with permissions that explicitly include the built-in group, ANONYMOUS LOGON (on systems earlier than Windows Server 2008 and Windows Vista).","pos":[2830,3056]},{"content":"Group Policy","pos":[3062,3074]},{"content":"This policy has no impact on domain controllers.","pos":[3076,3124]},{"content":"Security considerations","pos":[3129,3152]},{"content":"This section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.","pos":[3154,3348]},{"content":"Vulnerability","pos":[3354,3367]},{"content":"An unauthorized user could anonymously list account names and shared resources and use the information to attempt to guess passwords or perform social-engineering attacks.","pos":[3369,3540]},{"content":"Countermeasure","pos":[3546,3560]},{"pos":[3562,3663],"content":"Enable the <bpt id=\"p1\">**</bpt>Network access: Do not allow anonymous enumeration of SAM accounts and shares<ept id=\"p1\">**</ept> setting."},{"content":"Potential impact","pos":[3669,3685]},{"content":"It is impossible to grant access to users of another domain across a one-way trust because administrators in the trusting domain are unable to enumerate lists of accounts in the other domain.","pos":[3687,3878]},{"content":"Users who access file and print servers anonymously are unable to list the shared network resources on those servers; the users must be authenticated before they can view the lists of shared folders and printers.","pos":[3879,4091]},{"content":"Related topics","pos":[4096,4110]},{"content":"Security Options","pos":[4115,4131]}],"content":"---\ntitle: Network access Do not allow anonymous enumeration of SAM accounts and shares (Windows 10)\ndescription: Describes the best practices, location, values, and security considerations for the Network access Do not allow anonymous enumeration of SAM accounts and shares security policy setting.\nms.assetid: 3686788d-4cc7-4222-9163-cbc7c3362d73\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Network access: Do not allow anonymous enumeration of SAM accounts and shares\n\n**Applies to**\n-   Windows 10\n\nDescribes the best practices, location, values, and security considerations for the **Network access: Do not allow anonymous enumeration of SAM accounts and shares** security policy setting.\n\n## Reference\n\nThis policy setting determines which additional permissions will be assigned for anonymous connections to the device. Windows allows anonymous users to perform certain activities, such as enumerating the names of domain accounts and network shares. This is convenient, for example, when an administrator wants to give access to users in a trusted domain that does not maintain a reciprocal trust. However, even with this policy setting enabled, anonymous users will have access to resources with permissions that explicitly include the built-in group, ANONYMOUS LOGON.\n\nThis policy setting has no impact on domain controllers.\nMisuse of this policy setting is a common error that can cause data loss or problems with data access or security.\n\n### Possible values\n\n-   Enabled\n\n-   Disabled\n\n    No additional permissions can be assigned by the administrator for anonymous connections to the device. Anonymous connections will rely on default permissions. However, an unauthorized user could anonymously list account names and use the information to attempt to guess passwords or perform social-engineering attacks.\n\n-   Not defined\n\n### Location\n\nComputer Configuration\\\\Windows Settings\\\\Security Settings\\\\Local Policies\\\\Security Options\n\n### Default values\n\nThe following table lists the actual and effective default values for this policy. Default values are also listed on the policy’s property page.\n\n| Server type or GPO | Default value |\n| - | - |\n| Default Domain Policy| Not defined| \n| Default Domain Controller Policy | Not defined| \n| Stand-Alone Server Default Settings | Disabled| \n| DC Effective Default Settings | Disabled| \n| Member Server Effective Default Settings | Disabled| \n| Client Computer Effective Default Settings | Disabled| \n \n## Policy management\n\nThis section describes features and tools that are available to help you manage this policy.\n\n### Restart requirement\n\nNone. Changes to this policy become effective without a device restart when they are saved locally or distributed through Group Policy.\n\n### Policy conflicts\n\nEven with this policy setting enabled, anonymous users will have access to resources with permissions that explicitly include the built-in group, ANONYMOUS LOGON (on systems earlier than Windows Server 2008 and Windows Vista).\n\n### Group Policy\n\nThis policy has no impact on domain controllers.\n\n## Security considerations\n\nThis section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.\n\n### Vulnerability\n\nAn unauthorized user could anonymously list account names and shared resources and use the information to attempt to guess passwords or perform social-engineering attacks.\n\n### Countermeasure\n\nEnable the **Network access: Do not allow anonymous enumeration of SAM accounts and shares** setting.\n\n### Potential impact\n\nIt is impossible to grant access to users of another domain across a one-way trust because administrators in the trusting domain are unable to enumerate lists of accounts in the other domain. Users who access file and print servers anonymously are unable to list the shared network resources on those servers; the users must be authenticated before they can view the lists of shared folders and printers.\n\n## Related topics\n\n- [Security Options](security-options.md)\n"}