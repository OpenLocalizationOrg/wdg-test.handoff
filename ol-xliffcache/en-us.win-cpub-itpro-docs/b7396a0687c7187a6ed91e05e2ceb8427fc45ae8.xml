{"nodes":[{"content":"Understand AppLocker rules and enforcement setting inheritance in Group Policy (Windows 10)","pos":[11,102]},{"content":"This topic for the IT professional describes how application control policies configured in AppLocker are applied through Group Policy.","pos":[116,251]},{"content":"Understand AppLocker rules and enforcement setting inheritance in Group Policy","pos":[407,485]},{"content":"Applies to","pos":[489,499]},{"content":"Windows 10","pos":[506,516]},{"content":"This topic for the IT professional describes how application control policies configured in AppLocker are applied through Group Policy.","pos":[518,653]},{"content":"Rule enforcement is applied only to collections of rules, not individual rules.","pos":[655,734]},{"content":"AppLocker divides the rules into the following collections: executable files, Windows Installer files, scripts, packaged apps and packaged app installers, and DLL files.","pos":[735,904]},{"content":"The options for rule enforcement are <bpt id=\"p1\">**</bpt>Not configured<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Enforce rules<ept id=\"p2\">**</ept>, or <bpt id=\"p3\">**</bpt>Audit only<ept id=\"p3\">**</ept>.","pos":[905,999]},{"content":"Together, all AppLocker rule collections compose the application control policy, or AppLocker policy.","pos":[1000,1101]},{"content":"Group Policy merges AppLocker policy in two ways:","pos":[1103,1152]},{"content":"Rules.","pos":[1160,1166]},{"content":"Group Policy does not overwrite or replace rules that are already present in a linked Group Policy Object (GPO).","pos":[1169,1281]},{"content":"For example, if the current GPO has 12 rules and a linked GPO has 50 rules, 62 rules are applied to all computers that receive the AppLocker policy.","pos":[1282,1430]},{"pos":[1436,1554],"content":"<bpt id=\"p1\">**</bpt>Important:<ept id=\"p1\">**</ept>  When determining whether a file is permitted to run, AppLocker processes rules in the following order:"},{"content":"Explicit deny.","pos":[1566,1580]},{"content":"An administrator created a rule to deny a file.","pos":[1583,1630]},{"content":"Explicit allow.","pos":[1641,1656]},{"content":"An administrator created a rule to allow a file.","pos":[1659,1707]},{"content":"Implicit deny.","pos":[1718,1732]},{"content":"This is also called the default deny because all files that are not affected by an allow rule are automatically blocked.","pos":[1735,1855]},{"content":"Enforcement settings.","pos":[1868,1889]},{"content":"The last write to the policy is applied.","pos":[1892,1932]},{"content":"For example, if a higher-level GPO has the enforcement setting configured to <bpt id=\"p1\">**</bpt>Enforce rules<ept id=\"p1\">**</ept> and the closest GPO has the setting configured to <bpt id=\"p2\">**</bpt>Audit only<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Audit only<ept id=\"p3\">**</ept> is enforced.","pos":[1933,2121]},{"content":"If enforcement is not configured on the closest GPO, the setting from the closest linked GPO will be enforced.","pos":[2122,2232]},{"content":"Because a computer's effective policy includes rules from each linked GPO, duplicate rules or conflicting rules could be enforced on a user's computer.","pos":[2233,2384]},{"content":"Therefore, you should carefully plan your deployment to ensure that only rules that are necessary are present in a GPO.","pos":[2385,2504]},{"content":"The following figure demonstrates how AppLocker rule enforcement is applied through linked GPOs.","pos":[2506,2602]},{"content":"applocker rule enforcement inheritance chart","pos":[2606,2650]},{"content":"In the preceding illustration, note that all GPOs linked to Contoso are applied in order as configured.","pos":[2692,2795]},{"content":"The rules that are not configured are also applied.","pos":[2796,2847]},{"content":"For example, the result of the Contoso and Human Resources GPOs is 33 rules enforced, as shown in the client HR-Term1.","pos":[2848,2966]},{"content":"The Human Resources GPO contains 10 non-configured rules.","pos":[2967,3024]},{"content":"When the rule collection is configured for <bpt id=\"p1\">**</bpt>Audit only<ept id=\"p1\">**</ept>, no rules are enforced.","pos":[3025,3106]},{"content":"When constructing the Group Policy architecture for applying AppLocker policies, it is important to remember:","pos":[3108,3217]},{"content":"Rule collections that are not configured will be enforced.","pos":[3223,3281]},{"content":"Group Policy does not overwrite or replace rules that are already present in a linked GPO.","pos":[3286,3376]},{"content":"AppLocker processes the explicit deny rule configuration before the allow rule configuration.","pos":[3381,3474]},{"content":"For rule enforcement, the last write to the GPO is applied.","pos":[3479,3538]}],"content":"---\ntitle: Understand AppLocker rules and enforcement setting inheritance in Group Policy (Windows 10)\ndescription: This topic for the IT professional describes how application control policies configured in AppLocker are applied through Group Policy.\nms.assetid: c1c5a3d3-540a-4698-83b5-0dab5d27d871\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Understand AppLocker rules and enforcement setting inheritance in Group Policy\n\n**Applies to**\n-   Windows 10\n\nThis topic for the IT professional describes how application control policies configured in AppLocker are applied through Group Policy.\n\nRule enforcement is applied only to collections of rules, not individual rules. AppLocker divides the rules into the following collections: executable files, Windows Installer files, scripts, packaged apps and packaged app installers, and DLL files. The options for rule enforcement are **Not configured**, **Enforce rules**, or **Audit only**. Together, all AppLocker rule collections compose the application control policy, or AppLocker policy.\n\nGroup Policy merges AppLocker policy in two ways:\n\n-   **Rules.** Group Policy does not overwrite or replace rules that are already present in a linked Group Policy Object (GPO). For example, if the current GPO has 12 rules and a linked GPO has 50 rules, 62 rules are applied to all computers that receive the AppLocker policy.\n    >**Important:**  When determining whether a file is permitted to run, AppLocker processes rules in the following order:\n\n    1.  **Explicit deny.** An administrator created a rule to deny a file.\n    2.  **Explicit allow.** An administrator created a rule to allow a file.\n    3.  **Implicit deny.** This is also called the default deny because all files that are not affected by an allow rule are automatically blocked.\n     \n-   **Enforcement settings.** The last write to the policy is applied. For example, if a higher-level GPO has the enforcement setting configured to **Enforce rules** and the closest GPO has the setting configured to **Audit only**, **Audit only** is enforced. If enforcement is not configured on the closest GPO, the setting from the closest linked GPO will be enforced.\nBecause a computer's effective policy includes rules from each linked GPO, duplicate rules or conflicting rules could be enforced on a user's computer. Therefore, you should carefully plan your deployment to ensure that only rules that are necessary are present in a GPO.\n\nThe following figure demonstrates how AppLocker rule enforcement is applied through linked GPOs.\n\n![applocker rule enforcement inheritance chart](images/applocker-plan-inheritance.gif)\n\nIn the preceding illustration, note that all GPOs linked to Contoso are applied in order as configured. The rules that are not configured are also applied. For example, the result of the Contoso and Human Resources GPOs is 33 rules enforced, as shown in the client HR-Term1. The Human Resources GPO contains 10 non-configured rules. When the rule collection is configured for **Audit only**, no rules are enforced.\n\nWhen constructing the Group Policy architecture for applying AppLocker policies, it is important to remember:\n\n-   Rule collections that are not configured will be enforced.\n-   Group Policy does not overwrite or replace rules that are already present in a linked GPO.\n-   AppLocker processes the explicit deny rule configuration before the allow rule configuration.\n-   For rule enforcement, the last write to the GPO is applied.\n"}