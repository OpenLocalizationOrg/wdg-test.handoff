{"nodes":[{"content":"Upgrading from Previous Versions of MBAM","pos":[11,51]},{"content":"Upgrading from Previous Versions of MBAM","pos":[65,105]},{"content":"Upgrading from Previous Versions of MBAM","pos":[262,302]},{"content":"You can upgrade Microsoft BitLocker Administration and Monitoring (MBAM) to MBAM 2.0, with the Stand-alone topology or Configuration Manager topology, by doing the following:","pos":[305,479]},{"content":"<bpt id=\"p1\">**</bpt>Manual in-place server replacement<ept id=\"p1\">**</ept> – To upgrade the MBAM Server, manually uninstall MBAM by using either the installer or Control Panel, and then install the MBAM 2.0 infrastructure.","pos":[485,671]},{"content":"You do not have to remove the databases.","pos":[672,712]},{"content":"Uninstalling the MBAM 1.0 Server leaves the MBAM databases intact.","pos":[713,779]},{"content":"If you specify the same databases that MBAM 1.0 was using, the MBAM 2.0 installation retains MBAM 1.0 data in the databases and converts the databases to work with MBAM 2.0.","pos":[780,953]},{"content":"<bpt id=\"p1\">**</bpt>Distributed Client Upgrade<ept id=\"p1\">**</ept> - If you are using the Stand-alone MBAM topology, you can upgrade the MBAM Clients gradually after you install the MBAM 2.0 Server infrastructure.","pos":[959,1136]},{"content":"The MBAM 2.0 Server detects the version of the existing Client and performs the required steps to upgrade to the 2.0 Client.","pos":[1137,1261]},{"content":"After you upgrade the MBAM 2.0 Server infrastructure, MBAM 1.0 Clients continue to report to the MBAM 2.0 Server successfully, escrowing recovery data, but compliance will be based on the policies in MBAM 1.0.","pos":[1267,1476]},{"content":"You must upgrade clients to MBAM 2.0 to have client computers accurately report compliance against the MBAM 2.0 policies.","pos":[1477,1598]},{"content":"You can upgrade the clients to the MBAM 2.0 Client without uninstalling the previous client, and the client will start to apply and report MBAM 2.0 policies.","pos":[1599,1756]},{"content":"If you are using MBAM with Configuration Manager, you must upgrade the MBAM 1.0 clients to MBAM 2.0.","pos":[1762,1862]},{"content":"Upgrading MBAM from a Two-Server Architecture","pos":[1867,1912]},{"content":"Use the following instructions to upgrade from a previous version of MBAM when you are using a two-server architecture, where one server is hosting the Microsoft SQL Server components, and the other server is hosting the websites and services.","pos":[1915,2158]},{"content":"To upgrade MBAM from a two-server architecture","pos":[2162,2208]},{"content":"On the server with the SQL Server features, in Control Panel, select <bpt id=\"p1\">**</bpt>Programs and Features<ept id=\"p1\">**</ept>, and then uninstall <bpt id=\"p2\">**</bpt>Microsoft BitLocker Administration and Monitoring<ept id=\"p2\">**</ept>.","pos":[2216,2385]},{"content":"The Recovery Database and Compliance and Audit database remain unchanged.","pos":[2386,2459]},{"pos":[2465,2601],"content":"Run <bpt id=\"p1\">**</bpt>MBAMSetup.exe<ept id=\"p1\">**</ept> for version MBAM 2.0, optionally select the <bpt id=\"p2\">**</bpt>Customer Experience Improvement Program<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Start<ept id=\"p3\">**</ept>."},{"pos":[2607,2718],"content":"Read and accept the Microsoft Software License Agreement, and then click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue the installation."},{"pos":[2724,2876],"content":"On the <bpt id=\"p1\">**</bpt>Topology Selection<ept id=\"p1\">**</ept> page, select the <bpt id=\"p2\">**</bpt>Stand-alone<ept id=\"p2\">**</ept> or <bpt id=\"p3\">**</bpt>System Center Configuration Manager Integration<ept id=\"p3\">**</ept> topology, and then click <bpt id=\"p4\">**</bpt>Next<ept id=\"p4\">**</ept>."},{"pos":[2882,3039],"content":"On the <bpt id=\"p1\">**</bpt>Select features to install<ept id=\"p1\">**</ept> page, clear the <bpt id=\"p2\">**</bpt>Self-Service Server<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>Administration and Monitoring Server<ept id=\"p3\">**</ept> features, and then click <bpt id=\"p4\">**</bpt>Next<ept id=\"p4\">**</ept>."},{"content":"Wait for the prerequisite checks to finish, and then click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.","pos":[3045,3113]},{"content":"If a missing prerequisite is detected, resolve the missing prerequisites, and then click <bpt id=\"p1\">**</bpt>Check prerequisites again<ept id=\"p1\">**</ept>.","pos":[3114,3233]},{"pos":[3239,3410],"content":"On the <bpt id=\"p1\">**</bpt>Provide account used to access the MBAM databases<ept id=\"p1\">**</ept> page, provide the computer name for the server that will host the sites and services, and then click <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept>."},{"content":"On the <bpt id=\"p1\">**</bpt>Configure the Recovery database<ept id=\"p1\">**</ept> page, specify the SQL Server instance name and the name of the database that will store the recovery data.","pos":[3416,3565]},{"content":"You must also specify where the database files and log information will be located.","pos":[3566,3649]},{"pos":[3655,3682],"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue."},{"pos":[3688,3861],"content":"On the <bpt id=\"p1\">**</bpt>Configure the Compliance and Audit database<ept id=\"p1\">**</ept> page, specify the SQL Server instance name and the name of the database that will store the compliance and audit data."},{"pos":[3867,3894],"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue."},{"content":"On the <bpt id=\"p1\">**</bpt>Configure the Compliance and Audit Reports<ept id=\"p1\">**</ept> page, specify the SQL Server Reporting Services instance where the Compliance and Audit reports will be installed, and provide a domain user account and password to access the Compliance and Audit database.","pos":[3900,4160]},{"content":"Configure the password for this account to never expire.","pos":[4161,4217]},{"content":"The user account can access all data available to the MBAM Reports Users group.","pos":[4218,4297]},{"pos":[4303,4330],"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue."},{"content":"Specify whether to use Microsoft Updates to help keep your computer secure, and then click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.","pos":[4336,4436]},{"content":"This does not turn on Automatic Updates in Windows.","pos":[4437,4488]},{"content":"If you previously chose to use Microsoft Update for this product or another product, the Microsoft Update page does not appear.","pos":[4489,4616]},{"pos":[4622,4757],"content":"On the <bpt id=\"p1\">**</bpt>Installation Summary<ept id=\"p1\">**</ept> page, review the features that will be installed, and then click <bpt id=\"p2\">**</bpt>Install<ept id=\"p2\">**</ept> to start the installation."},{"content":"To uninstall the Administration and Monitoring Server features and to complete the upgrade","pos":[4761,4851]},{"pos":[4859,5070],"content":"On the computer that hosts the Administration and Monitoring Server features, in Control Panel, select <bpt id=\"p1\">**</bpt>Programs and Features<ept id=\"p1\">**</ept>, and then uninstall MBAM to remove the previously installed websites and services."},{"pos":[5076,5211],"content":"Run the <bpt id=\"p1\">**</bpt>MBAMSetup.exe<ept id=\"p1\">**</ept> for version 2.0, optionally select the <bpt id=\"p2\">**</bpt>Customer Experience Improvement Program<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Start<ept id=\"p3\">**</ept>."},{"pos":[5217,5328],"content":"Read and accept the Microsoft Software License Agreement, and then click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue the installation."},{"pos":[5334,5486],"content":"On the <bpt id=\"p1\">**</bpt>Topology Selection<ept id=\"p1\">**</ept> page, select the <bpt id=\"p2\">**</bpt>Stand-alone<ept id=\"p2\">**</ept> or <bpt id=\"p3\">**</bpt>System Center Configuration Manager Integration<ept id=\"p3\">**</ept> topology, and then click <bpt id=\"p4\">**</bpt>Next<ept id=\"p4\">**</ept>."},{"pos":[5492,5677],"content":"On the <bpt id=\"p1\">**</bpt>Select features to install<ept id=\"p1\">**</ept> page, clear the <bpt id=\"p2\">**</bpt>Recovery Database<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>Compliance and Audit Database<ept id=\"p3\">**</ept> and <bpt id=\"p4\">**</bpt>Compliance and Audit Reports<ept id=\"p4\">**</ept> features, and then click <bpt id=\"p5\">**</bpt>Next<ept id=\"p5\">**</ept>."},{"content":"Wait for the prerequisite checks to finish, and then click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.","pos":[5683,5751]},{"content":"If a missing prerequisite is detected, resolve the missing prerequisites first, and then click <bpt id=\"p1\">**</bpt>Check prerequisites again<ept id=\"p1\">**</ept>.","pos":[5752,5877]},{"content":"On the <bpt id=\"p1\">**</bpt>Configure network communication security<ept id=\"p1\">**</ept> page, choose whether to use Secure Socket Layer (SSL) encryption for the websites and services.","pos":[5883,6030]},{"content":"If you decide to encrypt the communication, select the certification authority (CA) certificate to use for encryption.","pos":[6031,6149]},{"pos":[6155,6259],"content":"**Note**  \nThe certificate must be created before this step to enable you to select it on this page.","leadings":["","    "],"nodes":[{"content":"Note","pos":[2,6]},{"content":"The certificate must be created before this step to enable you to select it on this page.","pos":[11,100]}]},{"content":"On the <bpt id=\"p1\">**</bpt>Configure the location of the Compliance Status database<ept id=\"p1\">**</ept> page, specify the SQL Server instance name and the name of the database that stores the compliance and audit data.","pos":[6272,6454]},{"content":"You must also specify where the database files and log information will be located.","pos":[6455,6538]},{"pos":[6544,6571],"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue."},{"pos":[6577,6738],"content":"On the <bpt id=\"p1\">**</bpt>Configure the location of the Recovery Database<ept id=\"p1\">**</ept> page, specify the SQL Server instance name and the name of the database that stores the recovery data."},{"pos":[6744,6771],"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue."},{"content":"On the <bpt id=\"p1\">**</bpt>Configure the Compliance and Audit Reports<ept id=\"p1\">**</ept> page, enter the URL for the reporting instance that you configured on the other server.","pos":[6777,6918]},{"content":"Use the <bpt id=\"p1\">**</bpt>Test<ept id=\"p1\">**</ept> button to verify that you can reach the site.","pos":[6919,6981]},{"pos":[6987,7014],"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue."},{"pos":[7020,7179],"content":"On the <bpt id=\"p1\">**</bpt>Configure the Self-Service Portal<ept id=\"p1\">**</ept> page, enter the port number, host name, virtual directory name, and installation path for the Self-Service Portal."},{"pos":[7185,7352],"content":"**Note**  \nThe port number that you specify must be an unused port number on the Administration and Monitoring Server unless you specify a unique host header name.","leadings":["","    "],"nodes":[{"content":"Note","pos":[2,6]},{"content":"The port number that you specify must be an unused port number on the Administration and Monitoring Server unless you specify a unique host header name.","pos":[11,163]}]},{"pos":[7365,7497],"content":"On the <bpt id=\"p1\">**</bpt>Configure the Administration and Monitoring Server<ept id=\"p1\">**</ept> page, specify the desired virtual directory for the Help Desk website."},{"content":"Specify whether to use Microsoft Updates to help keep your computer secure, and then click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.","pos":[7503,7603]},{"content":"This step does not turn on Automatic Updates in Windows.","pos":[7604,7660]},{"content":"If you previously chose to use Microsoft Update for this product or another product, the Microsoft Update page does not appear.","pos":[7661,7788]},{"pos":[7794,7929],"content":"On the <bpt id=\"p1\">**</bpt>Installation Summary<ept id=\"p1\">**</ept> page, review the features that will be installed, and then click <bpt id=\"p2\">**</bpt>Install<ept id=\"p2\">**</ept> to start the installation."},{"content":"To validate that the upgrade was successful, verify that you can reach each site from another computer in the domain.","pos":[7935,8052]},{"content":"Upgrading the MBAM Client on End-User Computers","pos":[8057,8104]},{"content":"To upgrade end-user computers to the MBAM 2.0 Client, run <bpt id=\"p1\">**</bpt>MbamClientSetup.exe<ept id=\"p1\">**</ept> on each client computer.","pos":[8107,8213]},{"content":"The installer automatically updates the Client to the MBAM 2.0 Client.","pos":[8214,8284]},{"content":"You can install the MBAM Client through an electronic software distribution system, tools such as Active Directory Domain Services or System Center Configuration Manager.","pos":[8285,8455]},{"content":"To validate the Client upgrade, do the following:","pos":[8457,8506]},{"pos":[8512,8642],"content":"Wait until the configured reporting cycle is finished, and then start <bpt id=\"p1\">**</bpt>SQL Server Management Studio<ept id=\"p1\">**</ept> on the SQL Server computer."},{"pos":[8648,8715],"content":"On the SQL Server computer, start <bpt id=\"p1\">**</bpt>SQL Server Management Studio<ept id=\"p1\">**</ept>."},{"pos":[8721,8835],"content":"Verify that the <bpt id=\"p1\">**</bpt>RecoveryAndHardwareCore.Machines<ept id=\"p1\">**</ept> table contains a row that shows the end-user’s computer name."},{"content":"Related topics","pos":[8840,8854]},{"content":"Deploying MBAM 2.0","pos":[8858,8876]}],"content":"---\ntitle: Upgrading from Previous Versions of MBAM\ndescription: Upgrading from Previous Versions of MBAM\nauthor: jamiejdt\nms.assetid: 73b425cf-9cd9-4ebc-a35e-1b3bf18596ce\nms.pagetype: mdop, security\nms.mktglfcycl: manage\nms.sitesec: library\nms.prod: w8\n---\n\n\n# Upgrading from Previous Versions of MBAM\n\n\nYou can upgrade Microsoft BitLocker Administration and Monitoring (MBAM) to MBAM 2.0, with the Stand-alone topology or Configuration Manager topology, by doing the following:\n\n-   **Manual in-place server replacement** – To upgrade the MBAM Server, manually uninstall MBAM by using either the installer or Control Panel, and then install the MBAM 2.0 infrastructure. You do not have to remove the databases. Uninstalling the MBAM 1.0 Server leaves the MBAM databases intact. If you specify the same databases that MBAM 1.0 was using, the MBAM 2.0 installation retains MBAM 1.0 data in the databases and converts the databases to work with MBAM 2.0.\n\n-   **Distributed Client Upgrade** - If you are using the Stand-alone MBAM topology, you can upgrade the MBAM Clients gradually after you install the MBAM 2.0 Server infrastructure. The MBAM 2.0 Server detects the version of the existing Client and performs the required steps to upgrade to the 2.0 Client.\n\n    After you upgrade the MBAM 2.0 Server infrastructure, MBAM 1.0 Clients continue to report to the MBAM 2.0 Server successfully, escrowing recovery data, but compliance will be based on the policies in MBAM 1.0. You must upgrade clients to MBAM 2.0 to have client computers accurately report compliance against the MBAM 2.0 policies. You can upgrade the clients to the MBAM 2.0 Client without uninstalling the previous client, and the client will start to apply and report MBAM 2.0 policies.\n\n    If you are using MBAM with Configuration Manager, you must upgrade the MBAM 1.0 clients to MBAM 2.0.\n\n## Upgrading MBAM from a Two-Server Architecture\n\n\nUse the following instructions to upgrade from a previous version of MBAM when you are using a two-server architecture, where one server is hosting the Microsoft SQL Server components, and the other server is hosting the websites and services.\n\n**To upgrade MBAM from a two-server architecture**\n\n1.  On the server with the SQL Server features, in Control Panel, select **Programs and Features**, and then uninstall **Microsoft BitLocker Administration and Monitoring**. The Recovery Database and Compliance and Audit database remain unchanged.\n\n2.  Run **MBAMSetup.exe** for version MBAM 2.0, optionally select the **Customer Experience Improvement Program**, and then click **Start**.\n\n3.  Read and accept the Microsoft Software License Agreement, and then click **Next** to continue the installation.\n\n4.  On the **Topology Selection** page, select the **Stand-alone** or **System Center Configuration Manager Integration** topology, and then click **Next**.\n\n5.  On the **Select features to install** page, clear the **Self-Service Server** and **Administration and Monitoring Server** features, and then click **Next**.\n\n6.  Wait for the prerequisite checks to finish, and then click **Next**. If a missing prerequisite is detected, resolve the missing prerequisites, and then click **Check prerequisites again**.\n\n7.  On the **Provide account used to access the MBAM databases** page, provide the computer name for the server that will host the sites and services, and then click **Next**.\n\n8.  On the **Configure the Recovery database** page, specify the SQL Server instance name and the name of the database that will store the recovery data. You must also specify where the database files and log information will be located.\n\n9.  Click **Next** to continue.\n\n10. On the **Configure the Compliance and Audit database** page, specify the SQL Server instance name and the name of the database that will store the compliance and audit data.\n\n11. Click **Next** to continue.\n\n12. On the **Configure the Compliance and Audit Reports** page, specify the SQL Server Reporting Services instance where the Compliance and Audit reports will be installed, and provide a domain user account and password to access the Compliance and Audit database. Configure the password for this account to never expire. The user account can access all data available to the MBAM Reports Users group.\n\n13. Click **Next** to continue.\n\n14. Specify whether to use Microsoft Updates to help keep your computer secure, and then click **Next**. This does not turn on Automatic Updates in Windows. If you previously chose to use Microsoft Update for this product or another product, the Microsoft Update page does not appear.\n\n15. On the **Installation Summary** page, review the features that will be installed, and then click **Install** to start the installation.\n\n**To uninstall the Administration and Monitoring Server features and to complete the upgrade**\n\n1.  On the computer that hosts the Administration and Monitoring Server features, in Control Panel, select **Programs and Features**, and then uninstall MBAM to remove the previously installed websites and services.\n\n2.  Run the **MBAMSetup.exe** for version 2.0, optionally select the **Customer Experience Improvement Program**, and then click **Start**.\n\n3.  Read and accept the Microsoft Software License Agreement, and then click **Next** to continue the installation.\n\n4.  On the **Topology Selection** page, select the **Stand-alone** or **System Center Configuration Manager Integration** topology, and then click **Next**.\n\n5.  On the **Select features to install** page, clear the **Recovery Database** and **Compliance and Audit Database** and **Compliance and Audit Reports** features, and then click **Next**.\n\n6.  Wait for the prerequisite checks to finish, and then click **Next**. If a missing prerequisite is detected, resolve the missing prerequisites first, and then click **Check prerequisites again**.\n\n7.  On the **Configure network communication security** page, choose whether to use Secure Socket Layer (SSL) encryption for the websites and services. If you decide to encrypt the communication, select the certification authority (CA) certificate to use for encryption.\n\n    **Note**  \n    The certificate must be created before this step to enable you to select it on this page.\n\n     \n\n8.  On the **Configure the location of the Compliance Status database** page, specify the SQL Server instance name and the name of the database that stores the compliance and audit data. You must also specify where the database files and log information will be located.\n\n9.  Click **Next** to continue.\n\n10. On the **Configure the location of the Recovery Database** page, specify the SQL Server instance name and the name of the database that stores the recovery data.\n\n11. Click **Next** to continue.\n\n12. On the **Configure the Compliance and Audit Reports** page, enter the URL for the reporting instance that you configured on the other server. Use the **Test** button to verify that you can reach the site.\n\n13. Click **Next** to continue.\n\n14. On the **Configure the Self-Service Portal** page, enter the port number, host name, virtual directory name, and installation path for the Self-Service Portal.\n\n    **Note**  \n    The port number that you specify must be an unused port number on the Administration and Monitoring Server unless you specify a unique host header name.\n\n     \n\n15. On the **Configure the Administration and Monitoring Server** page, specify the desired virtual directory for the Help Desk website.\n\n16. Specify whether to use Microsoft Updates to help keep your computer secure, and then click **Next**. This step does not turn on Automatic Updates in Windows. If you previously chose to use Microsoft Update for this product or another product, the Microsoft Update page does not appear.\n\n17. On the **Installation Summary** page, review the features that will be installed, and then click **Install** to start the installation.\n\n18. To validate that the upgrade was successful, verify that you can reach each site from another computer in the domain.\n\n## Upgrading the MBAM Client on End-User Computers\n\n\nTo upgrade end-user computers to the MBAM 2.0 Client, run **MbamClientSetup.exe** on each client computer. The installer automatically updates the Client to the MBAM 2.0 Client. You can install the MBAM Client through an electronic software distribution system, tools such as Active Directory Domain Services or System Center Configuration Manager.\n\nTo validate the Client upgrade, do the following:\n\n1.  Wait until the configured reporting cycle is finished, and then start **SQL Server Management Studio** on the SQL Server computer.\n\n2.  On the SQL Server computer, start **SQL Server Management Studio**.\n\n3.  Verify that the **RecoveryAndHardwareCore.Machines** table contains a row that shows the end-user’s computer name.\n\n## Related topics\n\n\n[Deploying MBAM 2.0](deploying-mbam-20-mbam-2.md)\n\n \n\n \n\n\n\n\n\n"}