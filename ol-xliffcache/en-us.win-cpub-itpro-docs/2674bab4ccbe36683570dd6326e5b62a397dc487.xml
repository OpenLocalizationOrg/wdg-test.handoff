{"nodes":[{"content":"Encrypted Hard Drive (Windows 10)","pos":[11,44]},{"content":"Encrypted Hard Drive uses the rapid encryption that is provided by BitLocker Drive Encryption to enhance data security and management.","pos":[58,192]},{"content":"Encrypted Hard Drive","pos":[348,368]},{"content":"Applies to","pos":[372,382]},{"content":"Windows 10","pos":[389,399]},{"content":"Encrypted Hard Drive uses the rapid encryption that is provided by BitLocker Drive Encryption to enhance data security and management.","pos":[401,535]},{"content":"By offloading the cryptographic operations to hardware, Encrypted Hard Drives increase BitLocker performance and reduce CPU usage and power consumption.","pos":[537,689]},{"content":"Because Encrypted Hard Drives encrypt data quickly, enterprise devices can expand BitLocker deployment with minimal impact on productivity.","pos":[690,829]},{"content":"Encrypted Hard Drives are a new class of hard drives that are self-encrypting at a hardware level and allow for full disk hardware encryption.","pos":[831,973]},{"content":"In Windows 8, Windows Server 2012, and later you can install to these devices without additional modification.","pos":[974,1084]},{"content":"Some of the benefits of Encrypted Hard Drives include:","pos":[1086,1140]},{"pos":[1146,1307],"content":"<bpt id=\"p1\">**</bpt>Better performance<ept id=\"p1\">**</ept>: Encryption hardware, integrated into the drive controller, allows the drive to operate at full data rate with no performance degradation."},{"content":"<bpt id=\"p1\">**</bpt>Strong security based in hardware<ept id=\"p1\">**</ept>: Encryption is always \"on\" and the keys for encryption never leave the hard drive.","pos":[1312,1432]},{"content":"User authentication is performed by the drive before it will unlock, independently of the operating system","pos":[1433,1539]},{"content":"<bpt id=\"p1\">**</bpt>Ease of use<ept id=\"p1\">**</ept>: Encryption is transparent to the user because it is on by default.","pos":[1544,1627]},{"content":"There is no user interaction needed to enable encryption.","pos":[1628,1685]},{"content":"Encrypted Hard Drives are easily erased using on-board encryption key; there is no need to re-encrypt data on the drive.","pos":[1686,1806]},{"content":"<bpt id=\"p1\">**</bpt>Lower cost of ownership<ept id=\"p1\">**</ept>: There is no need for new infrastructure to manage encryption keys, since BitLocker leverages your Active Directory Domain Services infrastructure to store recovery information.","pos":[1811,2016]},{"content":"Your device operates more efficiently because processor cycles do not need to be used for the encryption process.","pos":[2017,2130]},{"content":"Encrypted Hard Drives are supported natively in the operating system through the following mechanisms:","pos":[2132,2234]},{"pos":[2240,2347],"content":"<bpt id=\"p1\">**</bpt>Identification<ept id=\"p1\">**</ept>: The operating system can identify that the drive is an Encrypted Hard Drive device type"},{"pos":[2352,2480],"content":"<bpt id=\"p1\">**</bpt>Activation<ept id=\"p1\">**</ept>: The operating system disk management utility can activate, create and map volumes to ranges/bands as appropriate"},{"pos":[2485,2582],"content":"<bpt id=\"p1\">**</bpt>Configuration<ept id=\"p1\">**</ept>: The operating system can create and map volumes to ranges/bands as appropriate"},{"pos":[2587,2706],"content":"<bpt id=\"p1\">**</bpt>API<ept id=\"p1\">**</ept>: API support for applications to manage Encrypted Hard Drives independently of BitLocker Drive Encryption (BDE)"},{"pos":[2711,2829],"content":"<bpt id=\"p1\">**</bpt>BitLocker support<ept id=\"p1\">**</ept>: Integration with the BitLocker Control Panel provides a seamless BitLocker end user experience."},{"content":"<bpt id=\"p1\">**</bpt>Warning:<ept id=\"p1\">**</ept>  Self-Encrypting Hard Drives and Encrypted Hard Drives for Windows are not the same type of device.","pos":[2832,2944]},{"content":"Encrypted Hard Drives for Windows require compliance for specific TCG protocols as well as IEEE 1667 compliance; Self-Encrypting Hard Drives do not have these requirements.","pos":[2945,3117]},{"content":"It is important to confirm the device type is an Encrypted Hard Drive for Windows when planning for deployment.","pos":[3118,3229]},{"pos":[3232,3448],"content":"If you are a storage device vendor who is looking for more info on how to implement Encrypted Hard Drive, see the <bpt id=\"p1\">[</bpt>Encrypted Hard Drive Device Guide<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/hardware/dn653989.aspx)</ept>."},{"content":"System Requirements","pos":[3453,3472]},{"content":"To use Encrypted Hard Drive, the following system requirements apply:","pos":[3474,3543]},{"pos":[3545,3595],"content":"For Encrypted Hard Drives used as <bpt id=\"p1\">**</bpt>data drives<ept id=\"p1\">**</ept>:"},{"content":"The drive must be in an uninitialized state.","pos":[3601,3645]},{"content":"The drive must be in a security inactive state.","pos":[3650,3697]},{"pos":[3699,3752],"content":"For Encrypted Hard Drives used as <bpt id=\"p1\">**</bpt>startup drives<ept id=\"p1\">**</ept>:"},{"content":"The drive must be in an uninitialized state.","pos":[3758,3802]},{"content":"The drive must be in a security inactive state.","pos":[3807,3854]},{"content":"The computer must be UEFI 2.3.1 based and have the EFI<ph id=\"ph1\">\\_</ph>STORAGE<ph id=\"ph2\">\\_</ph>SECURITY<ph id=\"ph3\">\\_</ph>COMMAND<ph id=\"ph4\">\\_</ph>PROTOCOL defined.","pos":[3859,3960]},{"content":"(This protocol is used to allow programs running in the EFI boot services environment to send security protocol commands to the drive).","pos":[3961,4096]},{"content":"The computer must have the Compatibility Support Module (CSM) disabled in UEFI.","pos":[4101,4180]},{"content":"The computer must always boot natively from UEFI.","pos":[4185,4234]},{"pos":[4237,4339],"content":"<bpt id=\"p1\">**</bpt>Warning:<ept id=\"p1\">**</ept>  All Encrypted Hard Drives must be attached to non-RAID controllers to function properly."},{"content":"Technical overview","pos":[4345,4363]},{"content":"Rapid encryption in BitLocker directly addresses the security needs of enterprises while offering significantly improved performance.","pos":[4365,4498]},{"content":"In versions of Windows earlier than Windows Server 2012, BitLocker required a two-step process to complete read/write requests.","pos":[4499,4626]},{"content":"In Windows Server 2012, Windows 8, or later, Encrypted Hard Drives offload the cryptographic operations to the drive controller for much greater efficiency.","pos":[4627,4783]},{"content":"When the operating system an Encrypted Hard Drive, it activates the security mode.","pos":[4784,4866]},{"content":"This activation lets the drive controller generate a media key for every volume that the host computer creates.","pos":[4867,4978]},{"content":"This media key, which is never exposed outside the disk, is used to rapidly encrypt or decrypt every byte of data that is sent or received from the disk.","pos":[4979,5132]},{"content":"Configuring Encrypted Hard Drives as Startup drives","pos":[5137,5188]},{"content":"Configuration of Encrypted Hard Drives as startup drives is done using the same methods as standard hard drives.","pos":[5190,5302]},{"content":"These methods include:","pos":[5303,5325]},{"pos":[5331,5448],"content":"<bpt id=\"p1\">**</bpt>Deploy from media<ept id=\"p1\">**</ept>: Configuration of Encrypted Hard Drives happens automatically through the installation process."},{"content":"<bpt id=\"p1\">**</bpt>Deploy from network<ept id=\"p1\">**</ept>: This deployment method involves booting a Windows PE environment and using imaging tools to apply a Windows image from a network share.","pos":[5453,5613]},{"content":"Using this method, the Enhanced Storage optional component needs to be included in the Windows PE image.","pos":[5614,5718]},{"content":"You can enable this component using Server Manager, Windows PowerShell, or the DISM command line tool.","pos":[5719,5821]},{"content":"If this component is not present, configuration of Encrypted Hard Drives will not work.","pos":[5822,5909]},{"content":"<bpt id=\"p1\">**</bpt>Deploy from server<ept id=\"p1\">**</ept>: This deployment method involves PXE booting a client with Encrypted Hard Drives present.","pos":[5914,6026]},{"content":"Configuration of Encrypted Hard Drives happens automatically in this environment when the Enhanced Storage component is added to the PXE boot image.","pos":[6027,6175]},{"content":"During deployment, the <bpt id=\"p1\">[</bpt>TCGSecurityActivationDisabled<ept id=\"p1\">](http://msdn.microsoft.com/library/windows/hardware/dn923247.aspx)</ept> setting in unattend.xml controls the encryption behavior of Encrypted Hard Drives.","pos":[6176,6379]},{"content":"<bpt id=\"p1\">**</bpt>Disk Duplication<ept id=\"p1\">**</ept>: This deployment method involves use of a previously configured device and disk duplication tools to apply a Windows image to an Encrypted Hard Drive.","pos":[6384,6555]},{"content":"Disks must be partitioned using at least Windows 8 or Windows Server 2012 for this configuration to work.","pos":[6556,6661]},{"content":"Images made using disk duplicators will not work.","pos":[6662,6711]},{"content":"Encrypted Hard Drive Architecture","pos":[6717,6750]},{"content":"Encrypted Hard Drives utilize two encryption keys on the device to control the locking and unlocking of data on the drive.","pos":[6752,6874]},{"content":"These are the Data Encryption Key (DEK) and the Authentication Key (AK).","pos":[6875,6947]},{"content":"The Data Encryption Key is the key used to encrypt all of the data on the drive.","pos":[6949,7029]},{"content":"The drive generates the DEK and it never leaves the device.","pos":[7030,7089]},{"content":"It is stored in an encrypted format at a random location on the drive.","pos":[7090,7160]},{"content":"If the DEK is changed or erased, data encrypted using the DEK is irrecoverable.","pos":[7161,7240]},{"content":"The Authentication Key is the key used to unlock data on the drive.","pos":[7242,7309]},{"content":"A hash of the key is stored on drive and requires confirmation to decrypt the DEK.","pos":[7310,7392]},{"content":"When a computer with an Encrypted Hard Drive is in a powered off state, the drive locks automatically.","pos":[7394,7496]},{"content":"As a computer powers on, the device remains in a locked state and is only unlocked after the Authentication Key decrypts the Data Encryption Key.","pos":[7497,7642]},{"content":"Once the Authentication Key decrypts the Data Encryption Key, read-write operations can take place on the device.","pos":[7643,7757]},{"content":"When writing data to the drive, it passes through an encryption engine before the write operation completes.","pos":[7759,7867]},{"content":"Likewise, reading data from the drive requires the encryption engine to decrypt the data before passing that data back to the user.","pos":[7868,7999]},{"content":"In the event that the DEK needs to be changed or erased, the data on the drive does not need to be re-encrypted.","pos":[8000,8112]},{"content":"A new Authentication Key needs to be created and it will re-encrypt the DEK.","pos":[8113,8189]},{"content":"Once completed, the DEK can now be unlocked using the new AK and read-writes to the volume can continue.","pos":[8190,8294]},{"content":"Re-configuring Encrypted Hard Drives","pos":[8299,8335]},{"content":"Many Encrypted Hard Drive devices come pre-configured for use.","pos":[8337,8399]},{"content":"If reconfiguration of the drive is required, use the following procedure after removing all available volumes and reverting the drive to an uninitialized state:","pos":[8400,8560]},{"content":"Open Disk Management (diskmgmt.msc)","pos":[8566,8601]},{"content":"Initialize the disk and select the appropriate partition style (MBR or GPT)","pos":[8606,8681]},{"content":"Create one or more volumes on the disk.","pos":[8686,8725]},{"content":"Use the BitLocker setup wizard to enable BitLocker on the volume.","pos":[8730,8795]}],"content":"---\ntitle: Encrypted Hard Drive (Windows 10)\ndescription: Encrypted Hard Drive uses the rapid encryption that is provided by BitLocker Drive Encryption to enhance data security and management.\nms.assetid: 8d6e0474-c475-411b-b095-1c61adb2bdbb\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Encrypted Hard Drive\n\n**Applies to**\n-   Windows 10\n\nEncrypted Hard Drive uses the rapid encryption that is provided by BitLocker Drive Encryption to enhance data security and management.\n\nBy offloading the cryptographic operations to hardware, Encrypted Hard Drives increase BitLocker performance and reduce CPU usage and power consumption. Because Encrypted Hard Drives encrypt data quickly, enterprise devices can expand BitLocker deployment with minimal impact on productivity.\n\nEncrypted Hard Drives are a new class of hard drives that are self-encrypting at a hardware level and allow for full disk hardware encryption. In Windows 8, Windows Server 2012, and later you can install to these devices without additional modification.\n\nSome of the benefits of Encrypted Hard Drives include:\n\n-   **Better performance**: Encryption hardware, integrated into the drive controller, allows the drive to operate at full data rate with no performance degradation.\n-   **Strong security based in hardware**: Encryption is always \"on\" and the keys for encryption never leave the hard drive. User authentication is performed by the drive before it will unlock, independently of the operating system\n-   **Ease of use**: Encryption is transparent to the user because it is on by default. There is no user interaction needed to enable encryption. Encrypted Hard Drives are easily erased using on-board encryption key; there is no need to re-encrypt data on the drive.\n-   **Lower cost of ownership**: There is no need for new infrastructure to manage encryption keys, since BitLocker leverages your Active Directory Domain Services infrastructure to store recovery information. Your device operates more efficiently because processor cycles do not need to be used for the encryption process.\n\nEncrypted Hard Drives are supported natively in the operating system through the following mechanisms:\n\n-   **Identification**: The operating system can identify that the drive is an Encrypted Hard Drive device type\n-   **Activation**: The operating system disk management utility can activate, create and map volumes to ranges/bands as appropriate\n-   **Configuration**: The operating system can create and map volumes to ranges/bands as appropriate\n-   **API**: API support for applications to manage Encrypted Hard Drives independently of BitLocker Drive Encryption (BDE)\n-   **BitLocker support**: Integration with the BitLocker Control Panel provides a seamless BitLocker end user experience.\n\n>**Warning:**  Self-Encrypting Hard Drives and Encrypted Hard Drives for Windows are not the same type of device. Encrypted Hard Drives for Windows require compliance for specific TCG protocols as well as IEEE 1667 compliance; Self-Encrypting Hard Drives do not have these requirements. It is important to confirm the device type is an Encrypted Hard Drive for Windows when planning for deployment.\n \nIf you are a storage device vendor who is looking for more info on how to implement Encrypted Hard Drive, see the [Encrypted Hard Drive Device Guide](http://msdn.microsoft.com/library/windows/hardware/dn653989.aspx).\n\n## System Requirements\n\nTo use Encrypted Hard Drive, the following system requirements apply:\n\nFor Encrypted Hard Drives used as **data drives**:\n\n-   The drive must be in an uninitialized state.\n-   The drive must be in a security inactive state.\n\nFor Encrypted Hard Drives used as **startup drives**:\n\n-   The drive must be in an uninitialized state.\n-   The drive must be in a security inactive state.\n-   The computer must be UEFI 2.3.1 based and have the EFI\\_STORAGE\\_SECURITY\\_COMMAND\\_PROTOCOL defined. (This protocol is used to allow programs running in the EFI boot services environment to send security protocol commands to the drive).\n-   The computer must have the Compatibility Support Module (CSM) disabled in UEFI.\n-   The computer must always boot natively from UEFI.\n\n>**Warning:**  All Encrypted Hard Drives must be attached to non-RAID controllers to function properly.\n \n## Technical overview\n\nRapid encryption in BitLocker directly addresses the security needs of enterprises while offering significantly improved performance. In versions of Windows earlier than Windows Server 2012, BitLocker required a two-step process to complete read/write requests. In Windows Server 2012, Windows 8, or later, Encrypted Hard Drives offload the cryptographic operations to the drive controller for much greater efficiency. When the operating system an Encrypted Hard Drive, it activates the security mode. This activation lets the drive controller generate a media key for every volume that the host computer creates. This media key, which is never exposed outside the disk, is used to rapidly encrypt or decrypt every byte of data that is sent or received from the disk.\n\n## Configuring Encrypted Hard Drives as Startup drives\n\nConfiguration of Encrypted Hard Drives as startup drives is done using the same methods as standard hard drives. These methods include:\n\n-   **Deploy from media**: Configuration of Encrypted Hard Drives happens automatically through the installation process.\n-   **Deploy from network**: This deployment method involves booting a Windows PE environment and using imaging tools to apply a Windows image from a network share. Using this method, the Enhanced Storage optional component needs to be included in the Windows PE image. You can enable this component using Server Manager, Windows PowerShell, or the DISM command line tool. If this component is not present, configuration of Encrypted Hard Drives will not work.\n-   **Deploy from server**: This deployment method involves PXE booting a client with Encrypted Hard Drives present. Configuration of Encrypted Hard Drives happens automatically in this environment when the Enhanced Storage component is added to the PXE boot image. During deployment, the [TCGSecurityActivationDisabled](http://msdn.microsoft.com/library/windows/hardware/dn923247.aspx) setting in unattend.xml controls the encryption behavior of Encrypted Hard Drives.\n-   **Disk Duplication**: This deployment method involves use of a previously configured device and disk duplication tools to apply a Windows image to an Encrypted Hard Drive. Disks must be partitioned using at least Windows 8 or Windows Server 2012 for this configuration to work. Images made using disk duplicators will not work.\n\n### Encrypted Hard Drive Architecture\n\nEncrypted Hard Drives utilize two encryption keys on the device to control the locking and unlocking of data on the drive. These are the Data Encryption Key (DEK) and the Authentication Key (AK).\n\nThe Data Encryption Key is the key used to encrypt all of the data on the drive. The drive generates the DEK and it never leaves the device. It is stored in an encrypted format at a random location on the drive. If the DEK is changed or erased, data encrypted using the DEK is irrecoverable.\n\nThe Authentication Key is the key used to unlock data on the drive. A hash of the key is stored on drive and requires confirmation to decrypt the DEK.\n\nWhen a computer with an Encrypted Hard Drive is in a powered off state, the drive locks automatically. As a computer powers on, the device remains in a locked state and is only unlocked after the Authentication Key decrypts the Data Encryption Key. Once the Authentication Key decrypts the Data \nEncryption Key, read-write operations can take place on the device.\n\nWhen writing data to the drive, it passes through an encryption engine before the write operation completes. Likewise, reading data from the drive requires the encryption engine to decrypt the data before passing that data back to the user. In the event that the DEK needs to be changed or erased, the data on the drive does not need to be re-encrypted. A new Authentication Key needs to be created and it will re-encrypt the DEK. Once completed, the DEK can now be unlocked using the new AK and read-writes to the volume can continue.\n\n## Re-configuring Encrypted Hard Drives\n\nMany Encrypted Hard Drive devices come pre-configured for use. If reconfiguration of the drive is required, use the following procedure after removing all available volumes and reverting the drive to an uninitialized state:\n\n1.  Open Disk Management (diskmgmt.msc)\n2.  Initialize the disk and select the appropriate partition style (MBR or GPT)\n3.  Create one or more volumes on the disk.\n4.  Use the BitLocker setup wizard to enable BitLocker on the volume.\n"}