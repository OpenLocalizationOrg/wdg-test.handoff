{"nodes":[{"content":"Local Accounts (Windows 10)","pos":[11,38]},{"content":"Local Accounts","pos":[52,66]},{"content":"Local Accounts","pos":[151,165]},{"content":"Applies to","pos":[169,179]},{"content":"Windows 10","pos":[186,196]},{"content":"Windows Server 2016","pos":[201,220]},{"content":"This reference topic for the IT professional describes the default local user accounts for servers, including how to manage these built-in accounts on a member or standalone server.","pos":[222,403]},{"content":"This topic does not describe the default local user accounts for an Active Directory domain controller.","pos":[404,507]},{"content":"Did you mean…","pos":[511,524]},{"content":"Active Directory Accounts","pos":[533,558]},{"content":"Microsoft Accounts","pos":[596,614]},{"pos":[690,715],"content":"About local user accounts"},{"content":"Local user accounts are stored locally on the server.","pos":[718,771]},{"content":"These accounts can be assigned rights and permissions on a particular server, but on that server only.","pos":[772,874]},{"content":"Local user accounts are security principals that are used to secure and manage access to the resources on a standalone or member server for services or users.","pos":[875,1033]},{"content":"This topic describes the following:","pos":[1035,1070]},{"content":"Default local user accounts","pos":[1077,1104]},{"content":"Administrator account","pos":[1139,1160]},{"content":"Guest Account","pos":[1192,1205]},{"content":"HelpAssistant account (installed by using a Remote Assistance session)","pos":[1229,1299]},{"content":"Default local system accounts","pos":[1327,1356]},{"content":"How to manage local accounts","pos":[1382,1410]},{"content":"Restrict and protect local accounts with administrative rights","pos":[1444,1506]},{"content":"Enforce local account restrictions for remote access","pos":[1550,1602]},{"content":"Deny network logon to all local Administrator accounts","pos":[1649,1703]},{"content":"Create unique passwords for local accounts with administrative rights","pos":[1740,1809]},{"pos":[1842,1954],"content":"For information about security principals, see <bpt id=\"p1\">[</bpt>Security Principals Technical Overview<ept id=\"p1\">](security-principals.md)</ept>."},{"pos":[2000,2027],"content":"Default local user accounts"},{"content":"The default local user accounts are built-in accounts that are created automatically when you install the Windows Server operating system on a stand-alone server or member server.","pos":[2030,2209]},{"content":"The <bpt id=\"p1\">**</bpt>Applies To<ept id=\"p1\">**</ept> list at the beginning of this article designates the Windows operating systems to which this topic applies.","pos":[2210,2336]},{"content":"After the Windows Server operating system is installed, the default local user accounts cannot be removed or deleted.","pos":[2338,2455]},{"content":"In addition, default local user accounts do not provide access to network resources.","pos":[2456,2540]},{"content":"Default local user accounts are used to manage access to the local server’s resources based on the rights and permissions that are assigned to the account.","pos":[2542,2697]},{"content":"The default local user accounts, and the local user accounts that you create, are located in the Users folder.","pos":[2698,2808]},{"content":"The Users folder is located in the Local Users and Groups folder in the local Computer Management Microsoft Management Console (MMC).","pos":[2809,2942]},{"content":"Computer Management is a collection of administrative tools that you can use to manage a single local or remote computer.","pos":[2943,3064]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>How to manage local accounts<ept id=\"p1\">](#sec-manage-accounts)</ept> later in this topic.","pos":[3065,3164]},{"content":"The default local user accounts that are provided include the Administrator account, Guest account and HelpAssistant account.","pos":[3166,3291]},{"content":"Each of these default local user accounts is described in the following sections.","pos":[3292,3373]},{"pos":[3417,3438],"content":"Administrator account"},{"content":"The default local Administrator account is a user account for the system administrator.","pos":[3440,3527]},{"content":"Every computer has an Administrator account (SID S-1-5-<bpt id=\"p1\">*</bpt>domain<ept id=\"p1\">*</ept>-500, display name Administrator).","pos":[3528,3625]},{"content":"The Administrator account is the first account that is created during the installation for all Windows Server operating systems, and for Windows client operating systems.","pos":[3626,3796]},{"content":"For Windows Server operating systems, the Administrator account gives the user full control of the files, directories, services, and other resources that are under the control of the local server.","pos":[3798,3994]},{"content":"The Administrator account can be used to create local users, and assign user rights and access control permissions.","pos":[3995,4110]},{"content":"The Administrator account can also be used take control of local resources at any time simply by changing the user rights and permissions.","pos":[4111,4249]},{"content":"The default Administrator account cannot be deleted or locked out, but it can be renamed or disabled.","pos":[4251,4352]},{"content":"The default Administrator account is initially installed differently for Windows Server operating systems, and the Windows client operating systems.","pos":[4354,4502]},{"content":"The following table provides a comparison.","pos":[4503,4545]},{"content":"Default restriction","pos":[4549,4568]},{"content":"Windows Server operating systems","pos":[4571,4603]},{"content":"Windows client operating systems","pos":[4606,4638]},{"content":"Administrator account is disabled on installation","pos":[4737,4786]},{"content":"No","pos":[4789,4791]},{"content":"Yes","pos":[4794,4797]},{"content":"Administrator account is set up on first sign-in","pos":[4802,4850]},{"content":"Yes","pos":[4853,4856]},{"content":"No, keep disabled","pos":[4859,4876]},{"content":"Administrator account is used to set up the local server or client computer","pos":[4881,4956]},{"content":"Yes","pos":[4959,4962]},{"pos":[4965,5055],"content":"No, use a local user account with <bpt id=\"p1\">**</bpt>Run as administrator<ept id=\"p1\">**</ept> to obtain administrative rights"},{"content":"Administrator account requires a strong password when it is enabled","pos":[5060,5127]},{"content":"Yes","pos":[5130,5133]},{"content":"Yes","pos":[5136,5139]},{"content":"Administrator account can be disabled, locked out, or renamed","pos":[5144,5205]},{"content":"Yes","pos":[5208,5211]},{"content":"Yes","pos":[5214,5217]},{"content":"In summary, for Windows Server operating systems, the Administrator account is used to set up the local server only for tasks that require administrative rights.","pos":[5221,5382]},{"content":"The default Administrator account is set up by using the default settings that are provided on installation.","pos":[5383,5491]},{"content":"Initially, the Administrator account is not associated with a password.","pos":[5492,5563]},{"content":"After installation, when you first set up Windows Server, your first task is to set up the Administrator account properties securely.","pos":[5564,5697]},{"content":"This includes creating a strong password and securing the <bpt id=\"p1\">**</bpt>Remote control<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Remote Desktop Services Profile<ept id=\"p2\">**</ept> settings.","pos":[5698,5824]},{"content":"You can also disable the Administrator account when it is not required.","pos":[5825,5896]},{"content":"In comparison, for the Windows client operating systems, the Administrator account has access to the local system only.","pos":[5898,6017]},{"content":"The default Administrator account is initially disabled by default, and this account is not associated with a password.","pos":[6018,6137]},{"content":"It is a best practice to leave the Administrator account disabled.","pos":[6138,6204]},{"content":"The default Administrator account is considered only as a setup and disaster recovery account, and it can be used to join the computer to a domain.","pos":[6205,6352]},{"content":"When administrator access is required, do not sign in as an administrator.","pos":[6353,6427]},{"content":"You can sign in to your computer with your local (non-administrator) credentials and use <bpt id=\"p1\">**</bpt>Run as administrator<ept id=\"p1\">**</ept>.","pos":[6428,6542]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Security considerations<ept id=\"p1\">](#sec-administrator-security)</ept>.","pos":[6543,6624]},{"content":"Account group membership","pos":[6628,6652]},{"content":"By default, the Administrator account is installed as a member of the Administrators group on the server.","pos":[6656,6761]},{"content":"It is a best practice to limit the number of users in the Administrators group because members of the Administrators group on a local server have Full Control permissions on that computer.","pos":[6762,6950]},{"content":"The Administrator account cannot be deleted or removed from the Administrators group, but it can be renamed or disabled.","pos":[6952,7072]},{"content":"Security considerations","pos":[7076,7099]},{"content":"Because the Administrator account is known to exist on many versions of the Windows operating system, it is a best practice to disable the Administrator account when possible to make it more difficult for malicious users to gain access to to the server or client computer.","pos":[7103,7375]},{"content":"You can rename the Administrator account.","pos":[7377,7418]},{"content":"However, a renamed Administrator account continues to use the same automatically assigned security identifier (SID), which can be discovered by malicious users.","pos":[7419,7579]},{"content":"For more information about how to rename or disable a user account, see <bpt id=\"p1\">[</bpt>Disable or activate a local user account<ept id=\"p1\">](http://technet.microsoft.com/library/cc732112.aspx)</ept> and <bpt id=\"p2\">[</bpt>Rename a local user account<ept id=\"p2\">](http://technet.microsoft.com/library/cc725595.aspx)</ept>.","pos":[7580,7833]},{"content":"As a security best practice, use your local (non-Administrator) account to sign in and then use <bpt id=\"p1\">**</bpt>Run as administrator<ept id=\"p1\">**</ept> to accomplish tasks that require a higher level of rights than a standard user account.","pos":[7835,8043]},{"content":"Do not use the Administrator account to sign in to your computer unless it is entirely necessary.","pos":[8044,8141]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Run a program with administrative credentials<ept id=\"p1\">](https://technet.microsoft.com/en-us/library/cc732200.aspx)</ept>.","pos":[8142,8275]},{"content":"In comparison, on the Windows client operating system, a user with a local user account that has Administrator rights is considered the system administrator of the client computer.","pos":[8277,8457]},{"content":"The first local user account that is created during installation is placed in the local Administrators group.","pos":[8458,8567]},{"content":"However, when multiple users run as local administrators, the IT staff has no control over these users or their client computers.","pos":[8568,8697]},{"content":"In this case, Group Policy can be used to enable secure settings that can control the use of the local Administrators group automatically on every server or client computer.","pos":[8699,8872]},{"content":"For more information about Group Policy, see <bpt id=\"p1\">[</bpt>Group Policy Overview<ept id=\"p1\">](http://technet.microsoft.com/library/hh831791.aspx)</ept> and <bpt id=\"p2\">[</bpt>Group Policy<ept id=\"p2\">](http://technet.microsoft.com/windowsserver/bb310732.aspx)</ept>.","pos":[8873,9071]},{"content":"Note","pos":[9075,9079]},{"content":"Blank passwords are not allowed in the versions designated in the <bpt id=\"p1\">**</bpt>Applies To<ept id=\"p1\">**</ept> list at the beginning of this topic.","pos":[9084,9201]},{"content":"Important","pos":[9208,9217]},{"content":"Even when the Administrator account has been disabled, it can still be used to gain access to a computer by using safe mode.","pos":[9222,9346]},{"content":"In the Recovery Console or in safe mode, the Administrator account is automatically enabled.","pos":[9347,9439]},{"content":"When normal operations are resumed, it is disabled.","pos":[9440,9491]},{"pos":[9530,9543],"content":"Guest account"},{"content":"The Guest account (SID S-1-5-32-546) is disabled by default on installation.","pos":[9545,9621]},{"content":"The Guest account lets occasional or one-time users, who do not have an account on the computer, temporarily sign in to the local server or client computer with limited user rights.","pos":[9622,9803]},{"content":"By default, the Guest account has a blank password.","pos":[9804,9855]},{"content":"Because the Guest account can provide anonymous access, it is a security risk.","pos":[9856,9934]},{"content":"For this reason, it is a best practice to leave the Guest account disabled, unless its use is entirely necessary.","pos":[9935,10048]},{"content":"Account group membership","pos":[10052,10076]},{"content":"By default, the Guest account is the only member of the default Guests group, which lets a user sign in to a server.","pos":[10080,10196]},{"content":"On occasion, an administrator who is a member of the Administrators group can set up a user with a Guest account on one or more computers.","pos":[10197,10335]},{"content":"Security considerations","pos":[10339,10362]},{"content":"When an administrator enables the Guest account, it is a best practice to create a strong password for this account.","pos":[10366,10482]},{"content":"In addition, the administrator on the computer should also grant only limited rights and permissions for the Guest account.","pos":[10483,10606]},{"content":"For security reasons, the Guest account should not be used over the network and made accessible to other computers.","pos":[10607,10722]},{"content":"When a computer is shutting down or starting up, it is possible that a guest user or anyone with local access could gain unauthorized access to the computer.","pos":[10724,10881]},{"content":"To help prevent this risk, do not grant the Guest account the <bpt id=\"p1\">[</bpt>Shut down the system<ept id=\"p1\">](shut-down-the-system.md)</ept> user right.","pos":[10882,11003]},{"content":"In addition, the guest user in the Guest account should not be able to view the event logs.","pos":[11005,11096]},{"content":"After the Guest account is enabled, it is a best practice to monitor the Guest account frequently to ensure that other users cannot use services and other resources, such as resources that were unintentionally left available by a previous user.","pos":[11097,11341]},{"pos":[11385,11455],"content":"HelpAssistant account (installed by using a Remote Assistance session)"},{"content":"The default HelpAssistant account is enabled when a Windows Remote Assistance session is run.","pos":[11457,11550]},{"content":"The Windows Remote Assistance session can be used to connect from the server to another computer running the Windows operating system.","pos":[11551,11685]},{"content":"For solicited remote assistance, a user initiates a Windows Remote Assistance session, and it is initiated by invitation.","pos":[11686,11807]},{"content":"For solicited remote assistance, a user sends an invitation from their computer, through e-mail or as a file, to a person who can provide assistance.","pos":[11808,11957]},{"content":"After the user’s invitation for a Windows Remote Assistance session is accepted, the default HelpAssistant account is automatically created.","pos":[11959,12099]},{"content":"The HelpAssistant account provides limited access to the computer to the person who provides assistance.","pos":[12100,12204]},{"content":"The HelpAssistant account is managed by the Remote Desktop Help Session Manager service.","pos":[12205,12293]},{"content":"The HelpAssistant account is automatically deleted after there are no Remote Assistance requests are pending.","pos":[12294,12403]},{"content":"The security identifiers (SIDs) that pertain to the default HelpAssistant account include:","pos":[12405,12495]},{"content":"SID: S-1-5-13, display name Terminal Server User.","pos":[12501,12550]},{"content":"This group includes all users who sign in to a server with Remote Desktop Services enabled.","pos":[12551,12642]},{"content":"SID: S-1-5-14, display name Remote Interactive Logon.","pos":[12648,12701]},{"content":"This group includes all users who sign in to the computer by using Remote Desktop Connection.","pos":[12702,12795]},{"content":"This group is a subset of the Interactive group.","pos":[12796,12844]},{"content":"Access tokens that contain the Remote Interactive Logon SID also contain the Interactive SID.","pos":[12845,12938]},{"content":"For the Windows Server operating system, Remote Assistance is an optional component that is not installed by default.","pos":[12940,13057]},{"content":"You must install Remote Assistance before it can be used.","pos":[13058,13115]},{"content":"In comparison, for the Windows client operating system, the HelpAssistant account is enabled on installation by default.","pos":[13117,13237]},{"content":"For more information about remote desktop connections for those client operating systems designated in the <bpt id=\"p1\">**</bpt>Applies To<ept id=\"p1\">**</ept> list at the beginning of this topic, see <bpt id=\"p2\">[</bpt>Enable Remote Desktop<ept id=\"p2\">](http://technet.microsoft.com/library/dd744299.aspx)</ept>.","pos":[13238,13477]},{"pos":[13518,13547],"content":"Default local system accounts"},{"content":"The system account and the Administrator account of the Administrators group have the same file rights and permissions, but they have different functions.","pos":[13550,13704]},{"content":"The system account is used by the operating system and by services that run under Windows.","pos":[13705,13795]},{"content":"There are many services and processes in the Windows operating system that need the capability to sign in internally, such as during a Windows installation.","pos":[13796,13952]},{"content":"The system account was designed for that purpose.","pos":[13953,14002]},{"content":"It is an internal account that does not show up in User Manager, it cannot be added to any groups, and it cannot have user rights assigned to it.","pos":[14003,14148]},{"content":"On the other hand, the system account does appear on an NTFS file system volume in File Manager in the <bpt id=\"p1\">**</bpt>Permissions<ept id=\"p1\">**</ept> portion of the <bpt id=\"p2\">**</bpt>Security<ept id=\"p2\">**</ept> menu.","pos":[14150,14302]},{"content":"By default, the system account is granted Full Control permissions to all files on an NTFS volume.","pos":[14303,14401]},{"content":"Here the system account has the same functional rights and permissions as the Administrator account.","pos":[14402,14502]},{"content":"Note","pos":[14506,14510]},{"content":"To grant the account Administrators group file permissions does not implicitly give permission to the system account.","pos":[14515,14632]},{"content":"The system account's permissions can be removed from a file, but we do not recommend removing them.","pos":[14633,14732]},{"pos":[14780,14813],"content":"How to manage local user accounts"},{"content":"The default local user accounts, and the local user accounts that you create, are located in the Users folder.","pos":[14816,14926]},{"content":"The Users folder is located in the Local Users and Groups folder in the local Computer Management Microsoft Management Console (MMC), a collection of administrative tools that you can use to manage a single local or remote computer.","pos":[14927,15159]},{"content":"For more information about creating and managing local user accounts, see <bpt id=\"p1\">[</bpt>Manage Local Users<ept id=\"p1\">](http://technet.microsoft.com/library/cc731899.aspx)</ept>.","pos":[15160,15307]},{"content":"You can use Local Users and Groups to assign rights and permissions on the local server, and that server only, to limit the ability of local users and groups to perform certain actions.","pos":[15309,15494]},{"content":"A right authorizes a user to perform certain actions on a server, such as backing up files and folders or shutting down a server.","pos":[15495,15624]},{"content":"An access permission is a rule that is associated with an object, usually a file, folder, or printer.","pos":[15625,15726]},{"content":"It regulates which users can have access to an object on the server and in what manner.","pos":[15727,15814]},{"content":"You cannot use Local Users and Groups to view local users and groups after a member server is used as a domain controller.","pos":[15816,15938]},{"content":"However, you can use Local Users and Groups on a domain controller to target remote computers that are not domain controllers on the network.","pos":[15939,16080]},{"content":"Note","pos":[16084,16088]},{"content":"You use Active Directory Users and Computers to manage users and groups in Active Directory.","pos":[16093,16185]},{"pos":[16244,16306],"content":"Restrict and protect local accounts with administrative rights"},{"content":"An administrator can use a number of approaches to prevent malicious users from using stolen credentials, such as a stolen password or password hash, for a local account on one computer from being used to authenticate on another computer with administrative rights; this is also called \"lateral movement\".","pos":[16308,16613]},{"content":"The simplest approach is to sign in to your computer with a standard user account, instead of using the Administrator account for tasks, for example, to browse the Internet, send email, or use a word processor.","pos":[16615,16825]},{"content":"When you want to perform an administrative task, for example, to install a new program or to change a setting that affects other users, you don't have to switch to an Administrator account.","pos":[16826,17015]},{"content":"You can use User Account Control (UAC) to prompt you for permission or an administrator password before performing the task, as described in the next section.","pos":[17016,17174]},{"content":"The other approaches that can be used to restrict and protect user accounts with administrative rights include:","pos":[17176,17287]},{"content":"Enforce local account restrictions for remote access.","pos":[17293,17346]},{"content":"Deny network logon to all local Administrator accounts.","pos":[17352,17407]},{"content":"Create unique passwords for local accounts with administrative rights.","pos":[17413,17483]},{"content":"Each of these approaches is described in the following sections.","pos":[17485,17549]},{"content":"Note","pos":[17553,17557]},{"content":"These approaches do not apply if all administrative local accounts are disabled.","pos":[17562,17642]},{"pos":[17704,17756],"content":"Enforce local account restrictions for remote access"},{"content":"The User Account Control (UAC) is a security feature in Windows that has been in use in Windows Server 2008 and in Windows Vista, and the operating systems to which the <bpt id=\"p1\">**</bpt>Applies To<ept id=\"p1\">**</ept> list refers.","pos":[17758,17954]},{"content":"UAC enables you to stay in control of your computer by informing you when a program makes a change that requires administrator-level permission.","pos":[17955,18099]},{"content":"UAC works by adjusting the permission level of your user account.","pos":[18100,18165]},{"content":"By default, UAC is set to notify you when applications try to make changes to your computer, but you can change how often UAC notifies you.","pos":[18166,18305]},{"content":"UAC makes it possible for an account with administrative rights to be treated as a standard user non-administrator account until full rights, also called elevation, is requested and approved.","pos":[18307,18498]},{"content":"For example, UAC lets an administrator enter credentials during a non-administrator's user session to perform occasional administrative tasks without having to switch users, sign out, or use the <bpt id=\"p1\">**</bpt>Run as<ept id=\"p1\">**</ept> command.","pos":[18499,18713]},{"content":"In addition, UAC can require administrators to specifically approve applications that make system-wide changes before those applications are granted permission to run, even in the administrator's user session.","pos":[18715,18924]},{"content":"For example, a default feature of UAC is shown when a local account signs in from a remote computer by using Network logon (for example, by using NET.EXE USE).","pos":[18926,19085]},{"content":"In this instance, it is issued a standard user token with no administrative rights, but with the ability to request or receive elevation.","pos":[19086,19223]},{"content":"Consequently, local accounts that sign in by using Network logon cannot access administrative shares such as C$, or ADMIN$, or perform any remote administration.","pos":[19224,19385]},{"content":"For summary information about UAC, see <bpt id=\"p1\">[</bpt>User Account Control<ept id=\"p1\">](http://technet.microsoft.com/library/cc731416.aspx)</ept>.","pos":[19387,19501]},{"content":"For detailed information about special conditions when you use UAC, see <bpt id=\"p1\">[</bpt>User Account Control<ept id=\"p1\">](http://technet.microsoft.com/library/cc772207.aspx)</ept>.","pos":[19502,19649]},{"content":"The following table shows the Group Policy and registry settings that are used to enforce local account restrictions for remote access.","pos":[19651,19786]},{"content":"No.","pos":[19919,19922]},{"content":"Setting","pos":[19956,19963]},{"content":"Detailed Description","pos":[19997,20017]},{"content":"Policy location","pos":[20084,20099]},{"content":"Computer Configuration\\Windows Settings\\Security Settings\\Local Policies\\Security Options","pos":[20116,20205]},{"content":"1","pos":[20245,20246]},{"content":"Policy name","pos":[20263,20274]},{"content":"User Account Control: Run all administrators in Admin Approval Mode","pos":[20292,20359]},{"content":"Policy setting","pos":[20489,20503]},{"content":"Enabled","pos":[20520,20527]},{"content":"2","pos":[20567,20568]},{"content":"Policy location","pos":[20585,20600]},{"content":"Computer Configuration\\Windows Settings\\Security Settings\\Local Policies\\Security Options","pos":[20617,20706]},{"content":"Policy name","pos":[20764,20775]},{"content":"User Account Control: Run all administrators in Admin Approval Mode","pos":[20793,20860]},{"content":"Policy setting","pos":[20989,21003]},{"content":"Enabled","pos":[21020,21027]},{"content":"3","pos":[21068,21069]},{"content":"Registry key","pos":[21086,21098]},{"content":"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System","pos":[21123,21199]},{"content":"Registry value name","pos":[21265,21284]},{"content":"LocalAccountTokenFilterPolicy","pos":[21301,21330]},{"content":"Registry value type","pos":[21388,21407]},{"content":"DWORD","pos":[21424,21429]},{"content":"Registry value data","pos":[21486,21505]},{"content":"0","pos":[21522,21523]},{"content":"To enforce local account restrictions for remote access","pos":[21563,21618]},{"pos":[21626,21679],"content":"Start the <bpt id=\"p1\">**</bpt>Group Policy Management<ept id=\"p1\">**</ept> Console (GPMC)."},{"pos":[21685,21925],"content":"In the console tree, expand <ph id=\"ph1\">&amp;lt;</ph><bpt id=\"p1\">*</bpt>Forest<ept id=\"p1\">*</ept><ph id=\"ph2\">&amp;gt;\\\\</ph>Domains<ph id=\"ph3\">\\\\&amp;lt;</ph><bpt id=\"p2\">*</bpt>Domain<ept id=\"p2\">*</ept><ph id=\"ph4\">&amp;gt;</ph>, and then <bpt id=\"p3\">**</bpt>Group Policy Objects<ept id=\"p3\">**</ept> where <bpt id=\"p4\">*</bpt>forest<ept id=\"p4\">*</ept> is the name of the forest, and <bpt id=\"p5\">*</bpt>domain<ept id=\"p5\">*</ept> is the name of the domain where you want to set the Group Policy Object (GPO)."},{"pos":[21931,22007],"content":"In the console tree, right-click <bpt id=\"p1\">**</bpt>Group Policy Objects<ept id=\"p1\">**</ept>, and <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept>."},{"content":"local accounts 1","pos":[22015,22031]},{"content":"In the <bpt id=\"p1\">**</bpt>New GPO<ept id=\"p1\">**</ept> dialog box, type <ph id=\"ph1\">&amp;lt;</ph><bpt id=\"p2\">**</bpt>gpo<ph id=\"ph2\">\\_</ph>name<ept id=\"p2\">**</ept><ph id=\"ph3\">&amp;gt;</ph>, and <ph id=\"ph4\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept> where <bpt id=\"p4\">*</bpt>gpo<ph id=\"ph5\">\\_</ph>name<ept id=\"p4\">*</ept> is the name of the new GPO.","pos":[22078,22198]},{"content":"The GPO name indicates that the GPO is used to restrict local administrator rights from being carried over to another computer.","pos":[22199,22326]},{"content":"local accounts 2","pos":[22334,22350]},{"pos":[22397,22471],"content":"In the details pane, right-click <ph id=\"ph1\">&amp;lt;</ph><bpt id=\"p1\">**</bpt>gpo<ph id=\"ph2\">\\_</ph>name<ept id=\"p1\">**</ept><ph id=\"ph3\">&amp;gt;</ph>, and <ph id=\"ph4\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Edit<ept id=\"p2\">**</ept>."},{"content":"local accounts 3","pos":[22479,22495]},{"content":"Ensure that UAC is enabled and that UAC restrictions apply to the default Administrator account by doing the following:","pos":[22542,22661]},{"pos":[22671,22769],"content":"Navigate to the Computer Configuration<ph id=\"ph1\">\\\\</ph>Policies<ph id=\"ph2\">\\\\</ph>Windows Settings, and <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p1\">**</bpt>Security Options<ept id=\"p1\">**</ept>."},{"pos":[22779,22893],"content":"Double-click <bpt id=\"p1\">**</bpt>User Account Control: Run all administrators in Admin Approval Mode<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Enabled<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>."},{"pos":[22903,23030],"content":"Double-click <bpt id=\"p1\">**</bpt>User Account Control: Admin Approval Mode for the Built-in Administrator account<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Enabled<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>."},{"content":"Ensure that the local account restrictions are applied to network interfaces by doing the following:","pos":[23036,23136]},{"pos":[23146,23238],"content":"Navigate to Computer Configuration<ph id=\"ph1\">\\\\</ph>Preferences and Windows Settings, and <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p1\">**</bpt>Registry<ept id=\"p1\">**</ept>."},{"pos":[23248,23314],"content":"Right-click <bpt id=\"p1\">**</bpt>Registry<ept id=\"p1\">**</ept>, and <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Registry Item<ept id=\"p3\">**</ept>."},{"content":"local accounts 4","pos":[23326,23342]},{"pos":[23393,23520],"content":"In the <bpt id=\"p1\">**</bpt>New Registry Properties<ept id=\"p1\">**</ept> dialog box, on the <bpt id=\"p2\">**</bpt>General<ept id=\"p2\">**</ept> tab, change the setting in the <bpt id=\"p3\">**</bpt>Action<ept id=\"p3\">**</ept> box to <bpt id=\"p4\">**</bpt>Replace<ept id=\"p4\">**</ept>."},{"pos":[23530,23594],"content":"Ensure that the <bpt id=\"p1\">**</bpt>Hive<ept id=\"p1\">**</ept> box is set to <bpt id=\"p2\">**</bpt>HKEY<ph id=\"ph1\">\\_</ph>LOCAL<ph id=\"ph2\">\\_</ph>MACHINE<ept id=\"p2\">**</ept>."},{"pos":[23604,23757],"content":"Click (<bpt id=\"p1\">**</bpt>…<ept id=\"p1\">**</ept>), browse to the following location for <bpt id=\"p2\">**</bpt>Key Path<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Select<ept id=\"p3\">**</ept> for: <bpt id=\"p4\">**</bpt>SOFTWARE<ph id=\"ph2\">\\\\</ph>Microsoft<ph id=\"ph3\">\\\\</ph>Windows<ph id=\"ph4\">\\\\</ph>CurrentVersion<ph id=\"ph5\">\\\\</ph>Policies<ph id=\"ph6\">\\\\</ph>System<ept id=\"p4\">**</ept>."},{"pos":[23767,23834],"content":"In the <bpt id=\"p1\">**</bpt>Value name<ept id=\"p1\">**</ept> area, type <bpt id=\"p2\">**</bpt>LocalAccountTokenFilterPolicy<ept id=\"p2\">**</ept>."},{"pos":[23844,23938],"content":"In the <bpt id=\"p1\">**</bpt>Value type<ept id=\"p1\">**</ept> box, from the drop-down list, select <bpt id=\"p2\">**</bpt>REG<ph id=\"ph1\">\\_</ph>DWORD<ept id=\"p2\">**</ept> to change the value."},{"pos":[23948,24013],"content":"In the <bpt id=\"p1\">**</bpt>Value data<ept id=\"p1\">**</ept> box, ensure that the value is set to <bpt id=\"p2\">**</bpt>0<ept id=\"p2\">**</ept>."},{"pos":[24023,24066],"content":"Verify this configuration, and <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>."},{"content":"local accounts 5","pos":[24078,24094]},{"pos":[24141,24232],"content":"Link the GPO to the first <bpt id=\"p1\">**</bpt>Workstations<ept id=\"p1\">**</ept> organizational unit (OU) by doing the following:"},{"pos":[24242,24311],"content":"Navigate to the <ph id=\"ph1\">&amp;lt;</ph><bpt id=\"p1\">*</bpt>Forest<ept id=\"p1\">*</ept><ph id=\"ph2\">&amp;gt;\\\\</ph>Domains<ph id=\"ph3\">\\\\&amp;lt;</ph><bpt id=\"p2\">*</bpt>Domain<ept id=\"p2\">*</ept><ph id=\"ph4\">&amp;gt;\\\\</ph>OU path."},{"pos":[24321,24392],"content":"Right-click the <bpt id=\"p1\">**</bpt>Workstations<ept id=\"p1\">**</ept> OU, and <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Link an existing GPO<ept id=\"p2\">**</ept>."},{"content":"local accounts 6","pos":[24404,24420]},{"pos":[24471,24525],"content":"Select the GPO that you just created, and <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>."},{"content":"Test the functionality of enterprise applications on the workstations in that first OU and resolve any issues caused by the new policy.","pos":[24531,24666]},{"content":"Create links to all other OUs that contain workstations.","pos":[24672,24728]},{"content":"Create links to all other OUs that contain servers.","pos":[24734,24785]},{"pos":[24834,24888],"content":"Deny network logon to all local Administrator accounts"},{"content":"Denying local accounts the ability to perform network logons can help prevent a local account password hash from being reused in a malicious attack.","pos":[24890,25038]},{"content":"This procedure helps to prevent lateral movement by ensuring that the credentials for local accounts that are stolen from a compromised operating system cannot be used to compromise additional computers that use the same credentials.","pos":[25039,25272]},{"content":"Note","pos":[25276,25280]},{"content":"In order to perform this procedure, you must first identify the name of the local, default Administrator account, which might not be the default user name \"Administrator\", and any other accounts that are members of the local Administrators group.","pos":[25285,25531]},{"content":"The following table shows the Group Policy settings that are used to deny network logon for all local Administrator accounts.","pos":[25536,25661]},{"content":"No.","pos":[25794,25797]},{"content":"Setting","pos":[25831,25838]},{"content":"Detailed Description","pos":[25872,25892]},{"content":"Policy location","pos":[25959,25974]},{"content":"Computer Configuration\\Windows Settings\\Security Settings\\Local Policies\\User Rights Assignment","pos":[25991,26086]},{"content":"1","pos":[26126,26127]},{"content":"Policy name","pos":[26144,26155]},{"content":"Deny access to this computer from the network","pos":[26173,26218]},{"content":"Policy setting","pos":[26327,26341]},{"content":"User name of the default Administrator account","pos":[26358,26404]},{"content":"(Might be renamed through policy.)","pos":[26412,26446]},{"content":"2","pos":[26486,26487]},{"content":"Policy location","pos":[26504,26519]},{"content":"Computer Configuration\\Windows Settings\\Security Settings\\Local Policies\\User Rights Assignment","pos":[26536,26631]},{"content":"Policy name","pos":[26689,26700]},{"content":"Deny log on through Remote Desktop Services","pos":[26718,26761]},{"content":"(Windows Server 2008 R2 and later.)","pos":[26818,26853]},{"content":"Deny logon through Terminal Services","pos":[26861,26897]},{"content":"(Windows Server 2008)","pos":[26905,26926]},{"content":"Policy setting","pos":[26983,26997]},{"content":"User name of the default Administrator account","pos":[27014,27060]},{"content":"(Might be renamed through policy).","pos":[27068,27102]},{"content":"To deny network logon to all local administrator accounts","pos":[27142,27199]},{"pos":[27207,27260],"content":"Start the <bpt id=\"p1\">**</bpt>Group Policy Management<ept id=\"p1\">**</ept> Console (GPMC)."},{"pos":[27266,27507],"content":"In the console tree, expand <ph id=\"ph1\">&amp;lt;</ph><bpt id=\"p1\">*</bpt>Forest<ept id=\"p1\">*</ept><ph id=\"ph2\">&amp;gt;\\\\</ph>Domains<ph id=\"ph3\">\\\\&amp;lt;</ph><bpt id=\"p2\">*</bpt>Domain<ept id=\"p2\">*</ept><ph id=\"ph4\">&amp;gt;</ph>, and then <bpt id=\"p3\">**</bpt>Group Policy Objects<ept id=\"p3\">**</ept>, where <bpt id=\"p4\">*</bpt>forest<ept id=\"p4\">*</ept> is the name of the forest, and <bpt id=\"p5\">*</bpt>domain<ept id=\"p5\">*</ept> is the name of the domain where you want to set the Group Policy Object (GPO)."},{"pos":[27513,27589],"content":"In the console tree, right-click <bpt id=\"p1\">**</bpt>Group Policy Objects<ept id=\"p1\">**</ept>, and <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept>."},{"pos":[27595,27844],"content":"In the <bpt id=\"p1\">**</bpt>New GPO<ept id=\"p1\">**</ept> dialog box, type <ph id=\"ph1\">&amp;lt;</ph><bpt id=\"p2\">**</bpt>gpo<ph id=\"ph2\">\\_</ph>name<ept id=\"p2\">**</ept><ph id=\"ph3\">&amp;gt;</ph>, and then <ph id=\"ph4\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept> where <bpt id=\"p4\">*</bpt>gpo<ph id=\"ph5\">\\_</ph>name<ept id=\"p4\">*</ept> is the name of the new GPO indicates that it is being used to restrict the local administrative accounts from interactively signing in to the computer."},{"content":"local accounts 7","pos":[27852,27868]},{"pos":[27915,27989],"content":"In the details pane, right-click <ph id=\"ph1\">&amp;lt;</ph><bpt id=\"p1\">**</bpt>gpo<ph id=\"ph2\">\\_</ph>name<ept id=\"p1\">**</ept><ph id=\"ph3\">&amp;gt;</ph>, and <ph id=\"ph4\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Edit<ept id=\"p2\">**</ept>."},{"content":"local accounts 8","pos":[27997,28013]},{"content":"Configure the user rights to deny network logons for administrative local accounts as follows:","pos":[28060,28154]},{"pos":[28164,28268],"content":"Navigate to the Computer Configuration<ph id=\"ph1\">\\\\</ph>Policies<ph id=\"ph2\">\\\\</ph>Windows Settings, and <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p1\">**</bpt>User Rights Assignment<ept id=\"p1\">**</ept>."},{"pos":[28278,28384],"content":"Double-click <bpt id=\"p1\">**</bpt>Deny access to this computer from the network<ept id=\"p1\">**</ept>, and <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Define these policy settings<ept id=\"p2\">**</ept>."},{"content":"Click <bpt id=\"p1\">**</bpt>Add User or Group<ept id=\"p1\">**</ept>, type the name of the default Administrator account, and <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept>.","pos":[28394,28491]},{"content":"The default name is Administrator on US English installations, but it can be renamed either by policy or manually.","pos":[28492,28606]},{"content":"local accounts 9","pos":[28618,28634]},{"pos":[28685,29288],"content":"**Important**  \nIn the **User and group names** box, type the user name of the account that you identified at the start of this process. Do not click **Browse** and do not type the domain name or the local computer name in this dialog box. For example, type only **Administrator**. If the text that you typed resolved to a name that is underlined, includes a computer name, or includes the domain, it restricts the wrong account and causes this mitigation to work incorrectly. Also, be careful that you do not enter the group name Administrator to prevent blocking domain accounts in that group.","leadings":["","        "],"nodes":[{"content":"Important","pos":[2,11]},{"content":"In the **User and group names** box, type the user name of the account that you identified at the start of this process. Do not click **Browse** and do not type the domain name or the local computer name in this dialog box. For example, type only **Administrator**. If the text that you typed resolved to a name that is underlined, includes a computer name, or includes the domain, it restricts the wrong account and causes this mitigation to work incorrectly. Also, be careful that you do not enter the group name Administrator to prevent blocking domain accounts in that group.","pos":[16,595],"nodes":[{"content":"In the <bpt id=\"p1\">**</bpt>User and group names<ept id=\"p1\">**</ept> box, type the user name of the account that you identified at the start of this process.","pos":[0,120]},{"content":"Do not click <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept> and do not type the domain name or the local computer name in this dialog box.","pos":[121,223]},{"content":"For example, type only <bpt id=\"p1\">**</bpt>Administrator<ept id=\"p1\">**</ept>.","pos":[224,265]},{"content":"If the text that you typed resolved to a name that is underlined, includes a computer name, or includes the domain, it restricts the wrong account and causes this mitigation to work incorrectly.","pos":[266,460]},{"content":"Also, be careful that you do not enter the group name Administrator to prevent blocking domain accounts in that group.","pos":[461,579]}]}]},{"pos":[29309,29585],"content":"For any additional local accounts in the Administrators group on all of the workstations that you are configuring, click <bpt id=\"p1\">**</bpt>Add User or Group<ept id=\"p1\">**</ept>, type the user names of these accounts in the dialog box in the same manner as described in the previous step, and then click <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept>."},{"content":"Configure the user rights to deny Remote Desktop (Remote Interactive) logons for administrative local accounts as follows:","pos":[29591,29713]},{"pos":[29723,29848],"content":"Navigate to Computer Configuration<ph id=\"ph1\">\\\\</ph>Policies<ph id=\"ph2\">\\\\</ph>Windows Settings and Local Policies, and then click <bpt id=\"p1\">**</bpt>User Rights Assignment<ept id=\"p1\">**</ept>."},{"pos":[29858,29987],"content":"**Note**  \nDepending on the Windows operating system, you can choose the name of the Remote Interactive logon user right.","leadings":["","        "],"nodes":[{"content":"Note","pos":[2,6]},{"content":"Depending on the Windows operating system, you can choose the name of the Remote Interactive logon user right.","pos":[11,121]}]},{"pos":[30008,30155],"content":"On computers that run Windows Server 2008, double-click <bpt id=\"p1\">**</bpt>Deny logon through Terminal Services<ept id=\"p1\">**</ept>, and then select <bpt id=\"p2\">**</bpt>Define these policy settings<ept id=\"p2\">**</ept>."},{"pos":[30165,30362],"content":"On computers running Windows Server 2012 R2, Windows Server 2012, and Windows Server 2008 R2, double-click <bpt id=\"p1\">**</bpt>Deny logon through Remote Desktop Services<ept id=\"p1\">**</ept>, and then select <bpt id=\"p2\">**</bpt>Define these settings<ept id=\"p2\">**</ept>."},{"content":"Click <bpt id=\"p1\">**</bpt>Add User or Group<ept id=\"p1\">**</ept>, type the user name of the default Administrator account, and <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept>.","pos":[30372,30474]},{"content":"(The default name is Administrator on US English installations, but it can be renamed either by policy or manually.","pos":[30475,30590]},{"pos":[30600,31184],"content":"**Important**  \nIn the **User and group names** box, type the user name of the account that you identified at the start of this process. Do not click **Browse** and do not type the domain name or the local computer name in this dialog box. For example, type only **Administrator**. If the text that you typed resolves to a name that is underlined or includes a domain name, it restricts the wrong account and causes this mitigation to work incorrectly. Also, be careful that you do not enter the group name Administrator because this also blocks domain accounts in that group.","leadings":["","        "],"nodes":[{"content":"Important","pos":[2,11]},{"content":"In the **User and group names** box, type the user name of the account that you identified at the start of this process. Do not click **Browse** and do not type the domain name or the local computer name in this dialog box. For example, type only **Administrator**. If the text that you typed resolves to a name that is underlined or includes a domain name, it restricts the wrong account and causes this mitigation to work incorrectly. Also, be careful that you do not enter the group name Administrator because this also blocks domain accounts in that group.","pos":[16,576],"nodes":[{"content":"In the <bpt id=\"p1\">**</bpt>User and group names<ept id=\"p1\">**</ept> box, type the user name of the account that you identified at the start of this process.","pos":[0,120]},{"content":"Do not click <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept> and do not type the domain name or the local computer name in this dialog box.","pos":[121,223]},{"content":"For example, type only <bpt id=\"p1\">**</bpt>Administrator<ept id=\"p1\">**</ept>.","pos":[224,265]},{"content":"If the text that you typed resolves to a name that is underlined or includes a domain name, it restricts the wrong account and causes this mitigation to work incorrectly.","pos":[266,436]},{"content":"Also, be careful that you do not enter the group name Administrator because this also blocks domain accounts in that group.","pos":[437,560]}]}]},{"pos":[31205,31461],"content":"For any additional local accounts in the Administrators group on all of the workstations that you are setting up, click <bpt id=\"p1\">**</bpt>Add User or Group<ept id=\"p1\">**</ept>, type the user names of these accounts in the dialog box in the same manner as the previous step, and <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept>."},{"pos":[31467,31524],"content":"Link the GPO to the first <bpt id=\"p1\">**</bpt>Workstations<ept id=\"p1\">**</ept> OU as follows:"},{"pos":[31534,31603],"content":"Navigate to the <ph id=\"ph1\">&amp;lt;</ph><bpt id=\"p1\">*</bpt>Forest<ept id=\"p1\">*</ept><ph id=\"ph2\">&amp;gt;\\\\</ph>Domains<ph id=\"ph3\">\\\\&amp;lt;</ph><bpt id=\"p2\">*</bpt>Domain<ept id=\"p2\">*</ept><ph id=\"ph4\">&amp;gt;\\\\</ph>OU path."},{"pos":[31613,31684],"content":"Right-click the <bpt id=\"p1\">**</bpt>Workstations<ept id=\"p1\">**</ept> OU, and <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Link an existing GPO<ept id=\"p2\">**</ept>."},{"pos":[31694,31748],"content":"Select the GPO that you just created, and <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>."},{"content":"Test the functionality of enterprise applications on the workstations in that first OU and resolve any issues caused by the new policy.","pos":[31754,31889]},{"content":"Create links to all other OUs that contain workstations.","pos":[31895,31951]},{"content":"Create links to all other OUs that contain servers.","pos":[31957,32008]},{"pos":[32014,32164],"content":"**Note**  \nYou might have to create a separate GPO if the user name of the default Administrator account is different on workstations and servers.","leadings":["","    "],"nodes":[{"content":"Note","pos":[2,6]},{"content":"You might have to create a separate GPO if the user name of the default Administrator account is different on workstations and servers.","pos":[11,146]}]},{"pos":[32225,32294],"content":"Create unique passwords for local accounts with administrative rights"},{"content":"Passwords should be unique per individual account.","pos":[32296,32346]},{"content":"While this is generally true for individual user accounts, many enterprises have identical passwords for common local accounts, such as the default Administrator account.","pos":[32347,32517]},{"content":"This also occurs when the same passwords are used for local accounts during operating system deployments.","pos":[32518,32623]},{"content":"Passwords that are left unchanged or changed synchronously to keep them identical add a significant risk for organizations.","pos":[32625,32748]},{"content":"Randomizing the passwords mitigates \"pass-the-hash\" attacks by using different passwords for local accounts, which hampers the ability of malicious users to use password hashes of those accounts to compromise other computers.","pos":[32749,32974]},{"content":"Passwords can be randomized by:","pos":[32976,33007]},{"content":"Purchasing and implementing an enterprise tool to accomplish this task.","pos":[33013,33084]},{"content":"These tools are commonly referred to as \"privileged password management\" tools.","pos":[33085,33164]},{"content":"Configuring, customizing and implementing a free tool to accomplish this task.","pos":[33170,33248]},{"content":"A sample tool with source code is available at <bpt id=\"p1\">[</bpt>Solution for management of built-in Administrator account’s password via GPO<ept id=\"p1\">](http://code.msdn.microsoft.com/windowsdesktop/Solution-for-management-of-ae44e789)</ept>.","pos":[33249,33458]},{"pos":[33464,33710],"content":"**Note**  \nThis tool is not supported by Microsoft. There are some important considerations to make before deploying this tool because this tool requires client-side extensions and schema extensions to support password generation and storage.","leadings":["","    "],"nodes":[{"content":"Note","pos":[2,6]},{"content":"This tool is not supported by Microsoft. There are some important considerations to make before deploying this tool because this tool requires client-side extensions and schema extensions to support password generation and storage.","pos":[11,242],"nodes":[{"content":"This tool is not supported by Microsoft.","pos":[0,40]},{"content":"There are some important considerations to make before deploying this tool because this tool requires client-side extensions and schema extensions to support password generation and storage.","pos":[41,231]}]}]},{"content":"Create and implement a custom script or solution to randomize local account passwords.","pos":[33723,33809]},{"pos":[33850,33858],"content":"See also"},{"content":"The following resources provide additional information about technologies that are related to local accounts.","pos":[33861,33970]},{"content":"Security Principals Technical Overview","pos":[33977,34015]},{"content":"Security Identifiers Technical Overview","pos":[34047,34086]},{"content":"Access Control Overview","pos":[34119,34142]}],"content":"---\ntitle: Local Accounts (Windows 10)\ndescription: Local Accounts\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\n---\n\n# Local Accounts\n\n**Applies to**\n-   Windows 10\n-   Windows Server 2016\n\nThis reference topic for the IT professional describes the default local user accounts for servers, including how to manage these built-in accounts on a member or standalone server. This topic does not describe the default local user accounts for an Active Directory domain controller.\n\n**Did you mean…**\n\n-   [Active Directory Accounts](active-directory-accounts.md)\n\n-   [Microsoft Accounts](microsoft-accounts.md)\n\n## <a href=\"\" id=\"about-local-user-accounts-\"></a>About local user accounts\n\n\nLocal user accounts are stored locally on the server. These accounts can be assigned rights and permissions on a particular server, but on that server only. Local user accounts are security principals that are used to secure and manage access to the resources on a standalone or member server for services or users.\n\nThis topic describes the following:\n\n-   [Default local user accounts](#sec-default-accounts)\n\n    -   [Administrator account](#sec-administrator)\n\n    -   [Guest Account](#sec-guest)\n\n    -   [HelpAssistant account (installed by using a Remote Assistance session)](#sec-helpassistant)\n\n-   [Default local system accounts](#sec-localsystem)\n\n-   [How to manage local accounts](#sec-manage-accounts)\n\n    -   [Restrict and protect local accounts with administrative rights](#sec-restrict-protect-accounts)\n\n    -   [Enforce local account restrictions for remote access](#sec-enforce-account-restrictions)\n\n    -   [Deny network logon to all local Administrator accounts](#sec-deny-network-logon)\n\n    -   [Create unique passwords for local accounts with administrative rights](#sec-create-unique-passwords)\n\nFor information about security principals, see [Security Principals Technical Overview](security-principals.md).\n\n## <a href=\"\" id=\"sec-default-accounts\"></a>Default local user accounts\n\n\nThe default local user accounts are built-in accounts that are created automatically when you install the Windows Server operating system on a stand-alone server or member server. The **Applies To** list at the beginning of this article designates the Windows operating systems to which this topic applies.\n\nAfter the Windows Server operating system is installed, the default local user accounts cannot be removed or deleted. In addition, default local user accounts do not provide access to network resources.\n\nDefault local user accounts are used to manage access to the local server’s resources based on the rights and permissions that are assigned to the account. The default local user accounts, and the local user accounts that you create, are located in the Users folder. The Users folder is located in the Local Users and Groups folder in the local Computer Management Microsoft Management Console (MMC). Computer Management is a collection of administrative tools that you can use to manage a single local or remote computer. For more information, see [How to manage local accounts](#sec-manage-accounts) later in this topic.\n\nThe default local user accounts that are provided include the Administrator account, Guest account and HelpAssistant account. Each of these default local user accounts is described in the following sections.\n\n### <a href=\"\" id=\"sec-administrator\"></a>Administrator account\n\nThe default local Administrator account is a user account for the system administrator. Every computer has an Administrator account (SID S-1-5-*domain*-500, display name Administrator). The Administrator account is the first account that is created during the installation for all Windows Server operating systems, and for Windows client operating systems.\n\nFor Windows Server operating systems, the Administrator account gives the user full control of the files, directories, services, and other resources that are under the control of the local server. The Administrator account can be used to create local users, and assign user rights and access control permissions. The Administrator account can also be used take control of local resources at any time simply by changing the user rights and permissions.\n\nThe default Administrator account cannot be deleted or locked out, but it can be renamed or disabled.\n\nThe default Administrator account is initially installed differently for Windows Server operating systems, and the Windows client operating systems. The following table provides a comparison.\n\n| Default restriction | Windows Server operating systems | Windows client operating systems |\n|---------------------|----------------------------------|----------------------------------|\n| Administrator account is disabled on installation | No | Yes |\n| Administrator account is set up on first sign-in | Yes | No, keep disabled |\n| Administrator account is used to set up the local server or client computer | Yes | No, use a local user account with **Run as administrator** to obtain administrative rights |\n| Administrator account requires a strong password when it is enabled | Yes | Yes |\n| Administrator account can be disabled, locked out, or renamed | Yes | Yes |\n\nIn summary, for Windows Server operating systems, the Administrator account is used to set up the local server only for tasks that require administrative rights. The default Administrator account is set up by using the default settings that are provided on installation. Initially, the Administrator account is not associated with a password. After installation, when you first set up Windows Server, your first task is to set up the Administrator account properties securely. This includes creating a strong password and securing the **Remote control** and **Remote Desktop Services Profile** settings. You can also disable the Administrator account when it is not required.\n\nIn comparison, for the Windows client operating systems, the Administrator account has access to the local system only. The default Administrator account is initially disabled by default, and this account is not associated with a password. It is a best practice to leave the Administrator account disabled. The default Administrator account is considered only as a setup and disaster recovery account, and it can be used to join the computer to a domain. When administrator access is required, do not sign in as an administrator. You can sign in to your computer with your local (non-administrator) credentials and use **Run as administrator**. For more information, see [Security considerations](#sec-administrator-security).\n\n**Account group membership**\n\nBy default, the Administrator account is installed as a member of the Administrators group on the server. It is a best practice to limit the number of users in the Administrators group because members of the Administrators group on a local server have Full Control permissions on that computer.\n\nThe Administrator account cannot be deleted or removed from the Administrators group, but it can be renamed or disabled.\n\n**Security considerations**\n\nBecause the Administrator account is known to exist on many versions of the Windows operating system, it is a best practice to disable the Administrator account when possible to make it more difficult for malicious users to gain access to to the server or client computer.\n\nYou can rename the Administrator account. However, a renamed Administrator account continues to use the same automatically assigned security identifier (SID), which can be discovered by malicious users. For more information about how to rename or disable a user account, see [Disable or activate a local user account](http://technet.microsoft.com/library/cc732112.aspx) and [Rename a local user account](http://technet.microsoft.com/library/cc725595.aspx).\n\nAs a security best practice, use your local (non-Administrator) account to sign in and then use **Run as administrator** to accomplish tasks that require a higher level of rights than a standard user account. Do not use the Administrator account to sign in to your computer unless it is entirely necessary. For more information, see [Run a program with administrative credentials](https://technet.microsoft.com/en-us/library/cc732200.aspx).\n\nIn comparison, on the Windows client operating system, a user with a local user account that has Administrator rights is considered the system administrator of the client computer. The first local user account that is created during installation is placed in the local Administrators group. However, when multiple users run as local administrators, the IT staff has no control over these users or their client computers.\n\nIn this case, Group Policy can be used to enable secure settings that can control the use of the local Administrators group automatically on every server or client computer. For more information about Group Policy, see [Group Policy Overview](http://technet.microsoft.com/library/hh831791.aspx) and [Group Policy](http://technet.microsoft.com/windowsserver/bb310732.aspx).\n\n**Note**  \nBlank passwords are not allowed in the versions designated in the **Applies To** list at the beginning of this topic.\n\n \n\n**Important**  \nEven when the Administrator account has been disabled, it can still be used to gain access to a computer by using safe mode. In the Recovery Console or in safe mode, the Administrator account is automatically enabled. When normal operations are resumed, it is disabled.\n\n \n\n### <a href=\"\" id=\"sec-guest\"></a>Guest account\n\nThe Guest account (SID S-1-5-32-546) is disabled by default on installation. The Guest account lets occasional or one-time users, who do not have an account on the computer, temporarily sign in to the local server or client computer with limited user rights. By default, the Guest account has a blank password. Because the Guest account can provide anonymous access, it is a security risk. For this reason, it is a best practice to leave the Guest account disabled, unless its use is entirely necessary.\n\n**Account group membership**\n\nBy default, the Guest account is the only member of the default Guests group, which lets a user sign in to a server. On occasion, an administrator who is a member of the Administrators group can set up a user with a Guest account on one or more computers.\n\n**Security considerations**\n\nWhen an administrator enables the Guest account, it is a best practice to create a strong password for this account. In addition, the administrator on the computer should also grant only limited rights and permissions for the Guest account. For security reasons, the Guest account should not be used over the network and made accessible to other computers.\n\nWhen a computer is shutting down or starting up, it is possible that a guest user or anyone with local access could gain unauthorized access to the computer. To help prevent this risk, do not grant the Guest account the [Shut down the system](shut-down-the-system.md) user right.\n\nIn addition, the guest user in the Guest account should not be able to view the event logs. After the Guest account is enabled, it is a best practice to monitor the Guest account frequently to ensure that other users cannot use services and other resources, such as resources that were unintentionally left available by a previous user.\n\n### <a href=\"\" id=\"sec-helpassistant\"></a>HelpAssistant account (installed by using a Remote Assistance session)\n\nThe default HelpAssistant account is enabled when a Windows Remote Assistance session is run. The Windows Remote Assistance session can be used to connect from the server to another computer running the Windows operating system. For solicited remote assistance, a user initiates a Windows Remote Assistance session, and it is initiated by invitation. For solicited remote assistance, a user sends an invitation from their computer, through e-mail or as a file, to a person who can provide assistance.\n\nAfter the user’s invitation for a Windows Remote Assistance session is accepted, the default HelpAssistant account is automatically created. The HelpAssistant account provides limited access to the computer to the person who provides assistance. The HelpAssistant account is managed by the Remote Desktop Help Session Manager service. The HelpAssistant account is automatically deleted after there are no Remote Assistance requests are pending.\n\nThe security identifiers (SIDs) that pertain to the default HelpAssistant account include:\n\n-   SID: S-1-5-13, display name Terminal Server User. This group includes all users who sign in to a server with Remote Desktop Services enabled.\n\n-   SID: S-1-5-14, display name Remote Interactive Logon. This group includes all users who sign in to the computer by using Remote Desktop Connection. This group is a subset of the Interactive group. Access tokens that contain the Remote Interactive Logon SID also contain the Interactive SID.\n\nFor the Windows Server operating system, Remote Assistance is an optional component that is not installed by default. You must install Remote Assistance before it can be used.\n\nIn comparison, for the Windows client operating system, the HelpAssistant account is enabled on installation by default. For more information about remote desktop connections for those client operating systems designated in the **Applies To** list at the beginning of this topic, see [Enable Remote Desktop](http://technet.microsoft.com/library/dd744299.aspx).\n\n## <a href=\"\" id=\"sec-localsystem\"></a>Default local system accounts\n\n\nThe system account and the Administrator account of the Administrators group have the same file rights and permissions, but they have different functions. The system account is used by the operating system and by services that run under Windows. There are many services and processes in the Windows operating system that need the capability to sign in internally, such as during a Windows installation. The system account was designed for that purpose. It is an internal account that does not show up in User Manager, it cannot be added to any groups, and it cannot have user rights assigned to it.\n\nOn the other hand, the system account does appear on an NTFS file system volume in File Manager in the **Permissions** portion of the **Security** menu. By default, the system account is granted Full Control permissions to all files on an NTFS volume. Here the system account has the same functional rights and permissions as the Administrator account.\n\n**Note**  \nTo grant the account Administrators group file permissions does not implicitly give permission to the system account. The system account's permissions can be removed from a file, but we do not recommend removing them.\n\n \n\n## <a href=\"\" id=\"sec-manage-accounts\"></a>How to manage local user accounts\n\n\nThe default local user accounts, and the local user accounts that you create, are located in the Users folder. The Users folder is located in the Local Users and Groups folder in the local Computer Management Microsoft Management Console (MMC), a collection of administrative tools that you can use to manage a single local or remote computer. For more information about creating and managing local user accounts, see [Manage Local Users](http://technet.microsoft.com/library/cc731899.aspx).\n\nYou can use Local Users and Groups to assign rights and permissions on the local server, and that server only, to limit the ability of local users and groups to perform certain actions. A right authorizes a user to perform certain actions on a server, such as backing up files and folders or shutting down a server. An access permission is a rule that is associated with an object, usually a file, folder, or printer. It regulates which users can have access to an object on the server and in what manner.\n\nYou cannot use Local Users and Groups to view local users and groups after a member server is used as a domain controller. However, you can use Local Users and Groups on a domain controller to target remote computers that are not domain controllers on the network.\n\n**Note**  \nYou use Active Directory Users and Computers to manage users and groups in Active Directory.\n\n \n\n### <a href=\"\" id=\"sec-restrict-protect-accounts\"></a>Restrict and protect local accounts with administrative rights\n\nAn administrator can use a number of approaches to prevent malicious users from using stolen credentials, such as a stolen password or password hash, for a local account on one computer from being used to authenticate on another computer with administrative rights; this is also called \"lateral movement\".\n\nThe simplest approach is to sign in to your computer with a standard user account, instead of using the Administrator account for tasks, for example, to browse the Internet, send email, or use a word processor. When you want to perform an administrative task, for example, to install a new program or to change a setting that affects other users, you don't have to switch to an Administrator account. You can use User Account Control (UAC) to prompt you for permission or an administrator password before performing the task, as described in the next section.\n\nThe other approaches that can be used to restrict and protect user accounts with administrative rights include:\n\n-   Enforce local account restrictions for remote access.\n\n-   Deny network logon to all local Administrator accounts.\n\n-   Create unique passwords for local accounts with administrative rights.\n\nEach of these approaches is described in the following sections.\n\n**Note**  \nThese approaches do not apply if all administrative local accounts are disabled.\n\n \n\n### <a href=\"\" id=\"sec-enforce-account-restrictions\"></a>Enforce local account restrictions for remote access\n\nThe User Account Control (UAC) is a security feature in Windows that has been in use in Windows Server 2008 and in Windows Vista, and the operating systems to which the **Applies To** list refers. UAC enables you to stay in control of your computer by informing you when a program makes a change that requires administrator-level permission. UAC works by adjusting the permission level of your user account. By default, UAC is set to notify you when applications try to make changes to your computer, but you can change how often UAC notifies you.\n\nUAC makes it possible for an account with administrative rights to be treated as a standard user non-administrator account until full rights, also called elevation, is requested and approved. For example, UAC lets an administrator enter credentials during a non-administrator's user session to perform occasional administrative tasks without having to switch users, sign out, or use the **Run as** command.\n\nIn addition, UAC can require administrators to specifically approve applications that make system-wide changes before those applications are granted permission to run, even in the administrator's user session.\n\nFor example, a default feature of UAC is shown when a local account signs in from a remote computer by using Network logon (for example, by using NET.EXE USE). In this instance, it is issued a standard user token with no administrative rights, but with the ability to request or receive elevation. Consequently, local accounts that sign in by using Network logon cannot access administrative shares such as C$, or ADMIN$, or perform any remote administration.\n\nFor summary information about UAC, see [User Account Control](http://technet.microsoft.com/library/cc731416.aspx). For detailed information about special conditions when you use UAC, see [User Account Control](http://technet.microsoft.com/library/cc772207.aspx).\n\nThe following table shows the Group Policy and registry settings that are used to enforce local account restrictions for remote access.\n\n<table>\n<colgroup>\n<col width=\"33%\" />\n<col width=\"33%\" />\n<col width=\"33%\" />\n</colgroup>\n<tbody>\n<tr class=\"odd\">\n<td><p><strong>No.</strong></p></td>\n<td><p><strong>Setting</strong></p></td>\n<td><p><strong>Detailed Description</strong></p></td>\n</tr>\n<tr class=\"even\">\n<td><p></p></td>\n<td><p>Policy location</p></td>\n<td><p>Computer Configuration\\Windows Settings\\Security Settings\\Local Policies\\Security Options</p></td>\n</tr>\n<tr class=\"odd\">\n<td><p>1</p></td>\n<td><p>Policy name</p></td>\n<td><p>[User Account Control: Run all administrators in Admin Approval Mode](user-account-control-run-all-administrators-in-admin-approval-mode.md)</p></td>\n</tr>\n<tr class=\"even\">\n<td><p></p></td>\n<td><p>Policy setting</p></td>\n<td><p>Enabled</p></td>\n</tr>\n<tr class=\"odd\">\n<td><p>2</p></td>\n<td><p>Policy location</p></td>\n<td><p>Computer Configuration\\Windows Settings\\Security Settings\\Local Policies\\Security Options</p></td>\n</tr>\n<tr class=\"even\">\n<td><p></p></td>\n<td><p>Policy name</p></td>\n<td><p>[User Account Control: Run all administrators in Admin Approval Mode](user-account-control-run-all-administrators-in-admin-approval-mode.md)</p></td>\n</tr>\n<tr class=\"odd\">\n<td><p></p></td>\n<td><p>Policy setting</p></td>\n<td><p>Enabled</p></td>\n</tr>\n<tr class=\"even\">\n<td><p>3</p></td>\n<td><p>Registry key</p></td>\n<td><p><strong>HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System</strong></p></td>\n</tr>\n<tr class=\"odd\">\n<td><p></p></td>\n<td><p>Registry value name</p></td>\n<td><p>LocalAccountTokenFilterPolicy</p></td>\n</tr>\n<tr class=\"even\">\n<td><p></p></td>\n<td><p>Registry value type</p></td>\n<td><p>DWORD</p></td>\n</tr>\n<tr class=\"odd\">\n<td><p></p></td>\n<td><p>Registry value data</p></td>\n<td><p>0</p></td>\n</tr>\n</tbody>\n</table>\n\n \n\n**To enforce local account restrictions for remote access**\n\n1.  Start the **Group Policy Management** Console (GPMC).\n\n2.  In the console tree, expand &lt;*Forest*&gt;\\\\Domains\\\\&lt;*Domain*&gt;, and then **Group Policy Objects** where *forest* is the name of the forest, and *domain* is the name of the domain where you want to set the Group Policy Object (GPO).\n\n3.  In the console tree, right-click **Group Policy Objects**, and &gt; **New**.\n\n    ![local accounts 1](images/localaccounts-proc1-sample1.png)\n\n4.  In the **New GPO** dialog box, type &lt;**gpo\\_name**&gt;, and &gt; **OK** where *gpo\\_name* is the name of the new GPO. The GPO name indicates that the GPO is used to restrict local administrator rights from being carried over to another computer.\n\n    ![local accounts 2](images/localaccounts-proc1-sample2.png)\n\n5.  In the details pane, right-click &lt;**gpo\\_name**&gt;, and &gt; **Edit**.\n\n    ![local accounts 3](images/localaccounts-proc1-sample3.png)\n\n6.  Ensure that UAC is enabled and that UAC restrictions apply to the default Administrator account by doing the following:\n\n    1.  Navigate to the Computer Configuration\\\\Policies\\\\Windows Settings, and &gt; **Security Options**.\n\n    2.  Double-click **User Account Control: Run all administrators in Admin Approval Mode** &gt; **Enabled** &gt; **OK**.\n\n    3.  Double-click **User Account Control: Admin Approval Mode for the Built-in Administrator account** &gt; **Enabled** &gt; **OK**.\n\n7.  Ensure that the local account restrictions are applied to network interfaces by doing the following:\n\n    1.  Navigate to Computer Configuration\\\\Preferences and Windows Settings, and &gt; **Registry**.\n\n    2.  Right-click **Registry**, and &gt; **New** &gt; **Registry Item**.\n\n        ![local accounts 4](images/localaccounts-proc1-sample4.png)\n\n    3.  In the **New Registry Properties** dialog box, on the **General** tab, change the setting in the **Action** box to **Replace**.\n\n    4.  Ensure that the **Hive** box is set to **HKEY\\_LOCAL\\_MACHINE**.\n\n    5.  Click (**…**), browse to the following location for **Key Path** &gt; **Select** for: **SOFTWARE\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Policies\\\\System**.\n\n    6.  In the **Value name** area, type **LocalAccountTokenFilterPolicy**.\n\n    7.  In the **Value type** box, from the drop-down list, select **REG\\_DWORD** to change the value.\n\n    8.  In the **Value data** box, ensure that the value is set to **0**.\n\n    9.  Verify this configuration, and &gt; **OK**.\n\n        ![local accounts 5](images/localaccounts-proc1-sample5.png)\n\n8.  Link the GPO to the first **Workstations** organizational unit (OU) by doing the following:\n\n    1.  Navigate to the &lt;*Forest*&gt;\\\\Domains\\\\&lt;*Domain*&gt;\\\\OU path.\n\n    2.  Right-click the **Workstations** OU, and &gt; **Link an existing GPO**.\n\n        ![local accounts 6](images/localaccounts-proc1-sample6.png)\n\n    3.  Select the GPO that you just created, and &gt; **OK**.\n\n9.  Test the functionality of enterprise applications on the workstations in that first OU and resolve any issues caused by the new policy.\n\n10. Create links to all other OUs that contain workstations.\n\n11. Create links to all other OUs that contain servers.\n\n### <a href=\"\" id=\"sec-deny-network-logon\"></a>Deny network logon to all local Administrator accounts\n\nDenying local accounts the ability to perform network logons can help prevent a local account password hash from being reused in a malicious attack. This procedure helps to prevent lateral movement by ensuring that the credentials for local accounts that are stolen from a compromised operating system cannot be used to compromise additional computers that use the same credentials.\n\n**Note**  \nIn order to perform this procedure, you must first identify the name of the local, default Administrator account, which might not be the default user name \"Administrator\", and any other accounts that are members of the local Administrators group.\n\n \n\nThe following table shows the Group Policy settings that are used to deny network logon for all local Administrator accounts.\n\n<table>\n<colgroup>\n<col width=\"33%\" />\n<col width=\"33%\" />\n<col width=\"33%\" />\n</colgroup>\n<tbody>\n<tr class=\"odd\">\n<td><p><strong>No.</strong></p></td>\n<td><p><strong>Setting</strong></p></td>\n<td><p><strong>Detailed Description</strong></p></td>\n</tr>\n<tr class=\"even\">\n<td><p></p></td>\n<td><p>Policy location</p></td>\n<td><p>Computer Configuration\\Windows Settings\\Security Settings\\Local Policies\\User Rights Assignment</p></td>\n</tr>\n<tr class=\"odd\">\n<td><p>1</p></td>\n<td><p>Policy name</p></td>\n<td><p>[Deny access to this computer from the network](deny-access-to-this-computer-from-the-network.md)</p></td>\n</tr>\n<tr class=\"even\">\n<td><p></p></td>\n<td><p>Policy setting</p></td>\n<td><p>User name of the default Administrator account</p>\n<p>(Might be renamed through policy.)</p></td>\n</tr>\n<tr class=\"odd\">\n<td><p>2</p></td>\n<td><p>Policy location</p></td>\n<td><p>Computer Configuration\\Windows Settings\\Security Settings\\Local Policies\\User Rights Assignment</p></td>\n</tr>\n<tr class=\"even\">\n<td><p></p></td>\n<td><p>Policy name</p></td>\n<td><p>[Deny log on through Remote Desktop Services](deny-log-on-through-remote-desktop-services.md)</p>\n<p>(Windows Server 2008 R2 and later.)</p>\n<p>Deny logon through Terminal Services</p>\n<p>(Windows Server 2008)</p></td>\n</tr>\n<tr class=\"odd\">\n<td><p></p></td>\n<td><p>Policy setting</p></td>\n<td><p>User name of the default Administrator account</p>\n<p>(Might be renamed through policy).</p></td>\n</tr>\n</tbody>\n</table>\n\n \n\n**To deny network logon to all local administrator accounts**\n\n1.  Start the **Group Policy Management** Console (GPMC).\n\n2.  In the console tree, expand &lt;*Forest*&gt;\\\\Domains\\\\&lt;*Domain*&gt;, and then **Group Policy Objects**, where *forest* is the name of the forest, and *domain* is the name of the domain where you want to set the Group Policy Object (GPO).\n\n3.  In the console tree, right-click **Group Policy Objects**, and &gt; **New**.\n\n4.  In the **New GPO** dialog box, type &lt;**gpo\\_name**&gt;, and then &gt; **OK** where *gpo\\_name* is the name of the new GPO indicates that it is being used to restrict the local administrative accounts from interactively signing in to the computer.\n\n    ![local accounts 7](images/localaccounts-proc2-sample1.png)\n\n5.  In the details pane, right-click &lt;**gpo\\_name**&gt;, and &gt; **Edit**.\n\n    ![local accounts 8](images/localaccounts-proc2-sample2.png)\n\n6.  Configure the user rights to deny network logons for administrative local accounts as follows:\n\n    1.  Navigate to the Computer Configuration\\\\Policies\\\\Windows Settings, and &gt; **User Rights Assignment**.\n\n    2.  Double-click **Deny access to this computer from the network**, and &gt; **Define these policy settings**.\n\n    3.  Click **Add User or Group**, type the name of the default Administrator account, and &gt; **OK**. The default name is Administrator on US English installations, but it can be renamed either by policy or manually.\n\n        ![local accounts 9](images/localaccounts-proc2-sample3.png)\n\n        **Important**  \n        In the **User and group names** box, type the user name of the account that you identified at the start of this process. Do not click **Browse** and do not type the domain name or the local computer name in this dialog box. For example, type only **Administrator**. If the text that you typed resolved to a name that is underlined, includes a computer name, or includes the domain, it restricts the wrong account and causes this mitigation to work incorrectly. Also, be careful that you do not enter the group name Administrator to prevent blocking domain accounts in that group.\n\n         \n\n    4.  For any additional local accounts in the Administrators group on all of the workstations that you are configuring, click **Add User or Group**, type the user names of these accounts in the dialog box in the same manner as described in the previous step, and then click **OK**.\n\n7.  Configure the user rights to deny Remote Desktop (Remote Interactive) logons for administrative local accounts as follows:\n\n    1.  Navigate to Computer Configuration\\\\Policies\\\\Windows Settings and Local Policies, and then click **User Rights Assignment**.\n\n        **Note**  \n        Depending on the Windows operating system, you can choose the name of the Remote Interactive logon user right.\n\n         \n\n    2.  On computers that run Windows Server 2008, double-click **Deny logon through Terminal Services**, and then select **Define these policy settings**.\n\n    3.  On computers running Windows Server 2012 R2, Windows Server 2012, and Windows Server 2008 R2, double-click **Deny logon through Remote Desktop Services**, and then select **Define these settings**.\n\n    4.  Click **Add User or Group**, type the user name of the default Administrator account, and &gt; **OK**. (The default name is Administrator on US English installations, but it can be renamed either by policy or manually.\n\n        **Important**  \n        In the **User and group names** box, type the user name of the account that you identified at the start of this process. Do not click **Browse** and do not type the domain name or the local computer name in this dialog box. For example, type only **Administrator**. If the text that you typed resolves to a name that is underlined or includes a domain name, it restricts the wrong account and causes this mitigation to work incorrectly. Also, be careful that you do not enter the group name Administrator because this also blocks domain accounts in that group.\n\n         \n\n    5.  For any additional local accounts in the Administrators group on all of the workstations that you are setting up, click **Add User or Group**, type the user names of these accounts in the dialog box in the same manner as the previous step, and &gt; **OK**.\n\n8.  Link the GPO to the first **Workstations** OU as follows:\n\n    1.  Navigate to the &lt;*Forest*&gt;\\\\Domains\\\\&lt;*Domain*&gt;\\\\OU path.\n\n    2.  Right-click the **Workstations** OU, and &gt; **Link an existing GPO**.\n\n    3.  Select the GPO that you just created, and &gt; **OK**.\n\n9.  Test the functionality of enterprise applications on the workstations in that first OU and resolve any issues caused by the new policy.\n\n10. Create links to all other OUs that contain workstations.\n\n11. Create links to all other OUs that contain servers.\n\n    **Note**  \n    You might have to create a separate GPO if the user name of the default Administrator account is different on workstations and servers.\n\n     \n\n### <a href=\"\" id=\"sec-create-unique-passwords\"></a>Create unique passwords for local accounts with administrative rights\n\nPasswords should be unique per individual account. While this is generally true for individual user accounts, many enterprises have identical passwords for common local accounts, such as the default Administrator account. This also occurs when the same passwords are used for local accounts during operating system deployments.\n\nPasswords that are left unchanged or changed synchronously to keep them identical add a significant risk for organizations. Randomizing the passwords mitigates \"pass-the-hash\" attacks by using different passwords for local accounts, which hampers the ability of malicious users to use password hashes of those accounts to compromise other computers.\n\nPasswords can be randomized by:\n\n-   Purchasing and implementing an enterprise tool to accomplish this task. These tools are commonly referred to as \"privileged password management\" tools.\n\n-   Configuring, customizing and implementing a free tool to accomplish this task. A sample tool with source code is available at [Solution for management of built-in Administrator account’s password via GPO](http://code.msdn.microsoft.com/windowsdesktop/Solution-for-management-of-ae44e789).\n\n    **Note**  \n    This tool is not supported by Microsoft. There are some important considerations to make before deploying this tool because this tool requires client-side extensions and schema extensions to support password generation and storage.\n\n     \n\n-   Create and implement a custom script or solution to randomize local account passwords.\n\n## <a href=\"\" id=\"dhcp-references\"></a>See also\n\n\nThe following resources provide additional information about technologies that are related to local accounts.\n\n-   [Security Principals Technical Overview](security-principals.md)\n\n-   [Security Identifiers Technical Overview](security-identifiers.md)\n\n-   [Access Control Overview](access-control.md)\n\n \n\n \n\n\n\n\n"}