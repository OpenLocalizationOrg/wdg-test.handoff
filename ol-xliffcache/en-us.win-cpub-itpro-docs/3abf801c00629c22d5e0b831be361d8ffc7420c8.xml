{"nodes":[{"content":"Release Notes for App-V 5.1","pos":[11,38]},{"content":"Release Notes for App-V 5.1","pos":[52,79]},{"content":"Release Notes for App-V 5.1","pos":[254,281]},{"content":"The following are known issues in Microsoft Application Virtualization (App-V) 5.1.","pos":[284,367]},{"content":"Error occurs during publishing refresh between App-V 5.0 SP3 Management Server and App-V 5.1 Client on Windows 10","pos":[372,485]},{"content":"An error is generated during publishing refresh when synchronizing packages from the App-V 5.0 SP3 management server to an App-V 5.1 client on Windows 10 .","pos":[488,643]},{"content":"This error occurs because the App-V 5.0 SP3 server does not understand the Windows 10 operating system that is specified in the publishing URL.","pos":[644,787]},{"content":"The issue is fixed for App-V 5.1 publishing server, but is not backported to versions of App-V 5.0 SP3 or earlier.","pos":[788,902]},{"pos":[904,1018],"content":"<bpt id=\"p1\">**</bpt>Workaround<ept id=\"p1\">**</ept>: Upgrade the App-V 5.0 Management server to the App-V 5.1 Management server for Windows 10 Clients."},{"content":"Custom configurations do not get applied for packages that will be published globally if they are set using the App-V 5.1 Server","pos":[1023,1151]},{"content":"If you assign a package to an AD group that contains machine accounts and apply a custom configuration to that group using the App-V Server, the custom configuration will not be applied to those machines.","pos":[1154,1358]},{"content":"The App-V 5.1 Client will publish packages assigned to a machine account globally.","pos":[1359,1441]},{"content":"However, it stores custom configuration files per user in each user’s profile.","pos":[1442,1520]},{"content":"Globally published packages will not have access to this custom configuration.","pos":[1521,1599]},{"pos":[1601,1641],"content":"<bpt id=\"p1\">**</bpt>Workaround<ept id=\"p1\">**</ept>: Do one of the following:"},{"content":"Assign the package to groups containing only user accounts.","pos":[1647,1706]},{"content":"This will ensure that the package’s custom configuration will be stored in each user’s profile and will be applied correctly.","pos":[1707,1832]},{"content":"Create a custom deployment configuration file and apply it to the package on the client using the Add-AppvClientPackage cmdlet with the –DynamicDeploymentConfiguration parameter.","pos":[1838,2016]},{"content":"See <bpt id=\"p1\">[</bpt>About App-V 5.1 Dynamic Configuration<ept id=\"p1\">](about-app-v-51-dynamic-configuration.md)</ept> for more information.","pos":[2017,2123]},{"content":"Create a new package with the custom configuration using the App-V 5.1 Sequencer.","pos":[2129,2210]},{"content":"Server files not deleted after new App-V 5.1 Server installation","pos":[2215,2279]},{"content":"If you uninstall the App-V 5.0 SP1 Server and then install the App-V 5.1 Server, the installation fails, the wrong version of the Management server is installed, and an error message is returned.","pos":[2282,2477]},{"content":"The issue occurs because the Server files are not being deleted when you uninstall App-V 5.0 SP1, so the installation process does an upgrade instead of a new installation.","pos":[2478,2650]},{"pos":[2652,2731],"content":"<bpt id=\"p1\">**</bpt>Workaround<ept id=\"p1\">**</ept>: Delete this registry key before you start installing App-V 5.1:"},{"content":"Under HKEY<ph id=\"ph1\">\\_</ph>LOCAL<ph id=\"ph2\">\\_</ph>MACHINE<ph id=\"ph3\">\\\\</ph>SOFTWARE<ph id=\"ph4\">\\\\</ph>Wow6432Node<ph id=\"ph5\">\\\\</ph>Microsoft<ph id=\"ph6\">\\\\</ph>Windows<ph id=\"ph7\">\\\\</ph>CurrentVersion<ph id=\"ph8\">\\\\</ph>Uninstall, locate and delete the installation GUID key that contains the DWORD value \"DisplayName\" with value data \"Microsoft Application Virtualization (App-V) Server\".","pos":[2733,2989]},{"content":"This is the only key that should be deleted.","pos":[2990,3034]},{"content":"File type associations added manually are not saved correctly","pos":[3039,3100]},{"content":"File type associations added to an application package manually using the Shortcuts and FTAs tab at the end of the application upgrade wizard are not saved correctly.","pos":[3103,3269]},{"content":"They will not be available to the App-V Client or to the Sequencer when updating the saved package again.","pos":[3270,3375]},{"content":"<bpt id=\"p1\">**</bpt>Workaround<ept id=\"p1\">**</ept>: To add a file type association, open the package for modification and run the update wizard.","pos":[3377,3485]},{"content":"During the Installation step, add the new file type association through the operating system.","pos":[3486,3579]},{"content":"The sequencer will detect the new association in the system registry and add it to the package’s virtual registry, where it will be available to the client.","pos":[3580,3736]},{"content":"When streaming packages in Shared Content Store (SCS) mode to a client that is also managed with AppLocker, additional data is written to the local disk.","pos":[3741,3894]},{"content":"To decrease the amount of data written to a client’s local disk, you can enable SCS mode on the App-V 5.1 Client to stream the contents of a package on demand.","pos":[3897,4056]},{"content":"However, if AppLocker manages an application within the package, some data might be written to the client’s local disk that would not otherwise be written.","pos":[4057,4212]},{"pos":[4214,4234],"content":"<bpt id=\"p1\">**</bpt>Workaround<ept id=\"p1\">**</ept>: None"},{"content":"In the Management Console Add Package dialog box, the Browse button is not available when using Chrome or Firefox","pos":[4239,4352]},{"content":"On the Packages page of the Management Console, if you click <bpt id=\"p1\">**</bpt>Add or Upgrade<ept id=\"p1\">**</ept> in the lower-right corner, the <bpt id=\"p2\">**</bpt>Add Package<ept id=\"p2\">**</ept> dialog box appears.","pos":[4355,4501]},{"content":"If you are accessing the Management Console using Chrome or Firefox as your browser, you will not be able to browse to the location of the package.","pos":[4502,4649]},{"content":"<bpt id=\"p1\">**</bpt>Workaround<ept id=\"p1\">**</ept>: Type or copy and paste the path to the package into the <bpt id=\"p2\">**</bpt>Add Package<ept id=\"p2\">**</ept> input field.","pos":[4651,4751]},{"content":"If the Management Console has access to this path, you will be able to add the package.","pos":[4752,4839]},{"content":"If the package is on a network share, you can browse to the location using File Explorer by doing these steps:","pos":[4840,4950]},{"pos":[4956,5013],"content":"While pressing <bpt id=\"p1\">**</bpt>Shift<ept id=\"p1\">**</ept>, right-click on the package file"},{"pos":[5019,5042],"content":"Select <bpt id=\"p1\">**</bpt>Copy as path<ept id=\"p1\">**</ept>"},{"pos":[5048,5110],"content":"Paste the path into the <bpt id=\"p1\">**</bpt>Add Package<ept id=\"p1\">**</ept> dialog box input field"},{"pos":[5237,5338],"content":"Upgrading App-V Management Server to 5.1 sometimes fails with the message “A database error occurred”"},{"content":"If you install the App-V 5.0 SP1 Management Server, and then try to upgrade to App-V 5.1 Server when multiple connection groups are configured and enabled, the following error is displayed: “A database error occurred.","pos":[5341,5558]},{"content":"Reason: 'Invalid column name 'PackageOptional'.","pos":[5559,5606]},{"content":"Invalid column name 'VersionOptional'.”","pos":[5607,5646]},{"pos":[5648,5702],"content":"<bpt id=\"p1\">**</bpt>Workaround<ept id=\"p1\">**</ept>: Run this command on your SQL database:"},{"content":"where “AppVManagement” is the name of the database.","pos":[5841,5892]},{"content":"Users cannot open a package in a user-published connection group if you add or remove an optional package","pos":[5897,6002]},{"content":"In environments that are running the RDS Client or that have multiple concurrent users per computer, logged-in users cannot open applications in packages that are in a user-published connection group if an optional package is added to or removed from the connection group.","pos":[6005,6277]},{"pos":[6279,6335],"content":"<bpt id=\"p1\">**</bpt>Workaround<ept id=\"p1\">**</ept>: Have users log out and then log back in."},{"content":"Error message is erroneously displayed when the connection group is published only to the user","pos":[6340,6434]},{"content":"When you run Repair-AppvClientConnectionGroup, the following error is displayed, even when the connection group is published only to the user: “Internal App-V Integration error: Package not integrated for the user.","pos":[6437,6651]},{"content":"Please ensure that the package is added to the machine and published to the user.”","pos":[6652,6734]},{"pos":[6736,6776],"content":"<bpt id=\"p1\">**</bpt>Workaround<ept id=\"p1\">**</ept>: Do one of the following:"},{"content":"Publish all packages in a connection group.","pos":[6782,6825]},{"content":"The problem arises when the connection group being repaired has packages that are missing or not available to the user (that is, not published globally or to the user).","pos":[6831,6999]},{"content":"However, the repair will work if all of the connection group’s packages are available, so ensure that all packages are published.","pos":[7000,7129]},{"content":"Repair packages individually using the Repair-AppvClientPackage command rather than the Repair-AppvClientConnectionGroup command.","pos":[7135,7264]},{"content":"Determine which packages are available to users and then run the Repair-AppvClientPackage command once for each package.","pos":[7270,7390]},{"content":"Use PowerShell cmdlets to do the following:","pos":[7391,7434]},{"content":"Get all the packages in a connection group.","pos":[7444,7487]},{"content":"Check to see if each package is currently published.","pos":[7497,7549]},{"content":"If the package is currently published, run Repair-AppvClientPackage on that package.","pos":[7559,7643]},{"content":"Icons not displayed properly in Sequencer","pos":[7648,7689]},{"content":"Icons in the Shortcuts and File Type Associations tab are not displayed correctly when modifying a package in the App-V Sequencer.","pos":[7692,7822]},{"content":"This problem occurs when the size of the icons are not 16x16 or 32x32.","pos":[7823,7893]},{"pos":[7895,7950],"content":"<bpt id=\"p1\">**</bpt>Workaround<ept id=\"p1\">**</ept>: Only use icons that are 16x16 or 32x32."},{"content":"InsertVersionInfo.sql script no longer required for the Management Database","pos":[7955,8030]},{"content":"The InsertVersionInfo.sql script is not required for versions of the App-V management database later than App-V 5.0 SP3.","pos":[8033,8153]},{"pos":[8155,8290],"content":"The Permissions.sql script should be updated according to <bpt id=\"p1\">**</bpt>Step 2<ept id=\"p1\">**</ept> in <bpt id=\"p2\">[</bpt>KB article 3031340<ept id=\"p2\">](https://support.microsoft.com/kb/3031340)</ept>."},{"content":"Important","pos":[8294,8303]},{"content":"<bpt id=\"p1\">**</bpt>Step 1<ept id=\"p1\">**</ept> is not required for versions of App-V later than App-V 5.0 SP3.","pos":[8308,8382]},{"content":"Microsoft Visual Studio 2012 not supported","pos":[8390,8432]},{"content":"App-V 5.1 does not support Visual Studio 2012.","pos":[8435,8481]},{"pos":[8483,8503],"content":"<bpt id=\"p1\">**</bpt>Workaround<ept id=\"p1\">**</ept>: None"},{"content":"Application filename restrictions for App-V 5.x Sequencer","pos":[8508,8565]},{"content":"The App-V 5.x Sequencer cannot sequence applications with filenames matching \"CO_<ph id=\"ph1\">&amp;lt;</ph>x<ph id=\"ph2\">&amp;gt;</ph>\" where x is any numeral.","pos":[8568,8683]},{"content":"Error 0x8007139F will be generated.","pos":[8684,8719]},{"pos":[8721,8761],"content":"<bpt id=\"p1\">**</bpt>Workaround<ept id=\"p1\">**</ept>: Use a different filename"},{"content":"Got a suggestion for App-V?","pos":[8766,8793]},{"content":"Add or vote on suggestions <bpt id=\"p1\">[</bpt>here<ept id=\"p1\">](http://appv.uservoice.com/forums/280448-microsoft-application-virtualization)</ept>.","pos":[8796,8908]},{"content":"For App-V issues, use the <bpt id=\"p1\">[</bpt>App-V TechNet Forum<ept id=\"p1\">](https://social.technet.microsoft.com/Forums/home?forum=mdopappv)</ept>.","pos":[8909,9022]},{"content":"Related topics","pos":[9027,9041]},{"content":"About App-V 5.1","pos":[9045,9060]}],"content":"---\ntitle: Release Notes for App-V 5.1\ndescription: Release Notes for App-V 5.1\nauthor: jamiejdt\nms.assetid: 62c5be3b-0a46-4512-93ed-97c23184f343\nms.pagetype: mdop, appcompat, virtualization\nms.mktglfcycl: deploy\nms.sitesec: library\nms.prod: w10\n---\n\n\n# Release Notes for App-V 5.1\n\n\nThe following are known issues in Microsoft Application Virtualization (App-V) 5.1.\n\n## Error occurs during publishing refresh between App-V 5.0 SP3 Management Server and App-V 5.1 Client on Windows 10\n\n\nAn error is generated during publishing refresh when synchronizing packages from the App-V 5.0 SP3 management server to an App-V 5.1 client on Windows 10 . This error occurs because the App-V 5.0 SP3 server does not understand the Windows 10 operating system that is specified in the publishing URL. The issue is fixed for App-V 5.1 publishing server, but is not backported to versions of App-V 5.0 SP3 or earlier.\n\n**Workaround**: Upgrade the App-V 5.0 Management server to the App-V 5.1 Management server for Windows 10 Clients.\n\n## Custom configurations do not get applied for packages that will be published globally if they are set using the App-V 5.1 Server\n\n\nIf you assign a package to an AD group that contains machine accounts and apply a custom configuration to that group using the App-V Server, the custom configuration will not be applied to those machines. The App-V 5.1 Client will publish packages assigned to a machine account globally. However, it stores custom configuration files per user in each user’s profile. Globally published packages will not have access to this custom configuration.\n\n**Workaround**: Do one of the following:\n\n-   Assign the package to groups containing only user accounts. This will ensure that the package’s custom configuration will be stored in each user’s profile and will be applied correctly.\n\n-   Create a custom deployment configuration file and apply it to the package on the client using the Add-AppvClientPackage cmdlet with the –DynamicDeploymentConfiguration parameter. See [About App-V 5.1 Dynamic Configuration](about-app-v-51-dynamic-configuration.md) for more information.\n\n-   Create a new package with the custom configuration using the App-V 5.1 Sequencer.\n\n## Server files not deleted after new App-V 5.1 Server installation\n\n\nIf you uninstall the App-V 5.0 SP1 Server and then install the App-V 5.1 Server, the installation fails, the wrong version of the Management server is installed, and an error message is returned. The issue occurs because the Server files are not being deleted when you uninstall App-V 5.0 SP1, so the installation process does an upgrade instead of a new installation.\n\n**Workaround**: Delete this registry key before you start installing App-V 5.1:\n\nUnder HKEY\\_LOCAL\\_MACHINE\\\\SOFTWARE\\\\Wow6432Node\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Uninstall, locate and delete the installation GUID key that contains the DWORD value \"DisplayName\" with value data \"Microsoft Application Virtualization (App-V) Server\". This is the only key that should be deleted.\n\n## File type associations added manually are not saved correctly\n\n\nFile type associations added to an application package manually using the Shortcuts and FTAs tab at the end of the application upgrade wizard are not saved correctly. They will not be available to the App-V Client or to the Sequencer when updating the saved package again.\n\n**Workaround**: To add a file type association, open the package for modification and run the update wizard. During the Installation step, add the new file type association through the operating system. The sequencer will detect the new association in the system registry and add it to the package’s virtual registry, where it will be available to the client.\n\n## When streaming packages in Shared Content Store (SCS) mode to a client that is also managed with AppLocker, additional data is written to the local disk.\n\n\nTo decrease the amount of data written to a client’s local disk, you can enable SCS mode on the App-V 5.1 Client to stream the contents of a package on demand. However, if AppLocker manages an application within the package, some data might be written to the client’s local disk that would not otherwise be written.\n\n**Workaround**: None\n\n## In the Management Console Add Package dialog box, the Browse button is not available when using Chrome or Firefox\n\n\nOn the Packages page of the Management Console, if you click **Add or Upgrade** in the lower-right corner, the **Add Package** dialog box appears. If you are accessing the Management Console using Chrome or Firefox as your browser, you will not be able to browse to the location of the package.\n\n**Workaround**: Type or copy and paste the path to the package into the **Add Package** input field. If the Management Console has access to this path, you will be able to add the package. If the package is on a network share, you can browse to the location using File Explorer by doing these steps:\n\n1.  While pressing **Shift**, right-click on the package file\n\n2.  Select **Copy as path**\n\n3.  Paste the path into the **Add Package** dialog box input field\n\n## <a href=\"\" id=\"upgrading-app-v-management-server-to-5-1-sometimes-fails-with-the-message--a-database-error-occurred-\"></a>Upgrading App-V Management Server to 5.1 sometimes fails with the message “A database error occurred”\n\n\nIf you install the App-V 5.0 SP1 Management Server, and then try to upgrade to App-V 5.1 Server when multiple connection groups are configured and enabled, the following error is displayed: “A database error occurred. Reason: 'Invalid column name 'PackageOptional'. Invalid column name 'VersionOptional'.”\n\n**Workaround**: Run this command on your SQL database:\n\n`ALTER TABLE AppVManagement.dbo.PackageGroupMembers ADD PackageOptional bit NOT NULL DEFAULT 0, VersionOptional bit NOT NULL DEFAULT 0`\n\nwhere “AppVManagement” is the name of the database.\n\n## Users cannot open a package in a user-published connection group if you add or remove an optional package\n\n\nIn environments that are running the RDS Client or that have multiple concurrent users per computer, logged-in users cannot open applications in packages that are in a user-published connection group if an optional package is added to or removed from the connection group.\n\n**Workaround**: Have users log out and then log back in.\n\n## Error message is erroneously displayed when the connection group is published only to the user\n\n\nWhen you run Repair-AppvClientConnectionGroup, the following error is displayed, even when the connection group is published only to the user: “Internal App-V Integration error: Package not integrated for the user. Please ensure that the package is added to the machine and published to the user.”\n\n**Workaround**: Do one of the following:\n\n-   Publish all packages in a connection group.\n\n    The problem arises when the connection group being repaired has packages that are missing or not available to the user (that is, not published globally or to the user). However, the repair will work if all of the connection group’s packages are available, so ensure that all packages are published.\n\n-   Repair packages individually using the Repair-AppvClientPackage command rather than the Repair-AppvClientConnectionGroup command.\n\n    Determine which packages are available to users and then run the Repair-AppvClientPackage command once for each package. Use PowerShell cmdlets to do the following:\n\n    1.  Get all the packages in a connection group.\n\n    2.  Check to see if each package is currently published.\n\n    3.  If the package is currently published, run Repair-AppvClientPackage on that package.\n\n## Icons not displayed properly in Sequencer\n\n\nIcons in the Shortcuts and File Type Associations tab are not displayed correctly when modifying a package in the App-V Sequencer. This problem occurs when the size of the icons are not 16x16 or 32x32.\n\n**Workaround**: Only use icons that are 16x16 or 32x32.\n\n## InsertVersionInfo.sql script no longer required for the Management Database\n\n\nThe InsertVersionInfo.sql script is not required for versions of the App-V management database later than App-V 5.0 SP3.\n\nThe Permissions.sql script should be updated according to **Step 2** in [KB article 3031340](https://support.microsoft.com/kb/3031340).\n\n**Important**  \n**Step 1** is not required for versions of App-V later than App-V 5.0 SP3.\n\n \n\n## Microsoft Visual Studio 2012 not supported\n\n\nApp-V 5.1 does not support Visual Studio 2012.\n\n**Workaround**: None\n\n## Application filename restrictions for App-V 5.x Sequencer\n\n\nThe App-V 5.x Sequencer cannot sequence applications with filenames matching \"CO_&lt;x&gt;\" where x is any numeral. Error 0x8007139F will be generated.\n\n**Workaround**: Use a different filename\n\n## Got a suggestion for App-V?\n\n\nAdd or vote on suggestions [here](http://appv.uservoice.com/forums/280448-microsoft-application-virtualization). For App-V issues, use the [App-V TechNet Forum](https://social.technet.microsoft.com/Forums/home?forum=mdopappv).\n\n## Related topics\n\n\n[About App-V 5.1](about-app-v-51.md)\n\n \n\n \n\n\n\n\n\n"}