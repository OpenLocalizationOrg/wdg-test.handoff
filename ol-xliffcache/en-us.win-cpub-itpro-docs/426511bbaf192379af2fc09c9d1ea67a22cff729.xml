{"nodes":[{"content":"Reroute Files and Settings (Windows 10)","pos":[11,50]},{"content":"Reroute Files and Settings","pos":[64,90]},{"content":"Reroute Files and Settings","pos":[223,249]},{"content":"To reroute files and settings, create a custom .xml file and specify this file name on both the ScanState and LoadState commandlines.","pos":[252,385]},{"content":"This enables you to keep your changes separate from the default .xml files, so that it is easier to track your modifications.","pos":[386,511]},{"content":"In this topic:","pos":[513,527]},{"content":"Reroute a Folder","pos":[534,550]},{"content":"Reroute a Specific File Type","pos":[579,607]},{"content":"Reroute a Specific File","pos":[642,665]},{"pos":[737,753],"content":"Reroute a Folder"},{"content":"The following custom .xml file migrates the directories and files from C:<ph id=\"ph1\">\\\\</ph>EngineeringDrafts into the My Documents folder of every user.","pos":[756,892]},{"content":"%CSIDL<ph id=\"ph1\">\\_</ph>PERSONAL% is the virtual folder representing the My Documents desktop item, which is equivalent to CSIDL<ph id=\"ph2\">\\_</ph>MYDOCUMENTS.","pos":[893,1019]},{"pos":[1939,1967],"content":"Reroute a Specific File Type"},{"content":"The following custom .xml file reroutes .mp3 files located in the fixed drives on the source computer into the C:<ph id=\"ph1\">\\\\</ph>Music folder on the destination computer.","pos":[1970,2126]},{"pos":[2922,2945],"content":"Reroute a Specific File"},{"content":"The following custom .xml file migrates the Sample.doc file from C:<ph id=\"ph1\">\\\\</ph>EngineeringDrafts into the My Documents folder of every user.","pos":[2948,3078]},{"content":"%CSIDL<ph id=\"ph1\">\\_</ph>PERSONAL% is the virtual folder representing the My Documents desktop item, which is equivalent to CSIDL<ph id=\"ph2\">\\_</ph>MYDOCUMENTS.","pos":[3079,3205]},{"content":"Related topics","pos":[3914,3928]},{"content":"Customize USMT XML Files","pos":[3932,3956]},{"content":"Conflicts and Precedence","pos":[3989,4013]},{"content":"USMT XML Reference","pos":[4051,4069]}],"content":"---\ntitle: Reroute Files and Settings (Windows 10)\ndescription: Reroute Files and Settings\nms.assetid: 905e6a24-922c-4549-9732-60fa11862a6c\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nauthor: greg-lindsay\n---\n\n# Reroute Files and Settings\n\n\nTo reroute files and settings, create a custom .xml file and specify this file name on both the ScanState and LoadState commandlines. This enables you to keep your changes separate from the default .xml files, so that it is easier to track your modifications.\n\nIn this topic:\n\n-   [Reroute a Folder](#bkmk-reroutefolder)\n\n-   [Reroute a Specific File Type](#bkmk-reroutespecfiletype)\n\n-   [Reroute a Specific File](#bkmk-reroutespecificfile)\n\n## <a href=\"\" id=\"bkmk-reroutefolder\"></a>Reroute a Folder\n\n\nThe following custom .xml file migrates the directories and files from C:\\\\EngineeringDrafts into the My Documents folder of every user. %CSIDL\\_PERSONAL% is the virtual folder representing the My Documents desktop item, which is equivalent to CSIDL\\_MYDOCUMENTS.\n\n``` syntax\n<migration urlid=\"http://www.microsoft.com/migration/1.0/migxmlext/test\">\n<component type=\"Documents\" context=\"User\">\n  <displayName>Engineering Drafts Documents to Personal Folder</displayName>\n  <role role=\"Data\">\n    <rules>\n      <!-- Migrate all directories and files present in c:\\EngineeringDrafts folder -->\n      <include>\n        <objectSet>\n          <pattern type=\"File\">C:\\EngineeringDrafts\\* [*]</pattern>\n        </objectSet>\n      </include>\n      <!-- This migrates all files and directories from C:\\EngineeringDrafts to every userâ€™s personal folder.-->\n      <locationModify script=\"MigXmlHelper.RelativeMove('C:\\EngineeringDrafts','%CSIDL_PERSONAL%')\">\n        <objectSet>\n          <pattern type=\"File\">C:\\EngineeringDrafts\\* [*]</pattern>\n        </objectSet>\n      </locationModify>\n    </rules>\n  </role>\n</component>\n</migration>\n```\n\n## <a href=\"\" id=\"bkmk-reroutespecfiletype\"></a>Reroute a Specific File Type\n\n\nThe following custom .xml file reroutes .mp3 files located in the fixed drives on the source computer into the C:\\\\Music folder on the destination computer.\n\n``` syntax\n<migration urlid=\"http://www.microsoft.com/migration/1.0/migxmlext/test\">\n<component type=\"Documents\" context=\"System\">\n  <displayName>All .mp3 files to My Documents</displayName>\n  <role role=\"Data\">\n    <rules>\n      <include>\n        <objectSet>\n          <script>MigXmlHelper.GenerateDrivePatterns (\"* [*.mp3]\", \"Fixed\")</script>\n        </objectSet>\n      </include>\n      <!-- Migrates all the .mp3 files in the store to the C:\\Music folder during LoadState -->\n      <locationModify script=\"MigXmlHelper.Move('C:\\Music')\">\n        <objectSet>\n          <script>MigXmlHelper.GenerateDrivePatterns (\"* [*.mp3]\", \"Fixed\")</script>\n        </objectSet>\n      </locationModify>\n    </rules>\n  </role>\n</component>\n</migration> \n```\n\n## <a href=\"\" id=\"bkmk-reroutespecificfile\"></a>Reroute a Specific File\n\n\nThe following custom .xml file migrates the Sample.doc file from C:\\\\EngineeringDrafts into the My Documents folder of every user. %CSIDL\\_PERSONAL% is the virtual folder representing the My Documents desktop item, which is equivalent to CSIDL\\_MYDOCUMENTS.\n\n``` syntax\n<migration urlid=\"http://www.microsoft.com/migration/1.0/migxmlext/test\">\n<component type=\"Documents\" context=\"User\">\n<displayName>Sample.doc into My Documents</displayName>\n    <role role=\"Data\">\n      <rules>\n        <include> \n          <objectSet>     \n                 <pattern type=\"File\"> C:\\EngineeringDrafts\\ [Sample.doc]</pattern>\n          </objectSet>\n        </include>\n       <locationModify script=\"MigXmlHelper.RelativeMove('C:\\EngineeringDrafts','%CSIDL_PERSONAL%')\">\n        <objectSet>\n                 <pattern type=\"File\"> C:\\EngineeringDrafts\\ [Sample.doc]</pattern>\n        </objectSet>\n       </locationModify>\n      </rules>\n    </role>\n</component>\n</migration>\n```\n\n## Related topics\n\n\n[Customize USMT XML Files](usmt-customize-xml-files.md)\n\n[Conflicts and Precedence](usmt-conflicts-and-precedence.md)\n\n[USMT XML Reference](usmt-xml-reference.md)\n\n \n\n \n\n\n\n\n\n"}