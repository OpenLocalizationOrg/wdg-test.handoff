{"nodes":[{"content":"Create or Edit the Sms<ph id=\"ph1\">\\_</ph>def.mof File","pos":[11,47]},{"content":"Create or Edit the Sms<ph id=\"ph1\">\\_</ph>def.mof File","pos":[61,97]},{"content":"Create or Edit the Sms<ph id=\"ph1\">\\_</ph>def.mof File","pos":[255,291]},{"content":"To enable the client computers to report BitLocker compliance details through the MBAM Configuration Manager reports, you have to create or edit the Sms<ph id=\"ph1\">\\_</ph>def.mof file.","pos":[294,461]},{"content":"If you are using System Center 2012 Configuration Manager, you must create the file.","pos":[463,547]},{"content":"Create the file on the top-tier site.","pos":[548,585]},{"content":"The changes will be replicated to the other sites in your infrastructure.","pos":[586,659]},{"content":"In Configuration Manager 2007, the file already exists, so you only have to edit it.","pos":[661,745]},{"content":"Do not overwrite the existing file.","pos":[748,783]},{"content":"In the following sections, complete the instructions that correspond to the version of Configuration Manager that you are using.","pos":[787,915]},{"content":"To create the Sms<ph id=\"ph1\">\\_</ph>def.mof file for System Center 2012 Configuration Manager","pos":[919,995]},{"content":"On the Configuration Manager Server, browse to the location where you have to create the Sms<ph id=\"ph1\">\\_</ph>def.mof file, for example, the Desktop.","pos":[1003,1136]},{"pos":[1142,1279],"content":"Create a text file called <bpt id=\"p1\">**</bpt>Sms<ph id=\"ph1\">\\_</ph>def.mof<ept id=\"p1\">**</ept> and copy the following code to populate the file with the following Sms<ph id=\"ph2\">\\_</ph>def.mof MBAM classes:"},{"pos":[5748,5804],"content":"Import the <bpt id=\"p1\">**</bpt>Sms<ph id=\"ph1\">\\_</ph>def.mof<ept id=\"p1\">**</ept> file by doing the following:"},{"pos":[5814,5914],"content":"Open the <bpt id=\"p1\">**</bpt>System Center 2012 Configuration Manager console<ept id=\"p1\">**</ept> and select the <bpt id=\"p2\">**</bpt>Administration<ept id=\"p2\">**</ept> tab."},{"pos":[5924,5982],"content":"On the <bpt id=\"p1\">**</bpt>Administration<ept id=\"p1\">**</ept> tab, select <bpt id=\"p2\">**</bpt>Client Settings<ept id=\"p2\">**</ept>."},{"pos":[5992,6064],"content":"Right-click <bpt id=\"p1\">**</bpt>Default Client Settings<ept id=\"p1\">**</ept>, and then select <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>."},{"pos":[6074,6140],"content":"In the <bpt id=\"p1\">**</bpt>Default Settings<ept id=\"p1\">**</ept> window, select <bpt id=\"p2\">**</bpt>Hardware Inventory<ept id=\"p2\">**</ept>."},{"pos":[6150,6199],"content":"Click <bpt id=\"p1\">**</bpt>Set Classes<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Import<ept id=\"p2\">**</ept>."},{"content":"In the browser that opens, select your <bpt id=\"p1\">**</bpt>.mof<ept id=\"p1\">**</ept> file, and then click <bpt id=\"p2\">**</bpt>Open<ept id=\"p2\">**</ept>.","pos":[6209,6287]},{"content":"The <bpt id=\"p1\">**</bpt>Import Summary<ept id=\"p1\">**</ept> window opens.","pos":[6288,6324]},{"pos":[6334,6491],"content":"In the <bpt id=\"p1\">**</bpt>Import Summary<ept id=\"p1\">**</ept> window, ensure that the option to import both hardware inventory classes and class settings is selected, and then click <bpt id=\"p2\">**</bpt>Import<ept id=\"p2\">**</ept>."},{"pos":[6501,6601],"content":"In both the <bpt id=\"p1\">**</bpt>Hardware Inventory Classes<ept id=\"p1\">**</ept> window and the <bpt id=\"p2\">**</bpt>Default Settings<ept id=\"p2\">**</ept> window, click <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>."},{"pos":[6607,6650],"content":"Enable the <bpt id=\"p1\">**</bpt>Win32<ph id=\"ph1\">\\_</ph>Tpm<ept id=\"p1\">**</ept> class as follows:"},{"pos":[6660,6760],"content":"Open the <bpt id=\"p1\">**</bpt>System Center 2012 Configuration Manager console<ept id=\"p1\">**</ept> and select the <bpt id=\"p2\">**</bpt>Administration<ept id=\"p2\">**</ept> tab."},{"pos":[6770,6828],"content":"On the <bpt id=\"p1\">**</bpt>Administration<ept id=\"p1\">**</ept> tab, select <bpt id=\"p2\">**</bpt>Client Settings<ept id=\"p2\">**</ept>."},{"pos":[6838,6910],"content":"Right-click <bpt id=\"p1\">**</bpt>Default Client Settings<ept id=\"p1\">**</ept>, and then select <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>."},{"pos":[6920,6986],"content":"In the <bpt id=\"p1\">**</bpt>Default Settings<ept id=\"p1\">**</ept> window, select <bpt id=\"p2\">**</bpt>Hardware Inventory<ept id=\"p2\">**</ept>."},{"pos":[6996,7018],"content":"Click <bpt id=\"p1\">**</bpt>Set Classes<ept id=\"p1\">**</ept>."},{"pos":[7028,7108],"content":"In the main window, scroll down, and then select the <bpt id=\"p1\">**</bpt>TPM (Win32<ph id=\"ph1\">\\_</ph>Tpm)<ept id=\"p1\">**</ept> class."},{"pos":[7118,7186],"content":"Under <bpt id=\"p1\">**</bpt>TPM<ept id=\"p1\">**</ept>, ensure that the <bpt id=\"p2\">**</bpt>SpecVersion<ept id=\"p2\">**</ept> property is selected."},{"pos":[7196,7296],"content":"In both the <bpt id=\"p1\">**</bpt>Hardware Inventory Classes<ept id=\"p1\">**</ept> window and the <bpt id=\"p2\">**</bpt>Default Settings<ept id=\"p2\">**</ept> window, click <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>."},{"content":"To edit the sms<ph id=\"ph1\">\\_</ph>def.mof file for Configuration Manager 2007","pos":[7300,7360]},{"pos":[7368,7457],"content":"On the Configuration Manager Server, browse to the location of the <bpt id=\"p1\">**</bpt>sms<ph id=\"ph1\">\\_</ph>def.mof<ept id=\"p1\">**</ept> file:"},{"content":"CMInstallLocation<ph id=\"ph1\">&amp;gt;\\\\</ph>Inboxes<ph id=\"ph2\">\\\\</ph>clifiles.src<ph id=\"ph3\">\\\\</ph>hinv","pos":[7467,7517]},{"content":"On a default installation, the installation location is %systemdrive% <ph id=\"ph1\">\\\\</ph>Program Files (x86)<ph id=\"ph2\">\\\\</ph>Microsoft Configuration Manager.","pos":[7525,7650]},{"pos":[7656,7780],"content":"Copy the following code, and then append it to <bpt id=\"p1\">**</bpt>Sms<ph id=\"ph1\">\\_</ph>def.mof<ept id=\"p1\">**</ept> file to add the following required MBAM classes to the file:"},{"pos":[14064,14107],"content":"Modify the <bpt id=\"p1\">**</bpt>Win32<ph id=\"ph1\">\\_</ph>Tpm<ept id=\"p1\">**</ept> class as follows:"},{"pos":[14117,14173],"content":"Set <bpt id=\"p1\">**</bpt>SMS<ph id=\"ph1\">\\_</ph>REPORT<ept id=\"p1\">**</ept> to <bpt id=\"p2\">**</bpt>TRUE<ept id=\"p2\">**</ept> in the class attributes."},{"pos":[14183,14257],"content":"Set <bpt id=\"p1\">**</bpt>SMS<ph id=\"ph1\">\\_</ph>REPORT<ept id=\"p1\">**</ept> to <bpt id=\"p2\">**</bpt>TRUE<ept id=\"p2\">**</ept> in the <bpt id=\"p3\">**</bpt>SpecVersion<ept id=\"p3\">**</ept> property attribute."},{"content":"<bpt id=\"p1\">**</bpt>Got a suggestion for MBAM<ept id=\"p1\">**</ept>?","pos":[14263,14293]},{"content":"Add or vote on suggestions <bpt id=\"p1\">[</bpt>here<ept id=\"p1\">](http://mbam.uservoice.com/forums/268571-microsoft-bitlocker-administration-and-monitoring)</ept>.","pos":[14294,14419]},{"content":"<bpt id=\"p1\">**</bpt>Got a MBAM issue<ept id=\"p1\">**</ept>?","pos":[14420,14441]},{"content":"Use the <bpt id=\"p1\">[</bpt>MBAM TechNet Forum<ept id=\"p1\">](https://social.technet.microsoft.com/Forums/home?forum=mdopmbam)</ept>.","pos":[14442,14536]},{"content":"Related topics","pos":[14541,14555]},{"content":"MBAM 2.5 Server Prerequisites that Apply Only to the Configuration Manager Integration Topology","pos":[14559,14654]},{"content":"Edit the Configuration.mof File","pos":[14757,14788]},{"content":"MBAM 2.5 Server Prerequisites for Stand-alone and Configuration Manager Integration Topologies","pos":[14835,14929]}],"content":"---\ntitle: Create or Edit the Sms\\_def.mof File\ndescription: Create or Edit the Sms\\_def.mof File\nauthor: jamiejdt\nms.assetid: 0bc5e7d8-9747-4da6-a1b3-38d8f27ba121\nms.pagetype: mdop, security\nms.mktglfcycl: manage\nms.sitesec: library\nms.prod: w10\n---\n\n\n# Create or Edit the Sms\\_def.mof File\n\n\nTo enable the client computers to report BitLocker compliance details through the MBAM Configuration Manager reports, you have to create or edit the Sms\\_def.mof file.\n\nIf you are using System Center 2012 Configuration Manager, you must create the file. Create the file on the top-tier site. The changes will be replicated to the other sites in your infrastructure.\n\nIn Configuration Manager 2007, the file already exists, so you only have to edit it. **Do not overwrite the existing file.**\n\nIn the following sections, complete the instructions that correspond to the version of Configuration Manager that you are using.\n\n**To create the Sms\\_def.mof file for System Center 2012 Configuration Manager**\n\n1.  On the Configuration Manager Server, browse to the location where you have to create the Sms\\_def.mof file, for example, the Desktop.\n\n2.  Create a text file called **Sms\\_def.mof** and copy the following code to populate the file with the following Sms\\_def.mof MBAM classes:\n\n    ``` syntax\n    //===================================================\n    // Microsoft BitLocker Administration and Monitoring \n    //===================================================\n\n    #pragma namespace (\"\\\\\\\\.\\\\root\\\\cimv2\\\\SMS\")\n    #pragma deleteclass(\"Win32_BitLockerEncryptionDetails\", NOFAIL)\n    [ SMS_Report (TRUE),\n      SMS_Group_Name (\"BitLocker Encryption Details\"),\n      SMS_Class_ID (\"MICROSOFT|BITLOCKER_DETAILS|1.0\")]\n    class Win32_BitLockerEncryptionDetails : SMS_Class_Template\n    {\n        [ SMS_Report (TRUE), key ]\n        String     DeviceId;\n        [ SMS_Report (TRUE) ]\n        String     BitlockerPersistentVolumeId;\n        [ SMS_Report (TRUE) ]\n        String     MbamPersistentVolumeId;\n        [ SMS_Report (TRUE) ]\n        //UNKNOWN = 0, OS_Volume = 1, FIXED_VOLUME = 2, REMOVABLE_VOLUME = 3\n        SInt32     MbamVolumeType;\n        [ SMS_Report (TRUE) ]\n        String     DriveLetter;\n        [ SMS_Report (TRUE) ]\n        //VOLUME_NOT_COMPLIANT = 0, VOLUME_COMPLIANT = 1, NOT_APPLICABLE = 2\n        SInt32     Compliant;\n        [ SMS_Report (TRUE) ]\n        SInt32     ReasonsForNonCompliance[];\n        [ SMS_Report (TRUE) ]\n        SInt32     KeyProtectorTypes[];\n        [ SMS_Report (TRUE) ]\n        SInt32     EncryptionMethod;\n        [ SMS_Report (TRUE) ]\n        SInt32     ConversionStatus;\n        [ SMS_Report (TRUE) ]\n        SInt32     ProtectionStatus;\n        [ SMS_Report (TRUE) ]\n        Boolean     IsAutoUnlockEnabled;\n        [ SMS_Report (TRUE) ]\n        String     NoncomplianceDetectedDate;\n        [ SMS_Report (TRUE) ]\n        String     EnforcePolicyDate;\n    };\n\n    #pragma namespace (\"\\\\\\\\.\\\\root\\\\cimv2\\\\SMS\")\n    #pragma deleteclass(\"Win32Reg_MBAMPolicy\", NOFAIL)\n    [ SMS_Report(TRUE),\n      SMS_Group_Name(\"BitLocker Policy\"),\n      SMS_Class_ID(\"MICROSOFT|MBAM_POLICY|1.0\")]\n    Class Win32Reg_MBAMPolicy: SMS_Class_Template\n    {\n        [SMS_Report(TRUE),key]\n        string KeyName;\n        \n        //General encryption requirements\n        [SMS_Report(TRUE)]\n        UInt32    OsDriveEncryption;\n        [ SMS_Report (TRUE) ]\n        UInt32    FixedDataDriveEncryption;\n        [ SMS_Report (TRUE) ]\n        UInt32    EncryptionMethod;\n\n        //Required protectors properties\n        [ SMS_Report (TRUE) ]\n        UInt32    OsDriveProtector;\n        [ SMS_Report (TRUE) ]\n        UInt32    FixedDataDriveAutoUnlock;\n        [ SMS_Report (TRUE) ]\n        UInt32    FixedDataDrivePassphrase;\n        \n        //MBAM Agent fields\n        //Policy not enforced (0), enforced (1), pending user exemption request (2) or exempted user (3)\n        [SMS_Report(TRUE)]\n        Uint32    MBAMPolicyEnforced;\n        [SMS_Report(TRUE)]\n        string    LastConsoleUser; \n        //Date of the exemption request of the last logged on user,\n        //or the first date the exemption was granted to him on this machine.\n        [SMS_Report(TRUE)]\n        datetime  UserExemptionDate;\n        //Errors encountered by MBAM agent.\n        [ SMS_Report (TRUE) ]\n        UInt32    MBAMMachineError;\n        [ SMS_Report (TRUE) ]\n        string    EncodedComputerName;\n    };\n\n    //Read Win32_OperatingSystem.SKU WMI property in a new class - because SKU is not available before Vista.\n    #pragma namespace (\"\\\\\\\\.\\\\root\\\\cimv2\\\\SMS\")\n    #pragma deleteclass(\"CCM_OperatingSystemExtended\", NOFAIL)\n    [ SMS_Report     (TRUE),\n      SMS_Group_Name (\"Operating System Ex\"),\n      SMS_Class_ID   (\"MICROSOFT|OPERATING_SYSTEM_EXT|1.0\") ]\n    class CCM_OperatingSystemExtended : SMS_Class_Template\n    {\n        [SMS_Report (TRUE), key ]\n            string     Name;\n        [SMS_Report (TRUE) ]\n            uint32     SKU;\n    };\n\n    //Read Win32_ComputerSystem.PCSystemType WMI property in a new class - because PCSystemType is not available before Vista.\n    #pragma namespace (\"\\\\\\\\.\\\\root\\\\cimv2\\\\SMS\")\n    #pragma deleteclass(\"CCM_ComputerSystemExtended\", NOFAIL)\n    [ SMS_Report     (TRUE),\n      SMS_Group_Name (\"Computer System Ex\"),\n      SMS_Class_ID   (\"MICROSOFT|COMPUTER_SYSTEM_EXT|1.0\") ]\n    class CCM_ComputerSystemExtended : SMS_Class_Template\n    {\n        [SMS_Report (TRUE), key ]\n        string     Name;\n        [SMS_Report (TRUE) ]\n        uint16     PCSystemType;\n    };\n\n    //=======================================================\n    // Microsoft BitLocker Administration and Monitoring end\n    //=======================================================\n    ```\n\n3.  Import the **Sms\\_def.mof** file by doing the following:\n\n    1.  Open the **System Center 2012 Configuration Manager console** and select the **Administration** tab.\n\n    2.  On the **Administration** tab, select **Client Settings**.\n\n    3.  Right-click **Default Client Settings**, and then select **Properties**.\n\n    4.  In the **Default Settings** window, select **Hardware Inventory**.\n\n    5.  Click **Set Classes**, and then click **Import**.\n\n    6.  In the browser that opens, select your **.mof** file, and then click **Open**. The **Import Summary** window opens.\n\n    7.  In the **Import Summary** window, ensure that the option to import both hardware inventory classes and class settings is selected, and then click **Import**.\n\n    8.  In both the **Hardware Inventory Classes** window and the **Default Settings** window, click **OK**.\n\n4.  Enable the **Win32\\_Tpm** class as follows:\n\n    1.  Open the **System Center 2012 Configuration Manager console** and select the **Administration** tab.\n\n    2.  On the **Administration** tab, select **Client Settings**.\n\n    3.  Right-click **Default Client Settings**, and then select **Properties**.\n\n    4.  In the **Default Settings** window, select **Hardware Inventory**.\n\n    5.  Click **Set Classes**.\n\n    6.  In the main window, scroll down, and then select the **TPM (Win32\\_Tpm)** class.\n\n    7.  Under **TPM**, ensure that the **SpecVersion** property is selected.\n\n    8.  In both the **Hardware Inventory Classes** window and the **Default Settings** window, click **OK**.\n\n**To edit the sms\\_def.mof file for Configuration Manager 2007**\n\n1.  On the Configuration Manager Server, browse to the location of the **sms\\_def.mof** file:\n\n    &lt;CMInstallLocation&gt;\\\\Inboxes\\\\clifiles.src\\\\hinv\\\\\n\n    On a default installation, the installation location is %systemdrive% \\\\Program Files (x86)\\\\Microsoft Configuration Manager.\n\n2.  Copy the following code, and then append it to **Sms\\_def.mof** file to add the following required MBAM classes to the file:\n\n    ``` syntax\n    //===================================================\n    // Microsoft BitLocker Administration and Monitoring \n    //===================================================\n\n    #pragma namespace (\"\\\\\\\\.\\\\root\\\\cimv2\\\\SMS\")\n    #pragma deleteclass(\"Win32_BitLockerEncryptionDetails\", NOFAIL)\n    [ SMS_Report (TRUE),\n      SMS_Group_Name (\"BitLocker Encryption Details\"),\n      SMS_Class_ID (\"MICROSOFT|BITLOCKER_DETAILS|1.0\")]\n    class Win32_BitLockerEncryptionDetails : SMS_Class_Template\n    {\n        [ SMS_Report (TRUE), key ]\n        String     DeviceId;\n        [ SMS_Report (TRUE) ]\n        String     BitlockerPersistentVolumeId;\n        [ SMS_Report (TRUE) ]\n        String     MbamPersistentVolumeId;\n        [ SMS_Report (TRUE) ]\n        //UNKNOWN = 0, OS_Volume = 1, FIXED_VOLUME = 2, REMOVABLE_VOLUME = 3\n        SInt32     MbamVolumeType;\n        [ SMS_Report (TRUE) ]\n        String     DriveLetter;\n        [ SMS_Report (TRUE) ]\n        //VOLUME_NOT_COMPLIANT = 0, VOLUME_COMPLIANT = 1, NOT_APPLICABLE = 2\n        SInt32     Compliant;\n        [ SMS_Report (TRUE) ]\n        SInt32     ReasonsForNonCompliance[];\n        [ SMS_Report (TRUE) ]\n        SInt32     KeyProtectorTypes[];\n        [ SMS_Report (TRUE) ]\n        SInt32     EncryptionMethod;\n        [ SMS_Report (TRUE) ]\n        SInt32     ConversionStatus;\n        [ SMS_Report (TRUE) ]\n        SInt32     ProtectionStatus;\n        [ SMS_Report (TRUE) ]\n        Boolean     IsAutoUnlockEnabled;\n        [ SMS_Report (TRUE) ]\n        String     NoncomplianceDetectedDate;\n        [ SMS_Report (TRUE) ]\n        String     EnforcePolicyDate;\n    };\n\n    #pragma namespace (\"\\\\\\\\.\\\\root\\\\cimv2\\\\SMS\")\n    #pragma deleteclass(\"Win32Reg_MBAMPolicy\", NOFAIL)\n    [ SMS_Report(TRUE),\n      SMS_Group_Name(\"BitLocker Policy\"),\n      SMS_Class_ID(\"MICROSOFT|MBAM_POLICY|1.0\"),\n      SMS_Context_1(\"__ProviderArchitecture=32|uint32\"),\n      SMS_Context_2(\"__RequiredArchitecture=true|boolean\")]\n    Class Win32Reg_MBAMPolicy: SMS_Class_Template\n    {\n        [SMS_Report(TRUE),key]\n        string KeyName;\n        \n        //General encryption requirements\n        [SMS_Report(TRUE)]\n        UInt32    OsDriveEncryption;\n        [ SMS_Report (TRUE) ]\n        UInt32    FixedDataDriveEncryption;\n        [ SMS_Report (TRUE) ]\n        UInt32    EncryptionMethod;\n\n        //Required protectors properties\n        [ SMS_Report (TRUE) ]\n        UInt32    OsDriveProtector;\n        [ SMS_Report (TRUE) ]\n        UInt32    FixedDataDriveAutoUnlock;\n        [ SMS_Report (TRUE) ]\n        UInt32    FixedDataDrivePassphrase;\n        \n        //MBAM Agent fields\n        //Policy not enforced (0), enforced (1), pending user exemption request (2) or exempted user (3)\n        [SMS_Report(TRUE)]\n        Uint32    MBAMPolicyEnforced;\n        [SMS_Report(TRUE)]\n        string    LastConsoleUser; \n        //Date of the exemption request of the last logged on user,\n        //or the first date the exemption was granted to him on this machine.\n        [SMS_Report(TRUE)]\n        datetime  UserExemptionDate;\n        //Errors encountered by MBAM agent.\n        [ SMS_Report (TRUE) ]\n        UInt32    MBAMMachineError;\n        // Encoded Computer Name\n        [ SMS_Report (TRUE) ]\n        string    EncodedComputerName;\n    };\n\n    #pragma namespace (\"\\\\\\\\.\\\\root\\\\cimv2\\\\SMS\")\n    #pragma deleteclass(\"Win32Reg_MBAMPolicy_64\", NOFAIL)\n    [ SMS_Report(TRUE),\n      SMS_Group_Name(\"BitLocker Policy\"),\n      SMS_Class_ID(\"MICROSOFT|MBAM_POLICY|1.0\"),\n      SMS_Context_1(\"__ProviderArchitecture=64|uint32\"),\n      SMS_Context_2(\"__RequiredArchitecture=true|boolean\")]\n    Class Win32Reg_MBAMPolicy_64: SMS_Class_Template\n    {\n        [SMS_Report(TRUE),key]\n        string KeyName;\n        \n        //General encryption requirements\n        [SMS_Report(TRUE)]\n        UInt32    OsDriveEncryption;\n        [ SMS_Report (TRUE) ]\n        UInt32    FixedDataDriveEncryption;\n        [ SMS_Report (TRUE) ]\n        UInt32    EncryptionMethod;\n\n        //Required protectors properties\n        [ SMS_Report (TRUE) ]\n        UInt32    OsDriveProtector;\n        [ SMS_Report (TRUE) ]\n        UInt32    FixedDataDriveAutoUnlock;\n        [ SMS_Report (TRUE) ]\n        UInt32    FixedDataDrivePassphrase;\n        \n        //MBAM Agent fields\n        //Policy not enforced (0), enforced (1), pending user exemption request (2) or exempted user (3)\n        [SMS_Report(TRUE)]\n        Uint32    MBAMPolicyEnforced;\n        [SMS_Report(TRUE)]\n        string    LastConsoleUser; \n        //Date of the exemption request of the last logged on user,\n        //or the first date the exemption was granted to him on this machine.\n        [SMS_Report(TRUE)]\n        datetime  UserExemptionDate;\n        //Errors encountered by MBAM agent.\n        [ SMS_Report (TRUE) ]\n        UInt32    MBAMMachineError;\n        // Encoded Computer Name\n        [ SMS_Report (TRUE) ]\n        string    EncodedComputerName;\n    };\n\n    //Read Win32_OperatingSystem.SKU WMI property in a new class - because SKU is not available before Vista.\n    #pragma namespace (\"\\\\\\\\.\\\\root\\\\cimv2\\\\SMS\")\n    #pragma deleteclass(\"CCM_OperatingSystemExtended\", NOFAIL)\n    [ SMS_Report     (TRUE),\n      SMS_Group_Name (\"Operating System Ex\"),\n      SMS_Class_ID   (\"MICROSOFT|OPERATING_SYSTEM_EXT|1.0\") ]\n    class CCM_OperatingSystemExtended : SMS_Class_Template\n    {\n        [SMS_Report (TRUE), key ]\n            string     Name;\n        [SMS_Report (TRUE) ]\n            uint32     SKU;\n    };\n\n    //Read Win32_ComputerSystem.PCSystemType WMI property in a new class - because PCSystemType is not available before Vista.\n    #pragma namespace (\"\\\\\\\\.\\\\root\\\\cimv2\\\\SMS\")\n    #pragma deleteclass(\"CCM_ComputerSystemExtended\", NOFAIL)\n    [ SMS_Report     (TRUE),\n      SMS_Group_Name (\"Computer System Ex\"),\n      SMS_Class_ID   (\"MICROSOFT|COMPUTER_SYSTEM_EXT|1.0\") ]\n    class CCM_ComputerSystemExtended : SMS_Class_Template\n    {\n        [SMS_Report (TRUE), key ]\n        string     Name;\n        [SMS_Report (TRUE) ]\n        uint16     PCSystemType;\n    };\n\n    //=======================================================\n    // Microsoft BitLocker Administration and Monitoring end\n    //=======================================================\n    ```\n\n3.  Modify the **Win32\\_Tpm** class as follows:\n\n    -   Set **SMS\\_REPORT** to **TRUE** in the class attributes.\n\n    -   Set **SMS\\_REPORT** to **TRUE** in the **SpecVersion** property attribute.\n\n    **Got a suggestion for MBAM**? Add or vote on suggestions [here](http://mbam.uservoice.com/forums/268571-microsoft-bitlocker-administration-and-monitoring). **Got a MBAM issue**? Use the [MBAM TechNet Forum](https://social.technet.microsoft.com/Forums/home?forum=mdopmbam).\n\n## Related topics\n\n\n[MBAM 2.5 Server Prerequisites that Apply Only to the Configuration Manager Integration Topology](mbam-25-server-prerequisites-that-apply-only-to-the-configuration-manager-integration-topology.md)\n\n[Edit the Configuration.mof File](edit-the-configurationmof-file-mbam-25.md)\n\n[MBAM 2.5 Server Prerequisites for Stand-alone and Configuration Manager Integration Topologies](mbam-25-server-prerequisites-for-stand-alone-and-configuration-manager-integration-topologies.md)\n\n \n\n \n\n\n\n\n\n"}