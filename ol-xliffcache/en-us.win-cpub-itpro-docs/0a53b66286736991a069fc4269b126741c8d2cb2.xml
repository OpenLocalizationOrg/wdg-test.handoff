{"nodes":[{"content":"How to Create a Connection Group with User-Published and Globally Published Packages","pos":[11,95]},{"content":"How to Create a Connection Group with User-Published and Globally Published Packages","pos":[109,193]},{"content":"How to Create a Connection Group with User-Published and Globally Published Packages","pos":[368,452]},{"content":"You can create user-entitled connection groups that contain both user-published and globally published packages, using either of the following methods:","pos":[455,606]},{"content":"How to use PowerShell cmdlets to create the user-entitled connection groups","pos":[613,688]},{"content":"How to use the App-V Server to create the user-entitled connection groups","pos":[724,797]},{"content":"What to know before you start:","pos":[836,866]},{"content":"Unsupported scenarios and potential issues","pos":[986,1028]},{"content":"Result","pos":[1051,1057]},{"content":"You cannot include user-published packages in globally entitled connection groups.","pos":[1123,1205]},{"content":"The connection group will fail.","pos":[1235,1266]},{"content":"If you publish a package globally and then create a user-published connection group in which you’ve made that package non-optional, you can still run <ph id=\"ph1\">&lt;strong&gt;</ph>Unpublish-AppvClientPackage <ph id=\"ph2\">&amp;lt;</ph>package<ph id=\"ph3\">&amp;gt;</ph> -global<ph id=\"ph4\">&lt;/strong&gt;</ph> to unpublish the package, even when that package is being used in another connection group.","pos":[1320,1630]},{"content":"If any other connection groups are using that package, the package will fail in those connection groups.","pos":[1660,1764]},{"content":"To avoid inadvertently unpublishing a non-optional package that is being used in another connection group, we recommend that you track the connection groups in which you’ve used a non-optional package.","pos":[1772,1973]},{"content":"How to use PowerShell cmdlets to create user-entitled connection groups","pos":[2013,2084]},{"content":"Add and publish packages by using the following commands:","pos":[2092,2149]},{"content":"Add-AppvClientPackage Pacakage1<ph id=\"ph1\">\\_</ph>AppV<ph id=\"ph2\">\\_</ph>file<ph id=\"ph3\">\\_</ph>Path","pos":[2157,2206]},{"content":"Add-AppvClientPackage Pacakage2<ph id=\"ph1\">\\_</ph>AppV<ph id=\"ph2\">\\_</ph>file<ph id=\"ph3\">\\_</ph>Path","pos":[2216,2265]},{"content":"Publish-AppvClientPackage -PackageId Package1<ph id=\"ph1\">\\_</ph>ID -VersionId Package1<ph id=\"ph2\">\\_</ph>Version ID -Global","pos":[2275,2364]},{"content":"Publish-AppvClientPackage -PackageId Package2<ph id=\"ph1\">\\_</ph>ID -VersionId Package2<ph id=\"ph2\">\\_</ph>ID","pos":[2374,2447]},{"content":"Create the connection group XML file.","pos":[2455,2492]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>About the Connection Group File<ept id=\"p1\">](about-the-connection-group-file.md)</ept>.","pos":[2493,2589]},{"content":"Add and publish the connection group by using the following commands:","pos":[2595,2664]},{"content":"Add-AppvClientConnectionGroup Connection<ph id=\"ph1\">\\_</ph>Group<ph id=\"ph2\">\\_</ph>XML<ph id=\"ph3\">\\_</ph>file<ph id=\"ph4\">\\_</ph>Path","pos":[2672,2736]},{"content":"Enable-AppvClientConnectionGroup  -GroupId CG<ph id=\"ph1\">\\_</ph>Group<ph id=\"ph2\">\\_</ph>ID -VersionId CG<ph id=\"ph3\">\\_</ph>Version<ph id=\"ph4\">\\_</ph>ID","pos":[2746,2829]},{"content":"How to use the App-V Server to create user-entitled connection groups","pos":[2835,2904]},{"content":"Open the App-V 5.0 Management Console.","pos":[2912,2950]},{"pos":[2956,3151],"content":"Follow the instructions in <bpt id=\"p1\">[</bpt>How to Publish a Package by Using the Management Console<ept id=\"p1\">](how-to-publish-a-package-by-using-the-management-console-50.md)</ept> to publish packages globally and to the user."},{"pos":[3157,3347],"content":"Follow the instructions in <bpt id=\"p1\">[</bpt>How to Create a Connection Group<ept id=\"p1\">](how-to-create-a-connection-group.md)</ept> to create the connection group, and add the user-published and globally published packages."},{"content":"<bpt id=\"p1\">**</bpt>Got a suggestion for App-V<ept id=\"p1\">**</ept>?","pos":[3353,3384]},{"content":"Add or vote on suggestions <bpt id=\"p1\">[</bpt>here<ept id=\"p1\">](http://appv.uservoice.com/forums/280448-microsoft-application-virtualization)</ept>.","pos":[3385,3497]},{"content":"<bpt id=\"p1\">**</bpt>Got an App-V issu<ept id=\"p1\">**</ept>e?","pos":[3498,3521]},{"content":"Use the <bpt id=\"p1\">[</bpt>App-V TechNet Forum<ept id=\"p1\">](https://social.technet.microsoft.com/Forums/home?forum=mdopappv)</ept>.","pos":[3522,3617]},{"content":"Related topics","pos":[3622,3636]},{"content":"Managing Connection Groups","pos":[3640,3666]},{"content":"How to Use Optional Packages in Connection Groups","pos":[3701,3750]}],"content":"---\ntitle: How to Create a Connection Group with User-Published and Globally Published Packages\ndescription: How to Create a Connection Group with User-Published and Globally Published Packages\nauthor: jamiejdt\nms.assetid: 82f7ea7f-7b14-4506-8940-fdcd6c3e117f\nms.pagetype: mdop, appcompat, virtualization\nms.mktglfcycl: deploy\nms.sitesec: library\nms.prod: w10\n---\n\n\n# How to Create a Connection Group with User-Published and Globally Published Packages\n\n\nYou can create user-entitled connection groups that contain both user-published and globally published packages, using either of the following methods:\n\n-   [How to use PowerShell cmdlets to create the user-entitled connection groups](#bkmk-posh-userentitled-cg)\n\n-   [How to use the App-V Server to create the user-entitled connection groups](#bkmk-appvserver-userentitled-cg)\n\n**What to know before you start:**\n\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th align=\"left\">Unsupported scenarios and potential issues</th>\n<th align=\"left\">Result</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td align=\"left\"><p>You cannot include user-published packages in globally entitled connection groups.</p></td>\n<td align=\"left\"><p>The connection group will fail.</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>If you publish a package globally and then create a user-published connection group in which you’ve made that package non-optional, you can still run <strong>Unpublish-AppvClientPackage &lt;package&gt; -global</strong> to unpublish the package, even when that package is being used in another connection group.</p></td>\n<td align=\"left\"><p>If any other connection groups are using that package, the package will fail in those connection groups.</p>\n<p>To avoid inadvertently unpublishing a non-optional package that is being used in another connection group, we recommend that you track the connection groups in which you’ve used a non-optional package.</p></td>\n</tr>\n</tbody>\n</table>\n\n \n\n**How to use PowerShell cmdlets to create user-entitled connection groups**\n\n1.  Add and publish packages by using the following commands:\n\n    **Add-AppvClientPackage Pacakage1\\_AppV\\_file\\_Path**\n\n    **Add-AppvClientPackage Pacakage2\\_AppV\\_file\\_Path**\n\n    **Publish-AppvClientPackage -PackageId Package1\\_ID -VersionId Package1\\_Version ID -Global**\n\n    **Publish-AppvClientPackage -PackageId Package2\\_ID -VersionId Package2\\_ID**\n\n2.  Create the connection group XML file. For more information, see [About the Connection Group File](about-the-connection-group-file.md).\n\n3.  Add and publish the connection group by using the following commands:\n\n    **Add-AppvClientConnectionGroup Connection\\_Group\\_XML\\_file\\_Path**\n\n    **Enable-AppvClientConnectionGroup  -GroupId CG\\_Group\\_ID -VersionId CG\\_Version\\_ID**\n\n**How to use the App-V Server to create user-entitled connection groups**\n\n1.  Open the App-V 5.0 Management Console.\n\n2.  Follow the instructions in [How to Publish a Package by Using the Management Console](how-to-publish-a-package-by-using-the-management-console-50.md) to publish packages globally and to the user.\n\n3.  Follow the instructions in [How to Create a Connection Group](how-to-create-a-connection-group.md) to create the connection group, and add the user-published and globally published packages.\n\n    **Got a suggestion for App-V**? Add or vote on suggestions [here](http://appv.uservoice.com/forums/280448-microsoft-application-virtualization). **Got an App-V issu**e? Use the [App-V TechNet Forum](https://social.technet.microsoft.com/Forums/home?forum=mdopappv).\n\n## Related topics\n\n\n[Managing Connection Groups](managing-connection-groups.md)\n\n[How to Use Optional Packages in Connection Groups](how-to-use-optional-packages-in-connection-groups.md)\n\n \n\n \n\n\n\n\n\n"}