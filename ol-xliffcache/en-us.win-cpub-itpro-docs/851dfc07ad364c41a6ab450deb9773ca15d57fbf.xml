{"nodes":[{"content":"About App-V 5.1 Reporting","pos":[11,36]},{"content":"About App-V 5.1 Reporting","pos":[50,75]},{"content":"About App-V 5.1 Reporting","pos":[250,275]},{"content":"Microsoft Application Virtualization (App-V) 5.1 includes a built-in reporting feature that helps you collect information about computers running the App-V 5.1 client as well as information about virtual application package usage.","pos":[278,508]},{"content":"You can use this information to generate reports from a centralized database.","pos":[509,586]},{"pos":[650,678],"content":"App-V 5.1 Reporting Overview"},{"content":"The following list displays the end–to-end high-level workflow for reporting in App-V 5.1.","pos":[681,771]},{"content":"The App-V 5.1 Reporting server has the following prerequisites:","pos":[777,840]},{"content":"Internet Information Service (IIS) web server role","pos":[850,900]},{"pos":[910,964],"content":"Windows Authentication role (under <bpt id=\"p1\">**</bpt>IIS / Security<ept id=\"p1\">**</ept>)"},{"content":"SQL Server installed and running with SQL Server Reporting Services (SSRS)","pos":[974,1048]},{"content":"To confirm SQL Server Reporting Services is running, view <ph id=\"ph1\">`http://localhost/Reports`</ph> in a web browser as administrator on the server that will host App-V 5.1 Reporting.","pos":[1054,1222]},{"content":"The SQL Server Reporting Services Home page should display.","pos":[1223,1282]},{"content":"Install the App-V 5.1 reporting server and associated database.","pos":[1288,1351]},{"content":"For more information about installing the reporting server see <bpt id=\"p1\">[</bpt>How to install the Reporting Server on a Standalone Computer and Connect it to the Database<ept id=\"p1\">](how-to-install-the-reporting-server-on-a-standalone-computer-and-connect-it-to-the-database51.md)</ept>.","pos":[1352,1607]},{"content":"Configure the time when the computer running the App-V 5.1 client should send data to the reporting server.","pos":[1608,1715]},{"content":"If you are not using an electronic software distribution system such as Configuration Manager to view reports then you can define reports in SQL Server Reporting Service.","pos":[1721,1891]},{"content":"Download predefined appvshort Reports from the Download Center at <bpt id=\"p1\">&lt;</bpt>http://go.microsoft.com/fwlink/?LinkId=397255<ept id=\"p1\">&gt;</ept>.","pos":[1892,2006]},{"pos":[2012,2179],"content":"**Note**  \nIf you are using the Configuration Manager integration with App-V 5.1, most reports are generated from Configuration Manager rather than from App-V 5.1.","leadings":["","    "],"nodes":[{"content":"Note","pos":[2,6]},{"content":"If you are using the Configuration Manager integration with App-V 5.1, most reports are generated from Configuration Manager rather than from App-V 5.1.","pos":[11,163]}]},{"content":"After importing the App-V 5.1 PowerShell module using <ph id=\"ph1\">`Import-Module AppvClient`</ph> as administrator, enable the App-V 5.1 client.","pos":[2192,2319]},{"content":"This sample PowerShell cmdlet enables App-V 5.1 reporting:","pos":[2320,2378]},{"pos":[2551,2646],"content":"To immediately send App-V 5.1 report data, run <ph id=\"ph1\">`Send-AppvClientReport`</ph> on the App-V 5.1 client."},{"content":"For more information about installing the App-V 5.1 client with reporting enabled see <bpt id=\"p1\">[</bpt>About Client Configuration Settings<ept id=\"p1\">](about-client-configuration-settings51.md)</ept>.","pos":[2652,2818]},{"content":"To administer App-V 5.1 Reporting with Windows PowerShell, see <bpt id=\"p1\">[</bpt>How to Enable Reporting on the App-V 5.1 Client by Using PowerShell<ept id=\"p1\">](how-to-enable-reporting-on-the-app-v-51-client-by-using-powershell.md)</ept>.","pos":[2819,3023]},{"content":"After the reporting server receives the data from the App-V 5.1 client it sends the data to the reporting database.","pos":[3029,3144]},{"content":"When the database receives and processes the client data, a successful reply is sent to the reporting server and then a notification is sent to the App-V 5.1 client.","pos":[3145,3310]},{"content":"When the App-V 5.1 client receives the success notification, it empties the data cache to conserve space.","pos":[3316,3421]},{"pos":[3427,3578],"content":"**Note**  \nBy default the cache is cleared after the server confirms receipt of data. You can manually configure the client to save the data cache.","leadings":["","    "],"nodes":[{"content":"Note","pos":[2,6]},{"content":"By default the cache is cleared after the server confirms receipt of data. You can manually configure the client to save the data cache.","pos":[11,147],"nodes":[{"content":"By default the cache is cleared after the server confirms receipt of data.","pos":[0,74]},{"content":"You can manually configure the client to save the data cache.","pos":[75,136]}]}]},{"content":"If the App-V 5.1 client device does not receive a success notification from the server, it retains data in the cache and tries to resend data at the next configured interval.","pos":[3591,3765]},{"content":"Clients continue to collect data and add it to the cache.","pos":[3766,3823]},{"pos":[3917,3970],"content":"App-V 5.1 reporting server frequently asked questions"},{"content":"The following table displays answers to common questions about App-V 5.1 reporting","pos":[3972,4054]},{"content":"Question","pos":[4172,4180]},{"content":"More Information","pos":[4203,4219]},{"content":"What is the frequency that reporting information is sent to the reporting database?","pos":[4285,4368]},{"content":"The frequency depends on how the reporting task is configured on the computer running the App-V 5.1 client.","pos":[4398,4505]},{"content":"You must configure the frequency / interval for sending the reporting data.","pos":[4506,4581]},{"content":"App-V 5.1 Reporting is not enabled by default.","pos":[4582,4628]},{"content":"What information is stored in the reporting server database?","pos":[4682,4742]},{"content":"The following list displays what is stored in the reporting database:","pos":[4772,4841]},{"content":"The operating system running on the computer running the App-V 5.1 client: host name, version, service pack, type - client/server, processor architecture.","pos":[4858,5012]},{"content":"App-V 5.1 Client information: version.","pos":[5029,5067]},{"content":"Published package list: GUID, version GUID, name.","pos":[5084,5133]},{"content":"Application usage information: name, version, streaming server, user (domain\\alias), package version GUID, launch status and time, shutdown time.","pos":[5150,5295]},{"content":"What is the average volume of information that is sent to the reporting server?","pos":[5359,5438]},{"content":"It depends.","pos":[5468,5479]},{"content":"The following list displays the three sets of the data sent to the reporting server:","pos":[5480,5564]},{"content":"Operating system, and App-V 5.1 client information.","pos":[5581,5632]},{"content":"~150 Bytes, every time this data is sent.","pos":[5633,5674]},{"content":"Published package list.","pos":[5691,5714]},{"content":"~7 KB for 30 packages.","pos":[5715,5737]},{"content":"This is sent only when the package list is updated with a publishing refresh, which is done infrequently; if there is no change, this information is not sent.","pos":[5738,5896]},{"content":"Virtual application usage information – about 0.25KB per event.","pos":[5913,5976]},{"content":"Opening and closing count as one event if both occur before sending the information.","pos":[5977,6061]},{"content":"When sending using a scheduled task, only the data since the last successful upload is sent to the server.","pos":[6062,6168]},{"content":"If sending manually through the PowerShell cmdlet, there is an optional argument that controls if the data needs to be re-sent next time around – that argument is <ph id=\"ph1\">&lt;strong&gt;</ph>DeleteOnSuccess<ph id=\"ph2\">&lt;/strong&gt;</ph>.","pos":[6169,6365]},{"content":"So for example, if twenty applications are opened and closed and reporting information is scheduled to be sent daily, the typical daily traffic should be about 0.15KB + 20 x 0.25KB, or about 5KB/user","pos":[6381,6580]},{"content":"Can reporting be scheduled?","pos":[6645,6672]},{"content":"Yes.","pos":[6702,6706]},{"content":"Besides manually sending reporting using PowerShell Cmdlets (<ph id=\"ph1\">&lt;strong&gt;</ph>Send-AppvClientReport<ph id=\"ph2\">&lt;/strong&gt;</ph>), the task can be scheduled so it will happen automatically.","pos":[6707,6867]},{"content":"There are two ways to schedule the reporting:","pos":[6868,6913]},{"content":"Using PowerShell cmdlets - <ph id=\"ph1\">&lt;strong&gt;</ph>Set-AppvClientConfiguration<ph id=\"ph2\">&lt;/strong&gt;</ph>.","pos":[6930,7002]},{"content":"For example:","pos":[7003,7015]},{"content":"Set-AppvClientConfiguration -ReportingEnabled 1 - ReportingServerURL http://any.com/appv-reporting","pos":[7023,7121]},{"content":"For a complete list of client configuration settings see <bpt id=\"p1\">[</bpt>About Client Configuration Settings<ept id=\"p1\">](about-client-configuration-settings51.md)</ept> and look for the following entries: <ph id=\"ph1\">&lt;strong&gt;</ph>ReportingEnabled<ph id=\"ph2\">&lt;/strong&gt;</ph>, <ph id=\"ph3\">&lt;strong&gt;</ph>ReportingServerURL<ph id=\"ph4\">&lt;/strong&gt;</ph>, <ph id=\"ph5\">&lt;strong&gt;</ph>ReportingDataCacheLimit<ph id=\"ph6\">&lt;/strong&gt;</ph>, <ph id=\"ph7\">&lt;strong&gt;</ph>ReportingDataBlockSize<ph id=\"ph8\">&lt;/strong&gt;</ph>, <ph id=\"ph9\">&lt;strong&gt;</ph>ReportingStartTime<ph id=\"ph10\">&lt;/strong&gt;</ph>, <ph id=\"ph11\">&lt;strong&gt;</ph>ReportingRandomDelay<ph id=\"ph12\">&lt;/strong&gt;</ph>, <ph id=\"ph13\">&lt;strong&gt;</ph>ReportingInterval<ph id=\"ph14\">&lt;/strong&gt;</ph>.","pos":[7137,7576]},{"content":"By using Group Policy.","pos":[7601,7623]},{"content":"If distributed using the domain controller, the settings are the same as previously listed.","pos":[7624,7715]},{"content":"Note","pos":[7748,7752]},{"content":"Group Policy settings override local settings configured using PowerShell.","pos":[7767,7841]},{"pos":[7972,7998],"content":"App-V 5.1 Client Reporting"},{"content":"To use App-V 5.1 reporting you must install and configure the App-V 5.1 client.","pos":[8001,8080]},{"content":"After the client has been installed, use the <bpt id=\"p1\">**</bpt>Set-AppVClientConfiguration<ept id=\"p1\">**</ept> PowerShell cmdlet or the <bpt id=\"p2\">**</bpt>ADMX Template<ept id=\"p2\">**</ept> to configure reporting.","pos":[8081,8224]},{"content":"The reporting feature cmdlets are available by using the following link and are prefaced by <bpt id=\"p1\">**</bpt>Reporting<ept id=\"p1\">**</ept>.","pos":[8225,8331]},{"content":"For a complete list of client configuration settings see <bpt id=\"p1\">[</bpt>About Client Configuration Settings<ept id=\"p1\">](about-client-configuration-settings51.md)</ept>.","pos":[8332,8469]},{"content":"The following section provides examples of App-V 5.1 client reporting configuration using PowerShell.","pos":[8470,8571]},{"content":"Configuring App-V Client reporting using PowerShell","pos":[8577,8628]},{"content":"The following examples show how PowerShell parameters can configure the reporting features of the App-V 5.1 client.","pos":[8630,8745]},{"content":"Note","pos":[8749,8753]},{"content":"The following configuration task can also be configured using Group Policy settings in the App-V 5.1 ADMX template.","pos":[8758,8873]},{"content":"For more information about using the ADMX template, see <bpt id=\"p1\">[</bpt>How to Modify App-V 5.1 Client Configuration Using the ADMX Template and Group Policy<ept id=\"p1\">](how-to-modify-app-v-51-client-configuration-using-the-admx-template-and-group-policy.md)</ept>.","pos":[8874,9107]},{"pos":[9112,9213],"content":"<bpt id=\"p1\">**</bpt>To enable reporting and to initiate data collection on the computer running the App-V 5.1 client<ept id=\"p1\">**</ept>:"},{"pos":[9266,9352],"content":"<bpt id=\"p1\">**</bpt>To configure the client to automatically send data to a specific reporting server<ept id=\"p1\">**</ept>:"},{"content":"This example configures the client to automatically send the reporting data to the reporting server URL <bpt id=\"p1\">**</bpt>http://MyReportingServer:MyPort/<ept id=\"p1\">**</ept>.","pos":[9569,9710]},{"content":"Additionally, the reporting data will be sent daily between 8:00 and 8:30 PM, depending on the random delay generated for the session.","pos":[9711,9845]},{"pos":[9847,9901],"content":"<bpt id=\"p1\">**</bpt>To limit the size of the data cache on the client<ept id=\"p1\">**</ept>:"},{"content":"Configures the maximum size of the reporting cache on the computer running the App-V 5.1 client to 100 MB.","pos":[9963,10069]},{"content":"If the cache limit is reached before the data is sent to the server, then the log rolls over and data will be overwritten as necessary.","pos":[10070,10205]},{"pos":[10207,10309],"content":"<bpt id=\"p1\">**</bpt>To configure the data block size transmitted across the network between the client and the server<ept id=\"p1\">**</ept>:"},{"content":"Specifies the maximum data block that the client sends to 10240 MB.","pos":[10372,10439]},{"content":"Types of data collected","pos":[10445,10468]},{"content":"The following table displays the types of information you can collect by using App-V 5.1 reporting.","pos":[10470,10569]},{"content":"Client Information","pos":[10707,10725]},{"content":"Package Information","pos":[10748,10767]},{"content":"Application Usage","pos":[10790,10807]},{"content":"Host Name","pos":[10873,10882]},{"content":"Package Name","pos":[10912,10924]},{"content":"Start and End Times","pos":[10954,10973]},{"content":"App-V 5.1 Client Version","pos":[11027,11051]},{"content":"Package Version","pos":[11081,11096]},{"content":"Run Status","pos":[11126,11136]},{"content":"Processor Architecture","pos":[11189,11211]},{"content":"Package Source","pos":[11241,11255]},{"content":"Shutdown State","pos":[11285,11299]},{"content":"Operating System Version","pos":[11353,11377]},{"content":"Percent Cached","pos":[11407,11421]},{"content":"Application Name","pos":[11451,11467]},{"content":"Service Pack Level","pos":[11520,11538]},{"content":"Application Version","pos":[11598,11617]},{"content":"Operating System Type","pos":[11671,11692]},{"content":"Username","pos":[11752,11760]},{"content":"Connection Group","pos":[11873,11889]},{"content":"The client collects and saves this data in an <bpt id=\"p1\">**</bpt>.xml<ept id=\"p1\">**</ept> format.","pos":[11927,11989]},{"content":"The data cache is hidden by default and requires administrator rights to open the XML file.","pos":[11990,12081]},{"content":"Sending data to the server","pos":[12087,12113]},{"content":"You can configure the computer that is running the App-V 5.1 client to automatically send data to the specified reporting server.","pos":[12115,12244]},{"content":"To specify the server use the <bpt id=\"p1\">**</bpt>Set-AppvClientConfiguration<ept id=\"p1\">**</ept> cmdlet with the following settings:","pos":[12245,12342]},{"content":"ReportingEnabled","pos":[12348,12364]},{"content":"ReportingServerURL","pos":[12370,12388]},{"content":"ReportingStartTime","pos":[12394,12412]},{"content":"ReportingInterval","pos":[12418,12435]},{"content":"ReportingRandomDelay","pos":[12441,12461]},{"content":"After you configure the previous settings, you must create a scheduled task.","pos":[12463,12539]},{"content":"The scheduled task will contact the server specified by the <bpt id=\"p1\">**</bpt>ReportingServerURL<ept id=\"p1\">**</ept> setting and will initiate the transfer.","pos":[12540,12662]},{"content":"If you want to manually send data outside of the scheduled times, use the following PowerShell cmdlet:","pos":[12663,12765]},{"content":"If the reporting server has been previously configured, then the <bpt id=\"p1\">**</bpt>–URL<ept id=\"p1\">**</ept> parameter can be omitted.","pos":[12847,12946]},{"content":"Alternatively, if the data should be sent to an alternate location, specify a different URL to override the configured <bpt id=\"p1\">**</bpt>ReportingServerURL<ept id=\"p1\">**</ept> for this data collection.","pos":[12947,13114]},{"content":"The <bpt id=\"p1\">**</bpt>-DeleteOnSuccess<ept id=\"p1\">**</ept> parameter indicates that if the transfer is successful, then the data cache is cleared.","pos":[13116,13228]},{"content":"If this is not specified, then the cache will not be cleared.","pos":[13229,13290]},{"content":"Manual Data Collection","pos":[13296,13318]},{"content":"You can also use the <bpt id=\"p1\">**</bpt>Send-AppVClientReport<ept id=\"p1\">**</ept> cmdlet to manually collect data.","pos":[13320,13399]},{"content":"This solution is helpful with or without an existing reporting server.","pos":[13400,13470]},{"content":"The following list displays information about collecting data with or without a reporting server.","pos":[13471,13568]},{"content":"With a Reporting Server","pos":[13686,13709]},{"content":"Without a Reporting Server","pos":[13732,13758]},{"content":"If you have an existing App-V 5.1 reporting Server, create a customized scheduled task or script.","pos":[13824,13921]},{"content":"Specify that the client send the data to the specified location with the desired frequency.","pos":[13922,14013]},{"content":"If you do not have an existing App-V 5.1 reporting Server, use the <ph id=\"ph1\">&lt;strong&gt;</ph>–URL<ph id=\"ph2\">&lt;/strong&gt;</ph> parameter to send the data to a specified share.","pos":[14043,14180]},{"content":"For example:","pos":[14181,14193]},{"content":"The previous example will send the reporting data to <ph id=\"ph1\">&lt;strong&gt;\\\\</ph>MyShare\\MyData\\<ph id=\"ph2\">&lt;/strong&gt;</ph> location indicated by the <ph id=\"ph3\">&lt;strong&gt;</ph>-URL<ph id=\"ph4\">&lt;/strong&gt;</ph> parameter.","pos":[14283,14429]},{"content":"After the data has been sent, the cache is cleared.","pos":[14430,14481]},{"content":"Note","pos":[14514,14518]},{"content":"If a location other than the Reporting Server is specified, the data is sent using <ph id=\"ph1\">&lt;strong&gt;</ph>.xml<ph id=\"ph2\">&lt;/strong&gt;</ph> format with no additional processing.","pos":[14533,14675]},{"content":"Creating Reports","pos":[14739,14755]},{"content":"To retrieve report information and create reports using App-V 5.1 you must use one of the following methods:","pos":[14757,14865]},{"content":"<bpt id=\"p1\">**</bpt>Microsoft SQL Server Reporting Services (SSRS)<ept id=\"p1\">**</ept> - Microsoft SQL Server Reporting Services is available with Microsoft SQL Server.","pos":[14871,15003]},{"content":"SSRS is not installed when you install the App-V 5.1 reporting server.","pos":[15004,15074]},{"content":"It must be deployed separately to generate the associated reports.","pos":[15075,15141]},{"pos":[15147,15292],"content":"Use the following link for more information about using <bpt id=\"p1\">[</bpt>Microsoft SQL Server Reporting Services<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=285596)</ept>."},{"content":"<bpt id=\"p1\">**</bpt>Scripting<ept id=\"p1\">**</ept> – You can generate reports by scripting directly against the App-V 5.1 reporting database.","pos":[15298,15402]},{"content":"For example:","pos":[15403,15415]},{"content":"Stored Procedure:","pos":[15423,15440]},{"pos":[15448,15518],"content":"<bpt id=\"p1\">**</bpt>spProcessClientReport<ept id=\"p1\">**</ept> is scheduled to run at midnight or 12:00 AM."},{"content":"To run the Microsoft SQL Server Scheduled Stored procedure, the Microsoft SQL Server Agent must be running.","pos":[15524,15631]},{"content":"You should ensure that the Microsoft SQL Server Agent is set to <bpt id=\"p1\">**</bpt>AutoStart<ept id=\"p1\">**</ept>.","pos":[15632,15710]},{"content":"For more information see <bpt id=\"p1\">[</bpt>Autostart SQL Server Agent (SQL Server Management Studio)<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=287045)</ept>.","pos":[15711,15843]},{"content":"The stored procedure is also created when using the App-V 5.1 database scripts.","pos":[15849,15928]},{"content":"You should also ensure that the reporting server web service’s <bpt id=\"p1\">**</bpt>Maximum Concurrent Connections<ept id=\"p1\">**</ept> is set to a value that the server will be able to manage without impacting availability.","pos":[15930,16116]},{"content":"The recommended number of <bpt id=\"p1\">**</bpt>Maximum Concurrent Connections<ept id=\"p1\">**</ept> for the <bpt id=\"p2\">**</bpt>Reporting Web Service<ept id=\"p2\">**</ept> is <bpt id=\"p3\">**</bpt>10,000<ept id=\"p3\">**</ept>.","pos":[16117,16226]},{"content":"Got a suggestion for App-V?","pos":[16231,16258]},{"content":"Add or vote on suggestions <bpt id=\"p1\">[</bpt>here<ept id=\"p1\">](http://appv.uservoice.com/forums/280448-microsoft-application-virtualization)</ept>.","pos":[16261,16373]},{"content":"For App-V issues, use the <bpt id=\"p1\">[</bpt>App-V TechNet Forum<ept id=\"p1\">](https://social.technet.microsoft.com/Forums/home?forum=mdopappv)</ept>.","pos":[16374,16487]},{"content":"Related topics","pos":[16492,16506]},{"content":"Deploying the App-V 5.1 Server","pos":[16510,16540]},{"content":"How to install the Reporting Server on a Standalone Computer and Connect it to the Database","pos":[16578,16669]}],"content":"---\ntitle: About App-V 5.1 Reporting\ndescription: About App-V 5.1 Reporting\nauthor: jamiejdt\nms.assetid: 385dca00-7178-4e35-8d86-c58867ebd65c\nms.pagetype: mdop, appcompat, virtualization\nms.mktglfcycl: deploy\nms.sitesec: library\nms.prod: w10\n---\n\n\n# About App-V 5.1 Reporting\n\n\nMicrosoft Application Virtualization (App-V) 5.1 includes a built-in reporting feature that helps you collect information about computers running the App-V 5.1 client as well as information about virtual application package usage. You can use this information to generate reports from a centralized database.\n\n## <a href=\"\" id=\"---------app-v-5-1-reporting-overview\"></a> App-V 5.1 Reporting Overview\n\n\nThe following list displays the end–to-end high-level workflow for reporting in App-V 5.1.\n\n1.  The App-V 5.1 Reporting server has the following prerequisites:\n\n    -   Internet Information Service (IIS) web server role\n\n    -   Windows Authentication role (under **IIS / Security**)\n\n    -   SQL Server installed and running with SQL Server Reporting Services (SSRS)\n\n    To confirm SQL Server Reporting Services is running, view `http://localhost/Reports` in a web browser as administrator on the server that will host App-V 5.1 Reporting. The SQL Server Reporting Services Home page should display.\n\n2.  Install the App-V 5.1 reporting server and associated database. For more information about installing the reporting server see [How to install the Reporting Server on a Standalone Computer and Connect it to the Database](how-to-install-the-reporting-server-on-a-standalone-computer-and-connect-it-to-the-database51.md). Configure the time when the computer running the App-V 5.1 client should send data to the reporting server.\n\n3.  If you are not using an electronic software distribution system such as Configuration Manager to view reports then you can define reports in SQL Server Reporting Service. Download predefined appvshort Reports from the Download Center at <http://go.microsoft.com/fwlink/?LinkId=397255>.\n\n    **Note**  \n    If you are using the Configuration Manager integration with App-V 5.1, most reports are generated from Configuration Manager rather than from App-V 5.1.\n\n     \n\n4.  After importing the App-V 5.1 PowerShell module using `Import-Module AppvClient` as administrator, enable the App-V 5.1 client. This sample PowerShell cmdlet enables App-V 5.1 reporting:\n\n    ``` syntax\n    Set-AppvClientConfiguration –reportingserverurl <url>:<port> -reportingenabled 1 – ReportingStartTime <0-23> - ReportingRandomDelay <#min>\n    ```\n\n    To immediately send App-V 5.1 report data, run `Send-AppvClientReport` on the App-V 5.1 client.\n\n    For more information about installing the App-V 5.1 client with reporting enabled see [About Client Configuration Settings](about-client-configuration-settings51.md). To administer App-V 5.1 Reporting with Windows PowerShell, see [How to Enable Reporting on the App-V 5.1 Client by Using PowerShell](how-to-enable-reporting-on-the-app-v-51-client-by-using-powershell.md).\n\n5.  After the reporting server receives the data from the App-V 5.1 client it sends the data to the reporting database. When the database receives and processes the client data, a successful reply is sent to the reporting server and then a notification is sent to the App-V 5.1 client.\n\n6.  When the App-V 5.1 client receives the success notification, it empties the data cache to conserve space.\n\n    **Note**  \n    By default the cache is cleared after the server confirms receipt of data. You can manually configure the client to save the data cache.\n\n     \n\n    If the App-V 5.1 client device does not receive a success notification from the server, it retains data in the cache and tries to resend data at the next configured interval. Clients continue to collect data and add it to the cache.\n\n### <a href=\"\" id=\"-------------app-v-5-1-reporting-server-frequently-asked-questions\"></a> App-V 5.1 reporting server frequently asked questions\n\nThe following table displays answers to common questions about App-V 5.1 reporting\n\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th align=\"left\">Question</th>\n<th align=\"left\">More Information</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td align=\"left\"><p>What is the frequency that reporting information is sent to the reporting database?</p></td>\n<td align=\"left\"><p>The frequency depends on how the reporting task is configured on the computer running the App-V 5.1 client. You must configure the frequency / interval for sending the reporting data. App-V 5.1 Reporting is not enabled by default.</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>What information is stored in the reporting server database?</p></td>\n<td align=\"left\"><p>The following list displays what is stored in the reporting database:</p>\n<ul>\n<li><p>The operating system running on the computer running the App-V 5.1 client: host name, version, service pack, type - client/server, processor architecture.</p></li>\n<li><p>App-V 5.1 Client information: version.</p></li>\n<li><p>Published package list: GUID, version GUID, name.</p></li>\n<li><p>Application usage information: name, version, streaming server, user (domain\\alias), package version GUID, launch status and time, shutdown time.</p></li>\n</ul></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p>What is the average volume of information that is sent to the reporting server?</p></td>\n<td align=\"left\"><p>It depends. The following list displays the three sets of the data sent to the reporting server:</p>\n<ol>\n<li><p>Operating system, and App-V 5.1 client information. ~150 Bytes, every time this data is sent.</p></li>\n<li><p>Published package list. ~7 KB for 30 packages. This is sent only when the package list is updated with a publishing refresh, which is done infrequently; if there is no change, this information is not sent.</p></li>\n<li><p>Virtual application usage information – about 0.25KB per event. Opening and closing count as one event if both occur before sending the information. When sending using a scheduled task, only the data since the last successful upload is sent to the server. If sending manually through the PowerShell cmdlet, there is an optional argument that controls if the data needs to be re-sent next time around – that argument is <strong>DeleteOnSuccess</strong>.</p>\n<p></p>\n<p>So for example, if twenty applications are opened and closed and reporting information is scheduled to be sent daily, the typical daily traffic should be about 0.15KB + 20 x 0.25KB, or about 5KB/user</p></li>\n</ol></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>Can reporting be scheduled?</p></td>\n<td align=\"left\"><p>Yes. Besides manually sending reporting using PowerShell Cmdlets (<strong>Send-AppvClientReport</strong>), the task can be scheduled so it will happen automatically. There are two ways to schedule the reporting:</p>\n<ol>\n<li><p>Using PowerShell cmdlets - <strong>Set-AppvClientConfiguration</strong>. For example:</p>\n<p>Set-AppvClientConfiguration -ReportingEnabled 1 - ReportingServerURL http://any.com/appv-reporting</p>\n<p></p>\n<p>For a complete list of client configuration settings see [About Client Configuration Settings](about-client-configuration-settings51.md) and look for the following entries: <strong>ReportingEnabled</strong>, <strong>ReportingServerURL</strong>, <strong>ReportingDataCacheLimit</strong>, <strong>ReportingDataBlockSize</strong>, <strong>ReportingStartTime</strong>, <strong>ReportingRandomDelay</strong>, <strong>ReportingInterval</strong>.</p>\n<p></p></li>\n<li><p>By using Group Policy. If distributed using the domain controller, the settings are the same as previously listed.</p>\n<div class=\"alert\">\n<strong>Note</strong>  \n<p>Group Policy settings override local settings configured using PowerShell.</p>\n</div>\n<div>\n \n</div></li>\n</ol></td>\n</tr>\n</tbody>\n</table>\n\n \n\n## <a href=\"\" id=\"---------app-v-5-1-client-reporting\"></a> App-V 5.1 Client Reporting\n\n\nTo use App-V 5.1 reporting you must install and configure the App-V 5.1 client. After the client has been installed, use the **Set-AppVClientConfiguration** PowerShell cmdlet or the **ADMX Template** to configure reporting. The reporting feature cmdlets are available by using the following link and are prefaced by **Reporting**. For a complete list of client configuration settings see [About Client Configuration Settings](about-client-configuration-settings51.md). The following section provides examples of App-V 5.1 client reporting configuration using PowerShell.\n\n### Configuring App-V Client reporting using PowerShell\n\nThe following examples show how PowerShell parameters can configure the reporting features of the App-V 5.1 client.\n\n**Note**  \nThe following configuration task can also be configured using Group Policy settings in the App-V 5.1 ADMX template. For more information about using the ADMX template, see [How to Modify App-V 5.1 Client Configuration Using the ADMX Template and Group Policy](how-to-modify-app-v-51-client-configuration-using-the-admx-template-and-group-policy.md).\n\n \n\n**To enable reporting and to initiate data collection on the computer running the App-V 5.1 client**:\n\n`Set-AppVClientConfiguration –ReportingEnabled 1`\n\n**To configure the client to automatically send data to a specific reporting server**:\n\n``` syntax\nSet-AppVClientConfiguration –ReportingServerURL http://MyReportingServer:MyPort/ -ReportingStartTime 20 -ReportingInterval 1 -ReportingRandomDelay 30\n```\n\n`-ReportingInterval 1 -ReportingRandomDelay 30`\n\nThis example configures the client to automatically send the reporting data to the reporting server URL **http://MyReportingServer:MyPort/**. Additionally, the reporting data will be sent daily between 8:00 and 8:30 PM, depending on the random delay generated for the session.\n\n**To limit the size of the data cache on the client**:\n\n`Set-AppvClientConfiguration –ReportingDataCacheLimit 100`\n\nConfigures the maximum size of the reporting cache on the computer running the App-V 5.1 client to 100 MB. If the cache limit is reached before the data is sent to the server, then the log rolls over and data will be overwritten as necessary.\n\n**To configure the data block size transmitted across the network between the client and the server**:\n\n`Set-AppvClientConfiguration –ReportingDataBlockSize 10240`\n\nSpecifies the maximum data block that the client sends to 10240 MB.\n\n### Types of data collected\n\nThe following table displays the types of information you can collect by using App-V 5.1 reporting.\n\n<table>\n<colgroup>\n<col width=\"33%\" />\n<col width=\"33%\" />\n<col width=\"33%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th align=\"left\">Client Information</th>\n<th align=\"left\">Package Information</th>\n<th align=\"left\">Application Usage</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td align=\"left\"><p>Host Name</p></td>\n<td align=\"left\"><p>Package Name</p></td>\n<td align=\"left\"><p>Start and End Times</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>App-V 5.1 Client Version</p></td>\n<td align=\"left\"><p>Package Version</p></td>\n<td align=\"left\"><p>Run Status</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p>Processor Architecture</p></td>\n<td align=\"left\"><p>Package Source</p></td>\n<td align=\"left\"><p>Shutdown State</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>Operating System Version</p></td>\n<td align=\"left\"><p>Percent Cached</p></td>\n<td align=\"left\"><p>Application Name</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p>Service Pack Level</p></td>\n<td align=\"left\"><p></p></td>\n<td align=\"left\"><p>Application Version</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>Operating System Type</p></td>\n<td align=\"left\"><p></p></td>\n<td align=\"left\"><p>Username</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p></p></td>\n<td align=\"left\"><p></p></td>\n<td align=\"left\"><p>Connection Group</p></td>\n</tr>\n</tbody>\n</table>\n\n \n\nThe client collects and saves this data in an **.xml** format. The data cache is hidden by default and requires administrator rights to open the XML file.\n\n### Sending data to the server\n\nYou can configure the computer that is running the App-V 5.1 client to automatically send data to the specified reporting server. To specify the server use the **Set-AppvClientConfiguration** cmdlet with the following settings:\n\n-   ReportingEnabled\n\n-   ReportingServerURL\n\n-   ReportingStartTime\n\n-   ReportingInterval\n\n-   ReportingRandomDelay\n\nAfter you configure the previous settings, you must create a scheduled task. The scheduled task will contact the server specified by the **ReportingServerURL** setting and will initiate the transfer. If you want to manually send data outside of the scheduled times, use the following PowerShell cmdlet:\n\n`Send-AppVClientReport –URL http://MyReportingServer:MyPort/ -DeleteOnSuccess`\n\nIf the reporting server has been previously configured, then the **–URL** parameter can be omitted. Alternatively, if the data should be sent to an alternate location, specify a different URL to override the configured **ReportingServerURL** for this data collection.\n\nThe **-DeleteOnSuccess** parameter indicates that if the transfer is successful, then the data cache is cleared. If this is not specified, then the cache will not be cleared.\n\n### Manual Data Collection\n\nYou can also use the **Send-AppVClientReport** cmdlet to manually collect data. This solution is helpful with or without an existing reporting server. The following list displays information about collecting data with or without a reporting server.\n\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th align=\"left\">With a Reporting Server</th>\n<th align=\"left\">Without a Reporting Server</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td align=\"left\"><p>If you have an existing App-V 5.1 reporting Server, create a customized scheduled task or script. Specify that the client send the data to the specified location with the desired frequency.</p></td>\n<td align=\"left\"><p>If you do not have an existing App-V 5.1 reporting Server, use the <strong>–URL</strong> parameter to send the data to a specified share. For example:</p>\n<p><code>Send-AppVClientReport –URL \\\\Myshare\\MyData\\ -DeleteOnSuccess</code></p>\n<p>The previous example will send the reporting data to <strong>\\\\MyShare\\MyData\\</strong> location indicated by the <strong>-URL</strong> parameter. After the data has been sent, the cache is cleared.</p>\n<div class=\"alert\">\n<strong>Note</strong>  \n<p>If a location other than the Reporting Server is specified, the data is sent using <strong>.xml</strong> format with no additional processing.</p>\n</div>\n<div>\n \n</div></td>\n</tr>\n</tbody>\n</table>\n\n \n\n### Creating Reports\n\nTo retrieve report information and create reports using App-V 5.1 you must use one of the following methods:\n\n-   **Microsoft SQL Server Reporting Services (SSRS)** - Microsoft SQL Server Reporting Services is available with Microsoft SQL Server. SSRS is not installed when you install the App-V 5.1 reporting server. It must be deployed separately to generate the associated reports.\n\n    Use the following link for more information about using [Microsoft SQL Server Reporting Services](http://go.microsoft.com/fwlink/?LinkId=285596).\n\n-   **Scripting** – You can generate reports by scripting directly against the App-V 5.1 reporting database. For example:\n\n    **Stored Procedure:**\n\n    **spProcessClientReport** is scheduled to run at midnight or 12:00 AM.\n\n    To run the Microsoft SQL Server Scheduled Stored procedure, the Microsoft SQL Server Agent must be running. You should ensure that the Microsoft SQL Server Agent is set to **AutoStart**. For more information see [Autostart SQL Server Agent (SQL Server Management Studio)](http://go.microsoft.com/fwlink/?LinkId=287045).\n\n    The stored procedure is also created when using the App-V 5.1 database scripts.\n\nYou should also ensure that the reporting server web service’s **Maximum Concurrent Connections** is set to a value that the server will be able to manage without impacting availability. The recommended number of **Maximum Concurrent Connections** for the **Reporting Web Service** is **10,000**.\n\n## Got a suggestion for App-V?\n\n\nAdd or vote on suggestions [here](http://appv.uservoice.com/forums/280448-microsoft-application-virtualization). For App-V issues, use the [App-V TechNet Forum](https://social.technet.microsoft.com/Forums/home?forum=mdopappv).\n\n## Related topics\n\n\n[Deploying the App-V 5.1 Server](deploying-the-app-v-51-server.md)\n\n[How to install the Reporting Server on a Standalone Computer and Connect it to the Database](how-to-install-the-reporting-server-on-a-standalone-computer-and-connect-it-to-the-database51.md)\n\n \n\n \n\n\n\n\n\n"}