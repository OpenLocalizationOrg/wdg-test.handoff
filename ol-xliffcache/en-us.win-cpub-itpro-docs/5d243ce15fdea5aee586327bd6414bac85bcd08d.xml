{"nodes":[{"content":"Create a rule for packaged apps (Windows 10)","pos":[11,55]},{"content":"This topic for IT professionals shows how to create an AppLocker rule for packaged apps with a publisher condition.","pos":[69,184]},{"content":"Create a rule for packaged apps","pos":[340,371]},{"content":"Applies to","pos":[375,385]},{"content":"Windows 10","pos":[392,402]},{"content":"This topic for IT professionals shows how to create an AppLocker rule for packaged apps with a publisher condition.","pos":[404,519]},{"content":"Packaged apps, also known as Universal Windows apps, are based on an app model that ensures that all the files within an app package share the same identity.","pos":[521,678]},{"content":"Therefore, it is possible to control the entire app using a single AppLocker rule as opposed to the non-packaged apps where each file within the app could have a unique identity.","pos":[679,857]},{"content":"Windows does not support unsigned packaged apps which implies all packaged apps must be signed.","pos":[858,953]},{"content":"AppLocker supports only publisher rules for packaged apps.","pos":[954,1012]},{"content":"A publisher rule for a packaged app is based on the following information:","pos":[1013,1087]},{"content":"Publisher of the package","pos":[1093,1117]},{"content":"Package name","pos":[1122,1134]},{"content":"Package version","pos":[1139,1154]},{"content":"All the files within a package as well as the package installer share these attributes.","pos":[1156,1243]},{"content":"Therefore, an AppLocker rule for a packaged app controls both the installation as well as the running of the app.","pos":[1244,1357]},{"content":"Otherwise, the publisher rules for packaged apps are no different than the rest of the rule collections; they support exceptions, can be increased or decreased in scope, and can be assigned to users and groups.","pos":[1358,1568]},{"pos":[1570,1732],"content":"For info about the publisher condition, see <bpt id=\"p1\">[</bpt>Understanding the publisher rule condition in AppLocker<ept id=\"p1\">](understanding-the-publisher-rule-condition-in-applocker.md)</ept>."},{"content":"You can perform this task by using the Group Policy Management Console for an AppLocker policy in a Group Policy Object (GPO) or by using the Local Security Policy snap-in for an AppLocker policy on a local computer or in a security template.","pos":[1734,1976]},{"content":"For info how to use these MMC snap-ins to administer AppLocker, see <bpt id=\"p1\">[</bpt>Administer AppLocker<ept id=\"p1\">](administer-applocker.md#bkmk-using-snapins)</ept>.","pos":[1977,2112]},{"content":"To create a packaged app rule","pos":[2116,2145]},{"content":"Open the AppLocker console.","pos":[2153,2180]},{"pos":[2185,2283],"content":"On the <bpt id=\"p1\">**</bpt>Action<ept id=\"p1\">**</ept> menu, or by right-clicking on <bpt id=\"p2\">**</bpt>Packaged app Rules<ept id=\"p2\">**</ept>, click <bpt id=\"p3\">**</bpt>Create New Rule<ept id=\"p3\">**</ept>."},{"pos":[2288,2337],"content":"On the <bpt id=\"p1\">**</bpt>Before You Begin<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept>."},{"pos":[2342,2482],"content":"On the <bpt id=\"p1\">**</bpt>Permissions<ept id=\"p1\">**</ept> page, select the action (allow or deny) and the user or group that the rule should apply to, and then click <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept>."},{"pos":[2487,4568],"content":"On the **Publisher** page, you can select a specific reference for the packaged app rule and set the scope for the rule. The following table describes the reference options.\n<table>\n<colgroup>\n<col width=\"33%\" />\n<col width=\"33%\" />\n<col width=\"33%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th align=\"left\">Selection</th>\n<th align=\"left\">Description</th>\n<th align=\"left\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td align=\"left\"><p><strong>Use an installed packaged app as a reference</strong></p></td>\n<td align=\"left\"><p>If selected, AppLocker requires you to choose an app that is already installed on which to base your new rule. AppLocker uses the publisher, package name and package version to define the rule.</p></td>\n<td align=\"left\"><p>You want the Sales group only to use the app named Microsoft.BingMaps for its outside sales calls. The Microsoft.BingMaps app is already installed on the device where you are creating the rule, so you choose this option, and select the app from the list of apps installed on the computer and create the rule using this app as a reference.</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p><strong>Use a packaged app installer as a reference</strong></p></td>\n<td align=\"left\"><p>If selected, AppLocker requires you to choose an app installer on which to base your new rule. A packaged app installer has the .appx extension. AppLocker uses the publisher, package name and package version of the installer to define the rule.</p></td>\n<td align=\"left\"><p>Your company has developed a number of internal line-of-business packaged apps. The app installers are stored on a common file share. Employees can install the required apps from that file share. You want to allow all your employees to install the Payroll app from this share. So you choose this option from the wizard, browse to the file share and choose the installer for the Payroll app as a reference to create your rule.</p></td>\n</tr>\n</tbody>\n</table>","leadings":["","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    "],"nodes":[{"content":"On the **Publisher** page, you can select a specific reference for the packaged app rule and set the scope for the rule. The following table describes the reference options.\n","pos":[0,174],"nodes":[{"content":"On the <bpt id=\"p1\">**</bpt>Publisher<ept id=\"p1\">**</ept> page, you can select a specific reference for the packaged app rule and set the scope for the rule.","pos":[0,120]},{"content":"The following table describes the reference options.","pos":[121,173]}]},{"content":"Selection","pos":[310,319]},{"content":"Description","pos":[342,353]},{"content":"Example","pos":[376,383]},{"content":"Use an installed packaged app as a reference","pos":[457,501]},{"content":"If selected, AppLocker requires you to choose an app that is already installed on which to base your new rule. AppLocker uses the publisher, package name and package version to define the rule.","pos":[540,733],"nodes":[{"content":"If selected, AppLocker requires you to choose an app that is already installed on which to base your new rule.","pos":[0,110]},{"content":"AppLocker uses the publisher, package name and package version to define the rule.","pos":[111,193]}]},{"content":"You want the Sales group only to use the app named Microsoft.BingMaps for its outside sales calls. The Microsoft.BingMaps app is already installed on the device where you are creating the rule, so you choose this option, and select the app from the list of apps installed on the computer and create the rule using this app as a reference.","pos":[763,1101],"nodes":[{"content":"You want the Sales group only to use the app named Microsoft.BingMaps for its outside sales calls.","pos":[0,98]},{"content":"The Microsoft.BingMaps app is already installed on the device where you are creating the rule, so you choose this option, and select the app from the list of apps installed on the computer and create the rule using this app as a reference.","pos":[99,338]}]},{"content":"Use a packaged app installer as a reference","pos":[1163,1206]},{"content":"If selected, AppLocker requires you to choose an app installer on which to base your new rule. A packaged app installer has the .appx extension. AppLocker uses the publisher, package name and package version of the installer to define the rule.","pos":[1245,1489],"nodes":[{"content":"If selected, AppLocker requires you to choose an app installer on which to base your new rule.","pos":[0,94]},{"content":"A packaged app installer has the .appx extension.","pos":[95,144]},{"content":"AppLocker uses the publisher, package name and package version of the installer to define the rule.","pos":[145,244]}]},{"content":"Your company has developed a number of internal line-of-business packaged apps. The app installers are stored on a common file share. Employees can install the required apps from that file share. You want to allow all your employees to install the Payroll app from this share. So you choose this option from the wizard, browse to the file share and choose the installer for the Payroll app as a reference to create your rule.","pos":[1519,1944],"nodes":[{"content":"Your company has developed a number of internal line-of-business packaged apps.","pos":[0,79]},{"content":"The app installers are stored on a common file share.","pos":[80,133]},{"content":"Employees can install the required apps from that file share.","pos":[134,195]},{"content":"You want to allow all your employees to install the Payroll app from this share.","pos":[196,276]},{"content":"So you choose this option from the wizard, browse to the file share and choose the installer for the Payroll app as a reference to create your rule.","pos":[277,425]}]}]},{"pos":[4579,7589],"content":"The following table describes setting the scope for the packaged app rule.\n<table>\n<colgroup>\n<col width=\"33%\" />\n<col width=\"33%\" />\n<col width=\"33%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th align=\"left\">Selection</th>\n<th align=\"left\">Description</th>\n<th align=\"left\">Example</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td align=\"left\"><p>Applies to <strong>Any publisher</strong></p></td>\n<td align=\"left\"><p>This is the least restrictive scope condition for an <strong>Allow</strong> rule. It permits every packaged app to run or install.</p>\n<p>Conversely, if this is a <strong>Deny</strong> rule, then this option is the most restrictive because it denies all apps from installing or running.</p></td>\n<td align=\"left\"><p>You want the Sales group to use any packaged app from any signed publisher. You set the permissions to allow the Sales group to be able to run any app.</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>Applies to a specific <strong>Publisher</strong></p></td>\n<td align=\"left\"><p>This scopes the rule to all apps published by a particular publisher.</p></td>\n<td align=\"left\"><p>You want to allow all your users to install apps published by the publisher of Microsoft.BingMaps. You could select Microsoft.BingMaps as a reference and choose this rule scope.</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p>Applies to a <strong>Package name</strong></p></td>\n<td align=\"left\"><p>This scopes the rule to all packages that share the publisher name and package name as the reference file.</p></td>\n<td align=\"left\"><p>You want to allow your Sales group to install any version of the Microsoft.BingMaps app. You could select the Microsoft.BingMaps app as a reference and choose this rule scope.</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>Applies to a <strong>Package version</strong></p></td>\n<td align=\"left\"><p>This scopes the rule to a particular version of the package.</p></td>\n<td align=\"left\"><p>You want to be very selective in what you allow. You do not want to implicitly trust all future updates of the Microsoft.BingMaps app. You can limit the scope of your rule to the version of the app currently installed on your reference computer.</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p>Applying custom values to the rule</p></td>\n<td align=\"left\"><p>Selecting the <strong>Use custom values</strong> check box allows you to adjust the scope fields for your particular circumstance.</p></td>\n<td align=\"left\"><p>You want to allow users to install all Microsoft.Bing* applications which include Microsoft.BingMaps, Microsoft.BingWeather, Microsoft.BingMoney. You can choose the Microsoft.BingMaps as a reference, select the <strong>Use custom values</strong> check box and edit the package name field by adding “Microsoft.Bing*” as the Package name.</p></td>\n</tr>\n</tbody>\n</table>","leadings":["","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    ","    "],"nodes":[{"content":"The following table describes setting the scope for the packaged app rule.\n","pos":[0,75],"nodes":[{"content":"The following table describes setting the scope for the packaged app rule.","pos":[0,74]}]},{"content":"Selection","pos":[211,220]},{"content":"Description","pos":[243,254]},{"content":"Example","pos":[277,284]},{"content":"Applies to <ph id=\"ph1\">&lt;strong&gt;</ph>Any publisher","pos":[350,382]},{"content":"This is the least restrictive scope condition for an <strong>Allow</strong> rule. It permits every packaged app to run or install.","pos":[421,551],"nodes":[{"content":"This is the least restrictive scope condition for an <ph id=\"ph1\">&lt;strong&gt;</ph>Allow<ph id=\"ph2\">&lt;/strong&gt;</ph> rule.","pos":[0,81]},{"content":"It permits every packaged app to run or install.","pos":[82,130]}]},{"content":"Conversely, if this is a <ph id=\"ph1\">&lt;strong&gt;</ph>Deny<ph id=\"ph2\">&lt;/strong&gt;</ph> rule, then this option is the most restrictive because it denies all apps from installing or running.","pos":[559,707]},{"content":"You want the Sales group to use any packaged app from any signed publisher. You set the permissions to allow the Sales group to be able to run any app.","pos":[737,888],"nodes":[{"content":"You want the Sales group to use any packaged app from any signed publisher.","pos":[0,75]},{"content":"You set the permissions to allow the Sales group to be able to run any app.","pos":[76,151]}]},{"content":"Applies to a specific <ph id=\"ph1\">&lt;strong&gt;</ph>Publisher","pos":[942,981]},{"content":"This scopes the rule to all apps published by a particular publisher.","pos":[1020,1089]},{"content":"You want to allow all your users to install apps published by the publisher of Microsoft.BingMaps. You could select Microsoft.BingMaps as a reference and choose this rule scope.","pos":[1119,1296],"nodes":[{"content":"You want to allow all your users to install apps published by the publisher of Microsoft.BingMaps.","pos":[0,98]},{"content":"You could select Microsoft.BingMaps as a reference and choose this rule scope.","pos":[99,177]}]},{"content":"Applies to a <ph id=\"ph1\">&lt;strong&gt;</ph>Package name","pos":[1349,1382]},{"content":"This scopes the rule to all packages that share the publisher name and package name as the reference file.","pos":[1421,1527]},{"content":"You want to allow your Sales group to install any version of the Microsoft.BingMaps app. You could select the Microsoft.BingMaps app as a reference and choose this rule scope.","pos":[1557,1732],"nodes":[{"content":"You want to allow your Sales group to install any version of the Microsoft.BingMaps app.","pos":[0,88]},{"content":"You could select the Microsoft.BingMaps app as a reference and choose this rule scope.","pos":[89,175]}]},{"content":"Applies to a <ph id=\"ph1\">&lt;strong&gt;</ph>Package version","pos":[1786,1822]},{"content":"This scopes the rule to a particular version of the package.","pos":[1861,1921]},{"content":"You want to be very selective in what you allow. You do not want to implicitly trust all future updates of the Microsoft.BingMaps app. You can limit the scope of your rule to the version of the app currently installed on your reference computer.","pos":[1951,2196],"nodes":[{"content":"You want to be very selective in what you allow.","pos":[0,48]},{"content":"You do not want to implicitly trust all future updates of the Microsoft.BingMaps app.","pos":[49,134]},{"content":"You can limit the scope of your rule to the version of the app currently installed on your reference computer.","pos":[135,245]}]},{"content":"Applying custom values to the rule","pos":[2249,2283]},{"content":"Selecting the <ph id=\"ph1\">&lt;strong&gt;</ph>Use custom values<ph id=\"ph2\">&lt;/strong&gt;</ph> check box allows you to adjust the scope fields for your particular circumstance.","pos":[2313,2443]},{"content":"You want to allow users to install all Microsoft.Bing<bpt id=\"p1\">*</bpt> applications which include Microsoft.BingMaps, Microsoft.BingWeather, Microsoft.BingMoney. You can choose the Microsoft.BingMaps as a reference, select the <ph id=\"ph1\">&lt;strong&gt;</ph>Use custom values<ph id=\"ph2\">&lt;/strong&gt;</ph> check box and edit the package name field by adding “Microsoft.Bing<ept id=\"p1\">*</ept>” as the Package name.","pos":[2473,2809]}]},{"pos":[7600,7615],"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>."},{"content":"(Optional) On the <bpt id=\"p1\">**</bpt>Exceptions<ept id=\"p1\">**</ept> page, specify conditions by which to exclude files from being affected by the rule.","pos":[7620,7736]},{"content":"This allows you to add exceptions based on the same rule reference and rule scope as you set before.","pos":[7737,7837]},{"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.","pos":[7838,7853]},{"pos":[7858,7983],"content":"On the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> page, either accept the automatically generated rule name or type a new rule name, and then click <bpt id=\"p2\">**</bpt>Create<ept id=\"p2\">**</ept>."}],"content":"---\ntitle: Create a rule for packaged apps (Windows 10)\ndescription: This topic for IT professionals shows how to create an AppLocker rule for packaged apps with a publisher condition.\nms.assetid: e4ffd400-7860-47b3-9118-0e6853c3dfa0\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Create a rule for packaged apps\n\n**Applies to**\n-   Windows 10\n\nThis topic for IT professionals shows how to create an AppLocker rule for packaged apps with a publisher condition.\n\nPackaged apps, also known as Universal Windows apps, are based on an app model that ensures that all the files within an app package share the same identity. Therefore, it is possible to control the entire app using a single AppLocker rule as opposed to the non-packaged apps where each file within the app could have a unique identity. Windows does not support unsigned packaged apps which implies all packaged apps must be signed. AppLocker supports only publisher rules for packaged apps. A publisher rule for a packaged app is based on the following information:\n\n-   Publisher of the package\n-   Package name\n-   Package version\n\nAll the files within a package as well as the package installer share these attributes. Therefore, an AppLocker rule for a packaged app controls both the installation as well as the running of the app. Otherwise, the publisher rules for packaged apps are no different than the rest of the rule collections; they support exceptions, can be increased or decreased in scope, and can be assigned to users and groups.\n\nFor info about the publisher condition, see [Understanding the publisher rule condition in AppLocker](understanding-the-publisher-rule-condition-in-applocker.md).\n\nYou can perform this task by using the Group Policy Management Console for an AppLocker policy in a Group Policy Object (GPO) or by using the Local Security Policy snap-in for an AppLocker policy on a local computer or in a security template. For info how to use these MMC snap-ins to administer AppLocker, see [Administer AppLocker](administer-applocker.md#bkmk-using-snapins).\n\n**To create a packaged app rule**\n\n1.  Open the AppLocker console.\n2.  On the **Action** menu, or by right-clicking on **Packaged app Rules**, click **Create New Rule**.\n3.  On the **Before You Begin** page, click **Next**.\n4.  On the **Permissions** page, select the action (allow or deny) and the user or group that the rule should apply to, and then click **Next**.\n5.  On the **Publisher** page, you can select a specific reference for the packaged app rule and set the scope for the rule. The following table describes the reference options.\n    <table>\n    <colgroup>\n    <col width=\"33%\" />\n    <col width=\"33%\" />\n    <col width=\"33%\" />\n    </colgroup>\n    <thead>\n    <tr class=\"header\">\n    <th align=\"left\">Selection</th>\n    <th align=\"left\">Description</th>\n    <th align=\"left\">Example</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr class=\"odd\">\n    <td align=\"left\"><p><strong>Use an installed packaged app as a reference</strong></p></td>\n    <td align=\"left\"><p>If selected, AppLocker requires you to choose an app that is already installed on which to base your new rule. AppLocker uses the publisher, package name and package version to define the rule.</p></td>\n    <td align=\"left\"><p>You want the Sales group only to use the app named Microsoft.BingMaps for its outside sales calls. The Microsoft.BingMaps app is already installed on the device where you are creating the rule, so you choose this option, and select the app from the list of apps installed on the computer and create the rule using this app as a reference.</p></td>\n    </tr>\n    <tr class=\"even\">\n    <td align=\"left\"><p><strong>Use a packaged app installer as a reference</strong></p></td>\n    <td align=\"left\"><p>If selected, AppLocker requires you to choose an app installer on which to base your new rule. A packaged app installer has the .appx extension. AppLocker uses the publisher, package name and package version of the installer to define the rule.</p></td>\n    <td align=\"left\"><p>Your company has developed a number of internal line-of-business packaged apps. The app installers are stored on a common file share. Employees can install the required apps from that file share. You want to allow all your employees to install the Payroll app from this share. So you choose this option from the wizard, browse to the file share and choose the installer for the Payroll app as a reference to create your rule.</p></td>\n    </tr>\n    </tbody>\n    </table>\n     \n    The following table describes setting the scope for the packaged app rule.\n    <table>\n    <colgroup>\n    <col width=\"33%\" />\n    <col width=\"33%\" />\n    <col width=\"33%\" />\n    </colgroup>\n    <thead>\n    <tr class=\"header\">\n    <th align=\"left\">Selection</th>\n    <th align=\"left\">Description</th>\n    <th align=\"left\">Example</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr class=\"odd\">\n    <td align=\"left\"><p>Applies to <strong>Any publisher</strong></p></td>\n    <td align=\"left\"><p>This is the least restrictive scope condition for an <strong>Allow</strong> rule. It permits every packaged app to run or install.</p>\n    <p>Conversely, if this is a <strong>Deny</strong> rule, then this option is the most restrictive because it denies all apps from installing or running.</p></td>\n    <td align=\"left\"><p>You want the Sales group to use any packaged app from any signed publisher. You set the permissions to allow the Sales group to be able to run any app.</p></td>\n    </tr>\n    <tr class=\"even\">\n    <td align=\"left\"><p>Applies to a specific <strong>Publisher</strong></p></td>\n    <td align=\"left\"><p>This scopes the rule to all apps published by a particular publisher.</p></td>\n    <td align=\"left\"><p>You want to allow all your users to install apps published by the publisher of Microsoft.BingMaps. You could select Microsoft.BingMaps as a reference and choose this rule scope.</p></td>\n    </tr>\n    <tr class=\"odd\">\n    <td align=\"left\"><p>Applies to a <strong>Package name</strong></p></td>\n    <td align=\"left\"><p>This scopes the rule to all packages that share the publisher name and package name as the reference file.</p></td>\n    <td align=\"left\"><p>You want to allow your Sales group to install any version of the Microsoft.BingMaps app. You could select the Microsoft.BingMaps app as a reference and choose this rule scope.</p></td>\n    </tr>\n    <tr class=\"even\">\n    <td align=\"left\"><p>Applies to a <strong>Package version</strong></p></td>\n    <td align=\"left\"><p>This scopes the rule to a particular version of the package.</p></td>\n    <td align=\"left\"><p>You want to be very selective in what you allow. You do not want to implicitly trust all future updates of the Microsoft.BingMaps app. You can limit the scope of your rule to the version of the app currently installed on your reference computer.</p></td>\n    </tr>\n    <tr class=\"odd\">\n    <td align=\"left\"><p>Applying custom values to the rule</p></td>\n    <td align=\"left\"><p>Selecting the <strong>Use custom values</strong> check box allows you to adjust the scope fields for your particular circumstance.</p></td>\n    <td align=\"left\"><p>You want to allow users to install all Microsoft.Bing* applications which include Microsoft.BingMaps, Microsoft.BingWeather, Microsoft.BingMoney. You can choose the Microsoft.BingMaps as a reference, select the <strong>Use custom values</strong> check box and edit the package name field by adding “Microsoft.Bing*” as the Package name.</p></td>\n    </tr>\n    </tbody>\n    </table>\n     \n6.  Click **Next**.\n7.  (Optional) On the **Exceptions** page, specify conditions by which to exclude files from being affected by the rule. This allows you to add exceptions based on the same rule reference and rule scope as you set before. Click **Next**.\n8.  On the **Name** page, either accept the automatically generated rule name or type a new rule name, and then click **Create**.\n"}