{"nodes":[{"content":"How to Modify Private Key Permissions to Support Management Server or Streaming Server","pos":[11,97]},{"content":"How to Modify Private Key Permissions to Support Management Server or Streaming Server","pos":[111,197]},{"content":"How to Modify Private Key Permissions to Support Management Server or Streaming Server","pos":[371,457]},{"content":"To support a more secure App-V installation, you can use the following procedures to modify private keys in either Windows Server 2003 or Windows Server 2008.","pos":[460,618]},{"content":"To modify the permissions of the private key, you can use the Windows Server 2003 Resource Kit tool <ph id=\"ph1\">`WinHttpCertCfg.exe`</ph>.","pos":[619,740]},{"content":"For Windows Server 2003, the procedure requires that a certificate that meets the prerequisites listed in this document is installed on the computer or computers on which you will install the App-V Management or Streaming Server.","pos":[742,971]},{"content":"Additional information about using the <ph id=\"ph1\">`WinHttpCertCfg.exe`</ph> tool is available at <bpt id=\"p1\">&lt;</bpt>http://go.microsoft.com/fwlink/?LinkId=151981<ept id=\"p1\">&gt;</ept>.","pos":[972,1101]},{"content":"In Windows Server 2008, the process of changing the ACLs on the private key is much simpler.","pos":[1103,1195]},{"content":"The certificate’s user interface can be used to manage private key permissions.","pos":[1196,1275]},{"content":"Note","pos":[1279,1283]},{"content":"The default security context is Network Service; however, a domain account can be used instead.","pos":[1288,1383]},{"content":"To manage private keys in Windows Server 2003","pos":[1390,1435]},{"content":"On the computer that will become the App-V Management or Streaming Server, type the following command in a command prompt to list the current permissions assigned to a specific certificate:","pos":[1443,1632]},{"content":"If necessary, modify the permissions of the certificate to provide read access to the security context that will be used for Management or Streaming Service:","pos":[1699,1856]},{"content":"Verify that the security context was properly added by listing the permissions on the certificate:","pos":[1941,2039]},{"content":"To manage private keys in Windows Server 2008","pos":[2104,2149]},{"pos":[2157,2284],"content":"Create a Microsoft Management Console (MMC) with the <bpt id=\"p1\">*</bpt>Certificates<ept id=\"p1\">*</ept> snap-in that targets the <bpt id=\"p2\">*</bpt>Local Machine<ept id=\"p2\">*</ept> certificate store."},{"pos":[2290,2340],"content":"Expand the MMC and select <bpt id=\"p1\">**</bpt>Manage Private Keys<ept id=\"p1\">**</ept>."},{"pos":[2346,2428],"content":"On the <bpt id=\"p1\">**</bpt>Security<ept id=\"p1\">**</ept> tab, add the <bpt id=\"p2\">**</bpt>Network Service<ept id=\"p2\">**</ept> account with <bpt id=\"p3\">**</bpt>Read<ept id=\"p3\">**</ept> access."},{"content":"Related topics","pos":[2433,2447]},{"content":"Configuring Certificates to Support App-V Management Server or Streaming Server","pos":[2451,2530]},{"content":"Configuring Certificates to Support Secure Streaming","pos":[2618,2670]}],"content":"---\ntitle: How to Modify Private Key Permissions to Support Management Server or Streaming Server\ndescription: How to Modify Private Key Permissions to Support Management Server or Streaming Server\nauthor: jamiejdt\nms.assetid: 1ebe86fa-0fbc-4512-aebc-0a5da991cd43\nms.pagetype: mdop, appcompat, virtualization\nms.mktglfcycl: deploy\nms.sitesec: library\nms.prod: w8\n---\n\n\n# How to Modify Private Key Permissions to Support Management Server or Streaming Server\n\n\nTo support a more secure App-V installation, you can use the following procedures to modify private keys in either Windows Server 2003 or Windows Server 2008. To modify the permissions of the private key, you can use the Windows Server 2003 Resource Kit tool `WinHttpCertCfg.exe`.\n\nFor Windows Server 2003, the procedure requires that a certificate that meets the prerequisites listed in this document is installed on the computer or computers on which you will install the App-V Management or Streaming Server. Additional information about using the `WinHttpCertCfg.exe` tool is available at <http://go.microsoft.com/fwlink/?LinkId=151981>.\n\nIn Windows Server 2008, the process of changing the ACLs on the private key is much simpler. The certificate’s user interface can be used to manage private key permissions.\n\n**Note**  \nThe default security context is Network Service; however, a domain account can be used instead.\n\n \n\n**To manage private keys in Windows Server 2003**\n\n1.  On the computer that will become the App-V Management or Streaming Server, type the following command in a command prompt to list the current permissions assigned to a specific certificate:\n\n    `winhttpcertcfg -l -c LOCAL_MACHINE\\My -s Name_of_cert`\n\n2.  If necessary, modify the permissions of the certificate to provide read access to the security context that will be used for Management or Streaming Service:\n\n    `winhttpcertcfg -g -c LOCAL_MACHINE\\My -s Name_of_cert -a NetworkService`\n\n3.  Verify that the security context was properly added by listing the permissions on the certificate:\n\n    `winhttpcertcfg –l –c LOCAL_MACHINE\\My –s Name_of_cert`\n\n**To manage private keys in Windows Server 2008**\n\n1.  Create a Microsoft Management Console (MMC) with the *Certificates* snap-in that targets the *Local Machine* certificate store.\n\n2.  Expand the MMC and select **Manage Private Keys**.\n\n3.  On the **Security** tab, add the **Network Service** account with **Read** access.\n\n## Related topics\n\n\n[Configuring Certificates to Support App-V Management Server or Streaming Server](configuring-certificates-to-support-app-v-management-server-or-streaming-server.md)\n\n[Configuring Certificates to Support Secure Streaming](configuring-certificates-to-support-secure-streaming.md)\n\n \n\n \n\n\n\n\n\n"}