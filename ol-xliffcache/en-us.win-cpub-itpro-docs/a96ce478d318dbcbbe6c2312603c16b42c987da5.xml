{"nodes":[{"content":"Installing App-V Management Server or Streaming Server Securely","pos":[11,74]},{"content":"Installing App-V Management Server or Streaming Server Securely","pos":[88,151]},{"content":"Installing App-V Management Server or Streaming Server Securely","pos":[325,388]},{"content":"The topics in this section provide information for installing an enhanced security version of the App-V Management Server or the App-V Streaming Server.","pos":[391,543]},{"content":"Note","pos":[547,551]},{"content":"Installing or configuring an App-V Management or Streaming Server to use enhanced security (for example, Transport Layer Security, or TLS) requires that an X.509 V3 certificate has been provisioned to the App-V server.","pos":[556,774]},{"content":"When you prepare to install or configure a secure Management or Streaming Server, consider the following technical requirements:","pos":[779,907]},{"content":"The certificate must be valid.","pos":[913,943]},{"content":"If the certificate is not valid, the client ends the connection.","pos":[944,1008]},{"content":"The certificate must contain the correct <bpt id=\"p1\">*</bpt>Enhanced Key Usage<ept id=\"p1\">*</ept> (EKU)—Server Authentication (OID 1.3.6.1.5.5.7.3.1).","pos":[1014,1128]},{"content":"If the certificate does not contain this EKU, the client ends the connection.","pos":[1129,1206]},{"content":"The certificate fully qualified domain name (FQDN) must match the server on which it is installed.","pos":[1212,1310]},{"content":"For example, if the client is calling <ph id=\"ph1\">`RTSPS://Myserver.mycompany.com/content/MyApp.sft`</ph> and the certificate <bpt id=\"p1\">**</bpt>Issued To<ept id=\"p1\">**</ept> field is set to <ph id=\"ph2\">`Server1.mycompany.com`</ph>, the client will not connect to the server and the session ends.","pos":[1311,1538]},{"content":"The failure is reported to the user.","pos":[1539,1575]},{"pos":[1581,1901],"content":"**Note**  \nIf you are using App-V in a Network Load Balancing cluster, you must configure the certificate with Subject Alternate Names (SANs) to support RTSPS. For information about configuring the certification authority (CA) and creating certificates with SANs, see <http://go.microsoft.com/fwlink/?LinkId=133228>.","leadings":["","    "],"nodes":[{"content":"Note","pos":[2,6]},{"content":"If you are using App-V in a Network Load Balancing cluster, you must configure the certificate with Subject Alternate Names (SANs) to support RTSPS. For information about configuring the certification authority (CA) and creating certificates with SANs, see <http://go.microsoft.com/fwlink/?LinkId=133228>.","pos":[11,316],"nodes":[{"content":"If you are using App-V in a Network Load Balancing cluster, you must configure the certificate with Subject Alternate Names (SANs) to support RTSPS.","pos":[0,148]},{"content":"For information about configuring the certification authority (CA) and creating certificates with SANs, see <bpt id=\"p1\">&lt;</bpt>http://go.microsoft.com/fwlink/?LinkId=133228<ept id=\"p1\">&gt;</ept>.","pos":[149,305]}]}]},{"content":"The client and the server need to trust the root CA—The CA issuing the certificate to the App-V server must by trusted by the client connecting to the server.","pos":[1914,2072]},{"content":"If not, the client ends the connection.","pos":[2073,2112]},{"content":"The certificate’s private key must have permissions changed to allow the App-V Service account to access the certificate.","pos":[2118,2239]},{"content":"By default, App-V uses the Network Service account, and by default, the Network Service account does not have permission to access the private key, which will prevent secure connections.","pos":[2240,2426]},{"content":"In This Section","pos":[2431,2446]},{"content":"Configuring Certificates to Support Secure Streaming","pos":[2523,2575]},{"content":"Provides information about obtaining, configuring, and installing certificates to support secure streaming.","pos":[2636,2743]},{"content":"How to Modify Private Key Permissions to Support Management Server or Streaming Server","pos":[2853,2939]},{"content":"Provides procedures you can use to modify keys in Windows Server 2003 and Windows Server 2008.","pos":[3034,3128]},{"content":"Configuring Certificates to Support App-V Management Server or Streaming Server","pos":[3231,3310]},{"content":"Provides information about configuring certificates for the App-V Management or Streaming Servers, including information about configuring certificates for Network Load Balancing environments.","pos":[3398,3590]}],"content":"---\ntitle: Installing App-V Management Server or Streaming Server Securely\ndescription: Installing App-V Management Server or Streaming Server Securely\nauthor: jamiejdt\nms.assetid: d2a51a81-a80f-427c-a727-611e1eb74f02\nms.pagetype: mdop, appcompat, virtualization\nms.mktglfcycl: deploy\nms.sitesec: library\nms.prod: w8\n---\n\n\n# Installing App-V Management Server or Streaming Server Securely\n\n\nThe topics in this section provide information for installing an enhanced security version of the App-V Management Server or the App-V Streaming Server.\n\n**Note**  \nInstalling or configuring an App-V Management or Streaming Server to use enhanced security (for example, Transport Layer Security, or TLS) requires that an X.509 V3 certificate has been provisioned to the App-V server.\n\n \n\nWhen you prepare to install or configure a secure Management or Streaming Server, consider the following technical requirements:\n\n-   The certificate must be valid. If the certificate is not valid, the client ends the connection.\n\n-   The certificate must contain the correct *Enhanced Key Usage* (EKU)—Server Authentication (OID 1.3.6.1.5.5.7.3.1). If the certificate does not contain this EKU, the client ends the connection.\n\n-   The certificate fully qualified domain name (FQDN) must match the server on which it is installed. For example, if the client is calling `RTSPS://Myserver.mycompany.com/content/MyApp.sft` and the certificate **Issued To** field is set to `Server1.mycompany.com`, the client will not connect to the server and the session ends. The failure is reported to the user.\n\n    **Note**  \n    If you are using App-V in a Network Load Balancing cluster, you must configure the certificate with Subject Alternate Names (SANs) to support RTSPS. For information about configuring the certification authority (CA) and creating certificates with SANs, see <http://go.microsoft.com/fwlink/?LinkId=133228>.\n\n     \n\n-   The client and the server need to trust the root CA—The CA issuing the certificate to the App-V server must by trusted by the client connecting to the server. If not, the client ends the connection.\n\n-   The certificate’s private key must have permissions changed to allow the App-V Service account to access the certificate. By default, App-V uses the Network Service account, and by default, the Network Service account does not have permission to access the private key, which will prevent secure connections.\n\n## In This Section\n\n\n<a href=\"\" id=\"configuring-certificates-to-support-secure-streaming\"></a>[Configuring Certificates to Support Secure Streaming](configuring-certificates-to-support-secure-streaming.md)  \nProvides information about obtaining, configuring, and installing certificates to support secure streaming.\n\n<a href=\"\" id=\"how-to-modify-private-key-permissions-to-support-management-server-or-streaming-server\"></a>[How to Modify Private Key Permissions to Support Management Server or Streaming Server](how-to-modify-private-key-permissions-to-support-management-server-or-streaming-server.md)  \nProvides procedures you can use to modify keys in Windows Server 2003 and Windows Server 2008.\n\n<a href=\"\" id=\"configuring-certificates-to-support-app-v-management-server-or-streaming-server\"></a>[Configuring Certificates to Support App-V Management Server or Streaming Server](configuring-certificates-to-support-app-v-management-server-or-streaming-server.md)  \nProvides information about configuring certificates for the App-V Management or Streaming Servers, including information about configuring certificates for Network Load Balancing environments.\n\n \n\n \n\n\n\n\n\n"}