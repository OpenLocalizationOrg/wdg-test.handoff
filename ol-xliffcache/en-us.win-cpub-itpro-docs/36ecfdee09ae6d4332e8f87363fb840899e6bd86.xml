{"nodes":[{"content":"Interactive logon Number of previous logons to cache (in case domain controller is not available) (Windows 10)","pos":[11,121]},{"content":"Describes the best practices, location, values, policy management and security considerations for the Interactive logon Number of previous logons to cache (in case domain controller is not available) security policy setting.","pos":[135,359]},{"content":"Interactive logon: Number of previous logons to cache (in case domain controller is not available)","pos":[515,613]},{"content":"Applies to","pos":[617,627]},{"content":"Windows 10","pos":[634,644]},{"pos":[646,875],"content":"Describes the best practices, location, values, policy management and security considerations for the <bpt id=\"p1\">**</bpt>Interactive logon: Number of previous logons to cache (in case domain controller is not available)<ept id=\"p1\">**</ept> security policy setting."},{"content":"Reference","pos":[880,889]},{"content":"The <bpt id=\"p1\">**</bpt>Interactive logon: Number of previous logons to cache (in case domain controller is not available<ept id=\"p1\">**</ept>) policy setting determines whether a user can log on to a Windows domain by using cached account information.","pos":[891,1106]},{"content":"Logon information for domain accounts can be cached locally so that, if a domain controller cannot be contacted on subsequent logons, a user can still log on.","pos":[1107,1265]},{"content":"This policy setting determines the number of unique users whose logon information is cached locally.","pos":[1266,1366]},{"content":"If a domain controller is unavailable and a user's logon information is cached, the user is prompted with the following message:","pos":[1368,1496]},{"content":"A domain controller for your domain could not be contacted.","pos":[1498,1557]},{"content":"You have been logged on using cached account information.","pos":[1558,1615]},{"content":"Changes to your profile since you last logged on might not be available.","pos":[1616,1688]},{"content":"If a domain controller is unavailable and a user's logon information is not cached, the user is prompted with this message:","pos":[1690,1813]},{"pos":[1815,1898],"content":"The system cannot log you on now because the domain <bpt id=\"p1\">*</bpt>DOMAIN NAME<ept id=\"p1\">*</ept> is not available."},{"content":"The value of this policy setting indicates the number of users whose logon information the server caches locally.","pos":[1900,2013]},{"content":"If the value is 10, the server caches logon information for 10 users.","pos":[2014,2083]},{"content":"When an eleventh user logs on to the device, the server overwrites the oldest cached logon session.","pos":[2084,2183]},{"content":"Users who access the server console will have their logon credentials cached on that server.","pos":[2185,2277]},{"content":"A malicious user who is able to access the file system of the server can locate this cached information and use a brute-force attack to determine user passwords.","pos":[2278,2439]},{"content":"Windows mitigates this type of attack by encrypting the information and keeping the cached credentials in the system's registries, which are spread across numerous physical locations.","pos":[2440,2624]},{"content":"Possible values","pos":[2630,2645]},{"content":"A user-defined number from 0 through 50","pos":[2651,2690]},{"content":"Not defined","pos":[2695,2706]},{"content":"Best practices","pos":[2712,2726]},{"content":"It is advisable to set <bpt id=\"p1\">**</bpt>Interactive logon: Number of previous logons to cache (in case domain controller is not available)<ept id=\"p1\">**</ept> to 0.","pos":[2728,2859]},{"content":"Setting this value to 0 disables the local caching of logon information.","pos":[2860,2932]},{"content":"Additional countermeasures include enforcing strong password policies and physically securing the computers.","pos":[2933,3041]},{"content":"If the value is set to 0, users will be unable to log on to any computers if there is no domain controller available to authenticate them.","pos":[3042,3180]},{"content":"Organizations might want to set <bpt id=\"p1\">**</bpt>Interactive logon: Number of previous logons to cache (in case domain controller is not available)<ept id=\"p1\">**</ept> to 2 for end-user systems, especially for mobile users.","pos":[3181,3371]},{"content":"Setting this value to 2 means that the user's logon information will still be in the cache even if a member of the IT department has recently logged on to their device to perform system maintenance.","pos":[3372,3570]},{"content":"This way, those users will be able to log on to their devices when they are not connected to the corporate network.","pos":[3571,3686]},{"content":"Location","pos":[3692,3700]},{"content":"Computer Configuration<ph id=\"ph1\">\\\\</ph>Windows Settings<ph id=\"ph2\">\\\\</ph>Security Settings<ph id=\"ph3\">\\\\</ph>Local Policies<ph id=\"ph4\">\\\\</ph>Security Options","pos":[3702,3795]},{"content":"Default values","pos":[3801,3815]},{"content":"The following table lists the actual and effective default values for this policy.","pos":[3817,3899]},{"content":"Default values are also listed on the policy’s property page.","pos":[3900,3961]},{"content":"Server type or GPO","pos":[3965,3983]},{"content":"Default value","pos":[3986,3999]},{"content":"Default Domain Policy","pos":[4014,4035]},{"content":"Not defined","pos":[4037,4048]},{"content":"Default Domain Controller Policy","pos":[4053,4085]},{"content":"Not defined","pos":[4088,4099]},{"content":"Stand-Alone Server Default Settings","pos":[4104,4139]},{"content":"10 logons","pos":[4142,4151]},{"content":"DC Effective Default Settings","pos":[4156,4185]},{"content":"10 logons","pos":[4188,4197]},{"content":"Member Server Effective Default Settings","pos":[4202,4242]},{"content":"10 logons","pos":[4245,4254]},{"content":"Client Computer Effective Default Settings","pos":[4259,4301]},{"content":"10 logons","pos":[4303,4312]},{"content":"Policy management","pos":[4320,4337]},{"content":"This section describes features and tools that are available to help you manage this policy.","pos":[4339,4431]},{"content":"Restart requirement","pos":[4437,4456]},{"content":"None.","pos":[4458,4463]},{"content":"Changes to this policy become effective without a computer restart when they are saved locally or distributed through Group Policy.","pos":[4464,4595]},{"content":"Policy conflict considerations","pos":[4601,4631]},{"content":"None","pos":[4633,4637]},{"content":"Group Policy","pos":[4643,4655]},{"content":"This policy setting can be configured by using the Group Policy Management Console (GPMC) to be distributed through Group Policy Objects (GPOs).","pos":[4657,4801]},{"content":"If this policy is not contained in a distributed GPO, this policy can be configured on the local computer by using the Local Security Policy snap-in.","pos":[4802,4951]},{"content":"Security considerations","pos":[4956,4979]},{"content":"This section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.","pos":[4981,5175]},{"content":"Vulnerability","pos":[5181,5194]},{"content":"The number that is assigned to this policy setting indicates the number of users whose logon information is cache locally by the servers.","pos":[5196,5333]},{"content":"If the number is set to 10, the server caches logon information for 10 users.","pos":[5334,5411]},{"content":"When an eleventh user logs on to the device, the server overwrites the oldest cached logon session.","pos":[5412,5511]},{"content":"Users who access the server console have their logon credentials cached on that server.","pos":[5513,5600]},{"content":"An attacker who is able to access the file system of the server could locate this cached information and use a brute force attack to attempt to determine user passwords.","pos":[5601,5770]},{"content":"To mitigate this type of attack, Windows encrypts the information and obscures its physical location.","pos":[5772,5873]},{"content":"Countermeasure","pos":[5879,5893]},{"content":"Configure the <bpt id=\"p1\">**</bpt>Interactive logon: Number of previous logons to cache (in case domain controller is not available)<ept id=\"p1\">**</ept> setting to 0, which disables the local caching of logon information.","pos":[5895,6080]},{"content":"Additional countermeasures include enforcement of strong password policies and physically secure locations for the computers.","pos":[6081,6206]},{"content":"Potential impact","pos":[6212,6228]},{"content":"Users cannot log on to any devices if there is no domain controller available to authenticate them.","pos":[6230,6329]},{"content":"Organizations can configure this value to 2 for end-user computers, especially for mobile users.","pos":[6330,6426]},{"content":"A configuration value of 2 means that the user's logon information is still in the cache, even if a member of the IT department has recently logged on to the device to perform system maintenance.","pos":[6427,6623]},{"content":"This method allows users to log on to their computers when they are not connected to the organization's network.","pos":[6624,6736]},{"content":"Related topics","pos":[6741,6755]},{"content":"Security Options","pos":[6760,6776]}],"content":"---\ntitle: Interactive logon Number of previous logons to cache (in case domain controller is not available) (Windows 10)\ndescription: Describes the best practices, location, values, policy management and security considerations for the Interactive logon Number of previous logons to cache (in case domain controller is not available) security policy setting.\nms.assetid: 660e925e-cc3e-4098-a41e-eb8db8062d8d\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Interactive logon: Number of previous logons to cache (in case domain controller is not available)\n\n**Applies to**\n-   Windows 10\n\nDescribes the best practices, location, values, policy management and security considerations for the **Interactive logon: Number of previous logons to cache (in case domain controller is not available)** security policy setting.\n\n## Reference\n\nThe **Interactive logon: Number of previous logons to cache (in case domain controller is not available**) policy setting determines whether a user can log on to a Windows domain by using cached account information. Logon information for domain accounts can be cached locally so that, if a domain controller cannot be contacted on subsequent logons, a user can still log on. This policy setting determines the number of unique users whose logon information is cached locally.\n\nIf a domain controller is unavailable and a user's logon information is cached, the user is prompted with the following message:\n\nA domain controller for your domain could not be contacted. You have been logged on using cached account information. Changes to your profile since you last logged on might not be available.\n\nIf a domain controller is unavailable and a user's logon information is not cached, the user is prompted with this message:\n\nThe system cannot log you on now because the domain *DOMAIN NAME* is not available.\n\nThe value of this policy setting indicates the number of users whose logon information the server caches locally. If the value is 10, the server caches logon information for 10 users. When an eleventh user logs on to the device, the server overwrites the oldest cached logon session.\n\nUsers who access the server console will have their logon credentials cached on that server. A malicious user who is able to access the file system of the server can locate this cached information and use a brute-force attack to determine user passwords. Windows mitigates this type of attack by \nencrypting the information and keeping the cached credentials in the system's registries, which are spread across numerous physical locations.\n\n### Possible values\n\n-   A user-defined number from 0 through 50\n-   Not defined\n\n### Best practices\n\nIt is advisable to set **Interactive logon: Number of previous logons to cache (in case domain controller is not available)** to 0. Setting this value to 0 disables the local caching of logon information. Additional countermeasures include enforcing strong password policies and physically securing the computers. If the value is set to 0, users will be unable to log on to any computers if there is no domain controller available to authenticate them. Organizations might want to set **Interactive logon: Number of previous logons to cache (in case domain controller is not available)** to 2 for end-user systems, especially for mobile users. Setting this value to 2 means that the user's logon information will still be in the cache even if a member of the IT department has recently logged on to their device to perform system maintenance. This way, those users will be able to log on to their devices when they are not connected to the corporate network.\n\n### Location\n\nComputer Configuration\\\\Windows Settings\\\\Security Settings\\\\Local Policies\\\\Security Options\n\n### Default values\n\nThe following table lists the actual and effective default values for this policy. Default values are also listed on the policy’s property page.\n\n| Server type or GPO | Default value |\n| - | - |\n| Default Domain Policy| Not defined| \n| Default Domain Controller Policy | Not defined| \n| Stand-Alone Server Default Settings | 10 logons| \n| DC Effective Default Settings | 10 logons| \n| Member Server Effective Default Settings | 10 logons| \n| Client Computer Effective Default Settings| 10 logons| \n \n## Policy management\n\nThis section describes features and tools that are available to help you manage this policy.\n\n### Restart requirement\n\nNone. Changes to this policy become effective without a computer restart when they are saved locally or distributed through Group Policy.\n\n### Policy conflict considerations\n\nNone\n\n### Group Policy\n\nThis policy setting can be configured by using the Group Policy Management Console (GPMC) to be distributed through Group Policy Objects (GPOs). If this policy is not contained in a distributed GPO, this policy can be configured on the local computer by using the Local Security Policy snap-in.\n\n## Security considerations\n\nThis section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.\n\n### Vulnerability\n\nThe number that is assigned to this policy setting indicates the number of users whose logon information is cache locally by the servers. If the number is set to 10, the server caches logon information for 10 users. When an eleventh user logs on to the device, the server overwrites the oldest cached logon session.\n\nUsers who access the server console have their logon credentials cached on that server. An attacker who is able to access the file system of the server could locate this cached information and use a brute force attack to attempt to determine user passwords.\n\nTo mitigate this type of attack, Windows encrypts the information and obscures its physical location.\n\n### Countermeasure\n\nConfigure the **Interactive logon: Number of previous logons to cache (in case domain controller is not available)** setting to 0, which disables the local caching of logon information. Additional countermeasures include enforcement of strong password policies and physically secure locations for the computers.\n\n### Potential impact\n\nUsers cannot log on to any devices if there is no domain controller available to authenticate them. Organizations can configure this value to 2 for end-user computers, especially for mobile users. A configuration value of 2 means that the user's logon information is still in the cache, even if a \nmember of the IT department has recently logged on to the device to perform system maintenance. This method allows users to log on to their computers when they are not connected to the organization's network.\n\n## Related topics\n\n- [Security Options](security-options.md)\n"}