{"nodes":[{"content":"Configure MDT deployment share rules (Windows 10)","pos":[11,60]},{"content":"In this topic, you will learn how to configure the MDT rules engine to reach out to other resources, including external scripts, databases, and web services, for additional information instead of storing settings directly in the rules engine.","pos":[74,316]},{"content":"Configure MDT deployment share rules","pos":[512,548]},{"content":"In this topic, you will learn how to configure the MDT rules engine to reach out to other resources, including external scripts, databases, and web services, for additional information instead of storing settings directly in the rules engine.","pos":[550,792]},{"content":"The rules engine in MDT is powerful: most of the settings used for operating system deployments are retrieved and assigned via the rules engine.","pos":[793,937]},{"content":"In its simplest form, the rules engine is the CustomSettings.ini text file.","pos":[938,1013]},{"pos":[1044,1059],"content":"Assign settings"},{"content":"When using MDT, you can assign setting in three distinct ways:","pos":[1061,1123]},{"content":"You can pre-stage the information before deployment.","pos":[1128,1180]},{"content":"You can prompt the user or technician for information.","pos":[1185,1239]},{"content":"You can have MDT generate the settings automatically.","pos":[1244,1297]},{"content":"In order illustrate these three options, let's look at some sample configurations.","pos":[1299,1381]},{"pos":[1412,1433],"content":"Sample configurations"},{"content":"Before adding the more advanced components like scripts, databases, and web services, consider the commonly used configurations below; they demonstrate the power of the rules engine.","pos":[1435,1617]},{"content":"Set computer name by MAC Address","pos":[1623,1655]},{"content":"If you have a small test environment, or simply want to assign settings to a very limited number of machines, you can edit the rules to assign settings directly for a given MAC Address.","pos":[1657,1842]},{"content":"If you have many machines, it makes sense to use the database instead.","pos":[1843,1913]},{"content":"In the preceding sample, you set the PC00075 computer name for a machine with a MAC Address of 00:15:5D:85:6B:00.","pos":[2039,2152]},{"content":"Set computer name by serial number","pos":[2158,2192]},{"content":"Another way to assign a computer name is to identify the machine via its serial number.","pos":[2194,2281]},{"content":"In this sample, you set the PC00075 computer name for a machine with a serial number of CND0370RJ7.","pos":[2402,2501]},{"content":"Generate a computer name based on a serial number","pos":[2507,2556]},{"content":"You also can configure the rules engine to use a known property, like a serial number, to generate a computer name on the fly.","pos":[2558,2684]},{"content":"In this sample, you configure the rules to set the computer name to a prefix (PC-) and then the serial number.","pos":[2788,2898]},{"content":"If the serial number of the machine is CND0370RJ7, the preceding configuration sets the computer name to PC-CND0370RJ7.","pos":[2899,3018]},{"content":"Note","pos":[3021,3025]},{"content":"Be careful when using the serial number to assign computer names.","pos":[3031,3096]},{"content":"A serial number can contain more than 15 characters, but the Windows setup limits a computer name to 15 characters.","pos":[3097,3212]},{"content":"Generate a limited computer name based on a serial number","pos":[3219,3276]},{"content":"To avoid assigning a computer name longer than 15 characters, you can configure the rules in more detail by adding VBScript functions, as follows:","pos":[3278,3424]},{"content":"In the preceding sample, you still configure the rules to set the computer name to a prefix (PC-) followed by the serial number.","pos":[3541,3669]},{"content":"However, by adding the Left VBScript function, you configure the rule to use only the first 12 serial-number characters for the name.","pos":[3670,3803]},{"content":"Add laptops to a different organizational unit (OU) in Active Directory","pos":[3809,3880]},{"content":"In the rules, you find built-in properties that use a Windows Management Instrumentation (WMI) query to determine whether the machine you are deploying is a laptop, desktop, or server.","pos":[3882,4066]},{"content":"In this sample, we assume you want to add laptops to different OUs in Active Directory.","pos":[4067,4154]},{"content":"Note that ByLaptopType is not a reserved word; rather, it is the name of the section to read.","pos":[4155,4248]},{"content":"Related topics","pos":[4496,4510]},{"content":"Set up MDT for BitLocker","pos":[4513,4537]},{"content":"Configure MDT for UserExit scripts","pos":[4575,4609]},{"content":"Simulate a Windows 10 deployment in a test environment","pos":[4657,4711]},{"content":"Use the MDT database to stage Windows 10 deployment information","pos":[4774,4837]},{"content":"Assign applications using roles in MDT","pos":[4909,4947]},{"content":"Use web services in MDT","pos":[4999,5022]},{"content":"Use Orchestrator runbooks with MDT","pos":[5059,5093]}],"content":"---\ntitle: Configure MDT deployment share rules (Windows 10)\ndescription: In this topic, you will learn how to configure the MDT rules engine to reach out to other resources, including external scripts, databases, and web services, for additional information instead of storing settings directly in the rules engine.\nms.assetid: b5ce2360-33cc-4b14-b291-16f75797391b\nkeywords: rules, configuration, automate, deploy\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: mdt\nauthor: mtniehaus\n---\n\n# Configure MDT deployment share rules\n\nIn this topic, you will learn how to configure the MDT rules engine to reach out to other resources, including external scripts, databases, and web services, for additional information instead of storing settings directly in the rules engine. The rules engine in MDT is powerful: most of the settings used for operating system deployments are retrieved and assigned via the rules engine. In its simplest form, the rules engine is the CustomSettings.ini text file.\n\n## <a href=\"\" id=\"sec01\"></a>Assign settings\n\nWhen using MDT, you can assign setting in three distinct ways:\n-   You can pre-stage the information before deployment.\n-   You can prompt the user or technician for information.\n-   You can have MDT generate the settings automatically.\n\nIn order illustrate these three options, let's look at some sample configurations.\n\n## <a href=\"\" id=\"sec02\"></a>Sample configurations\n\nBefore adding the more advanced components like scripts, databases, and web services, consider the commonly used configurations below; they demonstrate the power of the rules engine.\n\n### Set computer name by MAC Address\n\nIf you have a small test environment, or simply want to assign settings to a very limited number of machines, you can edit the rules to assign settings directly for a given MAC Address. If you have many machines, it makes sense to use the database instead.\n\n``` syntax\n[Settings]\nPriority=MacAddress, Default\n[Default]\nOSInstall=YES\n[00:15:5D:85:6B:00]\nOSDComputerName=PC00075\n```\n\nIn the preceding sample, you set the PC00075 computer name for a machine with a MAC Address of 00:15:5D:85:6B:00.\n\n### Set computer name by serial number\n\nAnother way to assign a computer name is to identify the machine via its serial number.\n\n``` syntax\n[Settings]\nPriority=SerialNumber, Default\n[Default]\nOSInstall=YES\n[CND0370RJ7]\nOSDComputerName=PC00075\n```\n\nIn this sample, you set the PC00075 computer name for a machine with a serial number of CND0370RJ7.\n\n### Generate a computer name based on a serial number\n\nYou also can configure the rules engine to use a known property, like a serial number, to generate a computer name on the fly.\n\n``` syntax\n[Settings]\nPriority=Default\n[Default]\nOSInstall=YES\nOSDComputerName=PC-%SerialNumber%\n```\n\nIn this sample, you configure the rules to set the computer name to a prefix (PC-) and then the serial number. If the serial number of the machine is CND0370RJ7, the preceding configuration sets the computer name to PC-CND0370RJ7.\n**Note**  \n\nBe careful when using the serial number to assign computer names. A serial number can contain more than 15 characters, but the Windows setup limits a computer name to 15 characters.\n \n### Generate a limited computer name based on a serial number\n\nTo avoid assigning a computer name longer than 15 characters, you can configure the rules in more detail by adding VBScript functions, as follows:\n\n``` syntax\n[Settings]\nPriority=Default\n[Default]\nOSInstall=YES\nOSDComputerName=PC-#Left(\"%SerialNumber%\",12)#\n```\n\nIn the preceding sample, you still configure the rules to set the computer name to a prefix (PC-) followed by the serial number. However, by adding the Left VBScript function, you configure the rule to use only the first 12 serial-number characters for the name.\n\n### Add laptops to a different organizational unit (OU) in Active Directory\n\nIn the rules, you find built-in properties that use a Windows Management Instrumentation (WMI) query to determine whether the machine you are deploying is a laptop, desktop, or server. In this sample, we assume you want to add laptops to different OUs in Active Directory. Note that ByLaptopType is not a reserved word; rather, it is the name of the section to read.\n\n``` syntax\n[Settings]\nPriority=ByLaptopType, Default\n[Default]\nMachineObjectOU=OU=Workstations,OU=Contoso,DC=contoso,DC=com\n[ByLaptopType]\nSubsection=Laptop-%IsLaptop%\n[Laptop-True]\nMachineObjectOU=OU=Laptops,OU=Contoso,DC=contoso,DC=com\n```\n\n## Related topics\n\n[Set up MDT for BitLocker](set-up-mdt-2013-for-bitlocker.md)\n\n[Configure MDT for UserExit scripts](configure-mdt-2013-for-userexit-scripts.md)\n\n[Simulate a Windows 10 deployment in a test environment](simulate-a-windows-10-deployment-in-a-test-environment.md)\n\n[Use the MDT database to stage Windows 10 deployment information](use-the-mdt-database-to-stage-windows-10-deployment-information.md)\n\n[Assign applications using roles in MDT](assign-applications-using-roles-in-mdt-2013.md)\n\n[Use web services in MDT](use-web-services-in-mdt-2013.md)\n\n[Use Orchestrator runbooks with MDT](use-orchestrator-runbooks-with-mdt-2013.md)\n"}