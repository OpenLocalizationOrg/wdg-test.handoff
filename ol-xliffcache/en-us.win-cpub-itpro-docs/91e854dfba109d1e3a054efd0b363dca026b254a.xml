{"nodes":[{"content":"Allow log on locally (Windows 10)","pos":[11,44]},{"content":"Describes the best practices, location, values, policy management, and security considerations for the Allow log on locally security policy setting.","pos":[58,206]},{"content":"Allow log on locally","pos":[362,382]},{"content":"Applies to","pos":[386,396]},{"content":"Windows 10","pos":[403,413]},{"pos":[415,567],"content":"Describes the best practices, location, values, policy management, and security considerations for the <bpt id=\"p1\">**</bpt>Allow log on locally<ept id=\"p1\">**</ept> security policy setting."},{"content":"Reference","pos":[572,581]},{"content":"This policy setting determines which users can start an interactive session on the device.","pos":[583,673]},{"content":"Users must have this user right to log on over a Remote Desktop Services session that is running on a Windows-based member device or domain controller.","pos":[674,825]},{"pos":[828,1010],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept>  Users who do not have this right are still able to start a remote interactive session on the device if they have the <bpt id=\"p2\">**</bpt>Allow logon through Remote Desktop Services<ept id=\"p2\">**</ept> right."},{"content":"Constant: SeInteractiveLogonRight","pos":[1013,1046]},{"content":"Possible values","pos":[1052,1067]},{"content":"User-defined list of accounts","pos":[1073,1102]},{"content":"Not Defined","pos":[1107,1118]},{"content":"By default, the members of the following groups have this right on workstations and servers:","pos":[1120,1212]},{"content":"Administrators","pos":[1218,1232]},{"content":"Backup Operators","pos":[1237,1253]},{"content":"Users","pos":[1258,1263]},{"content":"By default, the members of the following groups have this right on domain controllers:","pos":[1265,1351]},{"content":"Account Operators","pos":[1357,1374]},{"content":"Administrators","pos":[1379,1393]},{"content":"Backup Operators","pos":[1398,1414]},{"content":"Print Operators","pos":[1419,1434]},{"content":"Server Operators","pos":[1439,1455]},{"content":"Best practices","pos":[1461,1475]},{"content":"Restrict this user right to legitimate users who must log on to the console of the device.","pos":[1481,1571]},{"content":"If you selectively remove default groups, you can limit the abilities of users who are assigned to specific administrative roles in your organization.","pos":[1576,1726]},{"content":"Location","pos":[1732,1740]},{"content":"Computer Configuration<ph id=\"ph1\">\\\\</ph>Windows Settings<ph id=\"ph2\">\\\\</ph>Security Settings<ph id=\"ph3\">\\\\</ph>Local Policies<ph id=\"ph4\">\\\\</ph>User Rights Assignment","pos":[1742,1841]},{"content":"Default values","pos":[1847,1861]},{"content":"The following table lists the actual and effective default policy values for the most recent supported versions of Windows.","pos":[1863,1986]},{"content":"Default values are also listed on the policyâ€™s property page.","pos":[1987,2048]},{"content":"Server type or GPO","pos":[2052,2070]},{"content":"Default value","pos":[2073,2086]},{"content":"Default Domain Policy","pos":[2101,2122]},{"content":"Not Defined","pos":[2124,2135]},{"content":"Default Domain Controller Policy","pos":[2140,2172]},{"content":"Account Operators","pos":[2175,2192]},{"content":"Administrators","pos":[2196,2210]},{"content":"Backup Operators","pos":[2214,2230]},{"content":"Print Operators","pos":[2234,2249]},{"content":"Server Operators","pos":[2253,2269]},{"content":"Stand-Alone Server Default Settings","pos":[2274,2309]},{"content":"Administrators","pos":[2311,2325]},{"content":"Backup Operators","pos":[2329,2345]},{"content":"Users","pos":[2349,2354]},{"content":"Domain Controller Effective Default Settings","pos":[2359,2403]},{"content":"Account Operators","pos":[2406,2423]},{"content":"Administrators","pos":[2427,2441]},{"content":"Backup Operators","pos":[2445,2461]},{"content":"Print Operators","pos":[2465,2480]},{"content":"Server Operators","pos":[2484,2500]},{"content":"Member Server Effective Default Settings","pos":[2505,2545]},{"content":"Administrators","pos":[2548,2562]},{"content":"Backup Operators","pos":[2566,2582]},{"content":"Users","pos":[2586,2591]},{"content":"Client Computer Effective Default Settings","pos":[2596,2638]},{"content":"Administrators","pos":[2641,2655]},{"content":"Backup Operators","pos":[2659,2675]},{"content":"Users","pos":[2679,2684]},{"content":"Policy management","pos":[2692,2709]},{"content":"Restarting the device is not required to implement this change.","pos":[2711,2774]},{"content":"Any change to the user rights assignment for an account becomes effective the next time the owner of the account logs on.","pos":[2776,2897]},{"content":"Modifying this setting might affect compatibility with clients, services, and applications.","pos":[2899,2990]},{"content":"Use caution when removing service accounts that are used by components and by programs on member devices and on domain controllers in the domain from the default domain controller's policy.","pos":[2991,3180]},{"content":"Also use caution when removing users or security groups that log on to the console of member devices in the domain, or removing service accounts that are defined in the local Security Accounts Manager (SAM) database of member devices or of workgroup devices.","pos":[3181,3439]},{"content":"If you want to grant a user account the ability to log on locally to a domain controller, you must make that user a member of a group that already has the <bpt id=\"p1\">**</bpt>Allowed logon locally<ept id=\"p1\">**</ept> system right or grant the right to that user account.","pos":[3440,3674]},{"content":"The domain controllers in the domain share the Default Domain Controllers Group Policy Object (GPO).","pos":[3675,3775]},{"content":"When you grant an account the <bpt id=\"p1\">**</bpt>Allow logon locally<ept id=\"p1\">**</ept> right, you are allowing that account to log on locally to all domain controllers in the domain.","pos":[3776,3925]},{"content":"If the Users group is listed in the <bpt id=\"p1\">**</bpt>Allow log on locally<ept id=\"p1\">**</ept> setting for a GPO, all domain users can log on locally.","pos":[3926,4042]},{"content":"The Users built-in group contains Domain Users as a member.","pos":[4043,4102]},{"content":"Group Policy","pos":[4108,4120]},{"content":"Group Policy settings are applied through GPOs in the following order, which will overwrite settings on the local computer at the next Group Policy update:","pos":[4122,4277]},{"content":"Local policy settings","pos":[4283,4304]},{"content":"Site policy settings","pos":[4309,4329]},{"content":"Domain policy settings","pos":[4334,4356]},{"content":"OU policy settings","pos":[4361,4379]},{"content":"Security considerations","pos":[4384,4407]},{"content":"This section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.","pos":[4409,4603]},{"content":"Vulnerability","pos":[4609,4622]},{"content":"Any account with the <bpt id=\"p1\">**</bpt>Allow log on locally<ept id=\"p1\">**</ept> user right can log on to the console of the device.","pos":[4624,4721]},{"content":"If you do not restrict this user right to legitimate users who must log on to the console of the computer, unauthorized users could download and run malicious software to elevate their privileges.","pos":[4722,4918]},{"content":"Countermeasure","pos":[4924,4938]},{"content":"For domain controllers, assign the <bpt id=\"p1\">**</bpt>Allow log on locally<ept id=\"p1\">**</ept> user right only to the Administrators group.","pos":[4940,5044]},{"content":"For other server roles, you may choose to add Backup Operators in addition to Administrators.","pos":[5045,5138]},{"content":"For end-user computers, you should also assign this right to the Users group.","pos":[5139,5216]},{"content":"Alternatively, you can assign groups such as Account Operators, Server Operators, and Guests to the <bpt id=\"p1\">**</bpt>Deny log on locally<ept id=\"p1\">**</ept> user right.","pos":[5217,5352]},{"content":"Potential impact","pos":[5358,5374]},{"content":"If you remove these default groups, you could limit the abilities of users who are assigned to specific administrative roles in your environment.","pos":[5376,5521]},{"content":"If you have installed optional components such as ASP.NET or IIS, you may need to assign the <bpt id=\"p1\">**</bpt>Allow log on locally<ept id=\"p1\">**</ept> user right to additional accounts that are required by those components.","pos":[5522,5712]},{"content":"IIS requires that this user right be assigned to the IUSR<ph id=\"ph1\">\\_</ph><bpt id=\"p1\">*</bpt><ph id=\"ph2\">&amp;lt;</ph>ComputerName<ph id=\"ph3\">&amp;gt;</ph><ept id=\"p1\">*</ept> account.","pos":[5713,5803]},{"content":"You should confirm that delegated activities are not adversely affected by any changes that you make to the <bpt id=\"p1\">**</bpt>Allow log on locally<ept id=\"p1\">**</ept> user rights assignments.","pos":[5804,5961]},{"content":"Related topics","pos":[5966,5980]},{"content":"User Rights Assignment","pos":[5984,6006]}],"content":"---\ntitle: Allow log on locally (Windows 10)\ndescription: Describes the best practices, location, values, policy management, and security considerations for the Allow log on locally security policy setting.\nms.assetid: d9e5e1f3-3bff-4da7-a9a2-4bb3e0c79055\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Allow log on locally\n\n**Applies to**\n-   Windows 10\n\nDescribes the best practices, location, values, policy management, and security considerations for the **Allow log on locally** security policy setting.\n\n## Reference\n\nThis policy setting determines which users can start an interactive session on the device. Users must have this user right to log on over a Remote Desktop Services session that is running on a Windows-based member device or domain controller.\n> **Note:**  Users who do not have this right are still able to start a remote interactive session on the device if they have the **Allow logon through Remote Desktop Services** right.\n \nConstant: SeInteractiveLogonRight\n\n### Possible values\n\n-   User-defined list of accounts\n-   Not Defined\n\nBy default, the members of the following groups have this right on workstations and servers:\n\n-   Administrators\n-   Backup Operators\n-   Users\n\nBy default, the members of the following groups have this right on domain controllers:\n\n-   Account Operators\n-   Administrators\n-   Backup Operators\n-   Print Operators\n-   Server Operators\n\n### Best practices\n\n1.  Restrict this user right to legitimate users who must log on to the console of the device.\n2.  If you selectively remove default groups, you can limit the abilities of users who are assigned to specific administrative roles in your organization.\n\n### Location\n\nComputer Configuration\\\\Windows Settings\\\\Security Settings\\\\Local Policies\\\\User Rights Assignment\n\n### Default values\n\nThe following table lists the actual and effective default policy values for the most recent supported versions of Windows. Default values are also listed on the policyâ€™s property page.\n\n| Server type or GPO | Default value |\n| - | - |\n| Default Domain Policy| Not Defined |\n| Default Domain Controller Policy | Account Operators<br>Administrators<br>Backup Operators<br>Print Operators<br>Server Operators |\n| Stand-Alone Server Default Settings| Administrators<br>Backup Operators<br>Users |\n| Domain Controller Effective Default Settings | Account Operators<br>Administrators<br>Backup Operators<br>Print Operators<br>Server Operators |\n| Member Server Effective Default Settings | Administrators<br>Backup Operators<br>Users |\n| Client Computer Effective Default Settings | Administrators<br>Backup Operators<br>Users |\n \n## Policy management\n\nRestarting the device is not required to implement this change.\n\nAny change to the user rights assignment for an account becomes effective the next time the owner of the account logs on.\n\nModifying this setting might affect compatibility with clients, services, and applications. Use caution when removing service accounts that are used by components and by programs on member devices and on domain controllers in the domain from the default domain controller's policy. Also use caution when removing users or security groups that log on to the console of member devices in the domain, or removing service accounts that are defined in the local Security Accounts Manager (SAM) database of member devices or of workgroup devices.\nIf you want to grant a user account the ability to log on locally to a domain controller, you must make that user a member of a group that already has the **Allowed logon locally** system right or grant the right to that user account.\nThe domain controllers in the domain share the Default Domain Controllers Group Policy Object (GPO). When you grant an account the **Allow logon locally** right, you are allowing that account to log on locally to all domain controllers in the domain.\nIf the Users group is listed in the **Allow log on locally** setting for a GPO, all domain users can log on locally. The Users built-in group contains Domain Users as a member.\n\n### Group Policy\n\nGroup Policy settings are applied through GPOs in the following order, which will overwrite settings on the local computer at the next Group Policy update:\n\n1.  Local policy settings\n2.  Site policy settings\n3.  Domain policy settings\n4.  OU policy settings\n\n## Security considerations\n\nThis section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.\n\n### Vulnerability\n\nAny account with the **Allow log on locally** user right can log on to the console of the device. If you do not restrict this user right to legitimate users who must log on to the console of the computer, unauthorized users could download and run malicious software to elevate their privileges.\n\n### Countermeasure\n\nFor domain controllers, assign the **Allow log on locally** user right only to the Administrators group. For other server roles, you may choose to add Backup Operators in addition to Administrators. For end-user computers, you should also assign this right to the Users group.\nAlternatively, you can assign groups such as Account Operators, Server Operators, and Guests to the **Deny log on locally** user right.\n\n### Potential impact\n\nIf you remove these default groups, you could limit the abilities of users who are assigned to specific administrative roles in your environment. If you have installed optional components such as ASP.NET or IIS, you may need to assign the **Allow log on locally** user right to additional accounts that are required by those components. IIS requires that this user right be assigned to the IUSR\\_*&lt;ComputerName&gt;* account. You should confirm that delegated activities are not adversely affected by any changes that you make to the **Allow log on locally** user rights assignments.\n\n## Related topics\n- [User Rights Assignment](user-rights-assignment.md)\n \n \n"}