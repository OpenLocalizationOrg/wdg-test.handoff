{"nodes":[{"content":"Deny log on through Remote Desktop Services (Windows 10)","pos":[11,67]},{"content":"Describes the best practices, location, values, policy management, and security considerations for the Deny log on through Remote Desktop Services security policy setting.","pos":[81,252]},{"content":"Deny log on through Remote Desktop Services","pos":[408,451]},{"content":"Applies to","pos":[455,465]},{"content":"Windows 10","pos":[472,482]},{"pos":[484,659],"content":"Describes the best practices, location, values, policy management, and security considerations for the <bpt id=\"p1\">**</bpt>Deny log on through Remote Desktop Services<ept id=\"p1\">**</ept> security policy setting."},{"content":"Reference","pos":[664,673]},{"content":"This policy setting determines which users are prevented from logging on to the device through a Remote Desktop connection through Remote Desktop Services.","pos":[675,830]},{"content":"It is possible for a user to establish a Remote Desktop connection to a particular server, but not be able to log on to the console of that server.","pos":[831,978]},{"content":"Constant: SeDenyRemoteInteractiveLogonRight","pos":[980,1023]},{"content":"Possible values","pos":[1029,1044]},{"content":"User-defined list of accounts","pos":[1050,1079]},{"content":"Not defined","pos":[1084,1095]},{"content":"Best practices","pos":[1101,1115]},{"content":"To control who can open a Remote Desktop connection and log on to the device, add the user account to or remove user accounts from the Remote Desktop Users group.","pos":[1121,1283]},{"content":"Location","pos":[1289,1297]},{"content":"Computer Configuration<ph id=\"ph1\">\\\\</ph>Windows Settings<ph id=\"ph2\">\\\\</ph>Security Settings<ph id=\"ph3\">\\\\</ph>Local Policies<ph id=\"ph4\">\\\\</ph>User Rights Assignment","pos":[1299,1398]},{"content":"Default values","pos":[1404,1418]},{"content":"The following table lists the actual and effective default policy values for the most recent supported versions of Windows.","pos":[1420,1543]},{"content":"Default values are also listed on the policy’s property page.","pos":[1544,1605]},{"content":"Server type or GPO","pos":[1609,1627]},{"content":"Default value","pos":[1630,1643]},{"content":"Default Domain Policy","pos":[1658,1679]},{"content":"Not defined","pos":[1682,1693]},{"content":"Default Domain Controller Policy","pos":[1698,1730]},{"content":"Not defined","pos":[1733,1744]},{"content":"Stand-Alone Server Default Settings","pos":[1749,1784]},{"content":"Not defined","pos":[1787,1798]},{"content":"Domain Controller Effective Default Settings","pos":[1803,1847]},{"content":"Not defined","pos":[1850,1861]},{"content":"Member Server Effective Default Settings","pos":[1866,1906]},{"content":"Not defined","pos":[1909,1920]},{"content":"Client Computer Effective Default Settings","pos":[1925,1967]},{"content":"Not defined","pos":[1970,1981]},{"content":"Policy management","pos":[1989,2006]},{"content":"This section describes features, tools, and guidance to help you manage this policy.","pos":[2008,2092]},{"content":"A restart of the computer is not required for this policy setting to be effective.","pos":[2094,2176]},{"content":"Any change to the user rights assignment for an account becomes effective the next time the owner of the account logs on.","pos":[2178,2299]},{"pos":[2301,2521],"content":"The <bpt id=\"p1\">**</bpt>Remote System<ept id=\"p1\">**</ept> property controls settings for Remote Desktop Services (<bpt id=\"p2\">**</bpt>Allow or prevent remote connections to the computer<ept id=\"p2\">**</ept>) and for Remote Assistance (<bpt id=\"p3\">**</bpt>Allow Remote Assistance connections to this computer<ept id=\"p3\">**</ept>)."},{"content":"Group Policy","pos":[2527,2539]},{"pos":[2541,2733],"content":"This policy setting supersedes the <bpt id=\"p1\">[</bpt>Allow log on through Remote Desktop Services<ept id=\"p1\">](allow-log-on-through-remote-desktop-services.md)</ept> policy setting if a user account is subject to both policies."},{"content":"Group Policy settings are applied in the following order.","pos":[2735,2792]},{"content":"They overwrite settings on the local device at the next Group Policy update.","pos":[2793,2869]},{"content":"Local policy settings","pos":[2875,2896]},{"content":"Site policy settings","pos":[2901,2921]},{"content":"Domain policy settings","pos":[2926,2948]},{"content":"Organizational unit policy settings","pos":[2953,2988]},{"content":"When a local setting is greyed out, it indicates that a GPO currently controls that setting.","pos":[2990,3082]},{"content":"Security considerations","pos":[3087,3110]},{"content":"This section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.","pos":[3112,3306]},{"content":"Vulnerability","pos":[3312,3325]},{"content":"Any account with the right to log on through Remote Desktop Services could be used to log on to the remote console of the device.","pos":[3327,3456]},{"content":"If this user right is not restricted to legitimate users who need to log on to the console of the computer, malicious users might download and run software that elevates their user rights.","pos":[3457,3645]},{"content":"Countermeasure","pos":[3651,3665]},{"content":"Assign the <bpt id=\"p1\">**</bpt>Deny log on through Remote Desktop Services<ept id=\"p1\">**</ept> user right to the built-in local guest account and all service accounts.","pos":[3667,3798]},{"content":"If you have installed optional components, such as ASP.NET, you may want to assign this user right to additional accounts that are required by those components.","pos":[3799,3959]},{"content":"Potential impact","pos":[3965,3981]},{"content":"If you assign the <bpt id=\"p1\">**</bpt>Deny log on through Remote Desktop Services<ept id=\"p1\">**</ept> user right to other groups, you could limit the abilities of users who are assigned to specific administrative roles in your environment.","pos":[3983,4186]},{"content":"Accounts that have this user right cannot connect to the device through Remote Desktop Services or Remote Assistance.","pos":[4187,4304]},{"content":"You should confirm that delegated tasks are not negatively affected.","pos":[4305,4373]},{"content":"Related topics","pos":[4378,4392]},{"content":"User Rights Assignment","pos":[4397,4419]}],"content":"---\ntitle: Deny log on through Remote Desktop Services (Windows 10)\ndescription: Describes the best practices, location, values, policy management, and security considerations for the Deny log on through Remote Desktop Services security policy setting.\nms.assetid: 84bbb807-287c-4acc-a094-cf0ffdcbca67\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Deny log on through Remote Desktop Services\n\n**Applies to**\n-   Windows 10\n\nDescribes the best practices, location, values, policy management, and security considerations for the **Deny log on through Remote Desktop Services** security policy setting.\n\n## Reference\n\nThis policy setting determines which users are prevented from logging on to the device through a Remote Desktop connection through Remote Desktop Services. It is possible for a user to establish a Remote Desktop connection to a particular server, but not be able to log on to the console of that server.\n\nConstant: SeDenyRemoteInteractiveLogonRight\n\n### Possible values\n\n-   User-defined list of accounts\n-   Not defined\n\n### Best practices\n\n-   To control who can open a Remote Desktop connection and log on to the device, add the user account to or remove user accounts from the Remote Desktop Users group.\n\n### Location\n\nComputer Configuration\\\\Windows Settings\\\\Security Settings\\\\Local Policies\\\\User Rights Assignment\n\n### Default values\n\nThe following table lists the actual and effective default policy values for the most recent supported versions of Windows. Default values are also listed on the policy’s property page.\n\n| Server type or GPO | Default value |\n| - | - |\n| Default Domain Policy | Not defined |\n| Default Domain Controller Policy | Not defined| \n| Stand-Alone Server Default Settings | Not defined| \n| Domain Controller Effective Default Settings | Not defined| \n| Member Server Effective Default Settings | Not defined| \n| Client Computer Effective Default Settings | Not defined| \n \n## Policy management\n\nThis section describes features, tools, and guidance to help you manage this policy.\n\nA restart of the computer is not required for this policy setting to be effective.\n\nAny change to the user rights assignment for an account becomes effective the next time the owner of the account logs on.\n\nThe **Remote System** property controls settings for Remote Desktop Services (**Allow or prevent remote connections to the computer**) and for Remote Assistance (**Allow Remote Assistance connections to this computer**).\n\n### Group Policy\n\nThis policy setting supersedes the [Allow log on through Remote Desktop Services](allow-log-on-through-remote-desktop-services.md) policy setting if a user account is subject to both policies.\n\nGroup Policy settings are applied in the following order. They overwrite settings on the local device at the next Group Policy update.\n\n1.  Local policy settings\n2.  Site policy settings\n3.  Domain policy settings\n4.  Organizational unit policy settings\n\nWhen a local setting is greyed out, it indicates that a GPO currently controls that setting.\n\n## Security considerations\n\nThis section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.\n\n### Vulnerability\n\nAny account with the right to log on through Remote Desktop Services could be used to log on to the remote console of the device. If this user right is not restricted to legitimate users who need to log on to the console of the computer, malicious users might download and run software that elevates their user rights.\n\n### Countermeasure\n\nAssign the **Deny log on through Remote Desktop Services** user right to the built-in local guest account and all service accounts. If you have installed optional components, such as ASP.NET, you may want to assign this user right to additional accounts that are required by those components.\n\n### Potential impact\n\nIf you assign the **Deny log on through Remote Desktop Services** user right to other groups, you could limit the abilities of users who are assigned to specific administrative roles in your environment. Accounts that have this user right cannot connect to the device through Remote Desktop Services or Remote Assistance. You should confirm that delegated tasks are not negatively affected.\n\n## Related topics\n\n- [User Rights Assignment](user-rights-assignment.md)\n"}