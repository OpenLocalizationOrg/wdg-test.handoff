{"nodes":[{"content":"Troubleshooting ACT Database Issues (Windows 10)","pos":[11,59]},{"content":"The following solutions may help you resolve issues that are related to your Microsoft® SQL Server® database for the Application Compatibility Toolkit (ACT).","pos":[73,230]},{"content":"Troubleshooting ACT Database Issues","pos":[379,414]},{"content":"Applies to","pos":[419,429]},{"content":"Windows 10","pos":[437,447]},{"content":"Windows 8.1","pos":[452,463]},{"content":"Windows 8","pos":[468,477]},{"content":"Windows 7","pos":[482,491]},{"content":"Windows Server 2012","pos":[496,515]},{"content":"Windows Server 2008 R2","pos":[520,542]},{"content":"The following solutions may help you resolve issues that are related to your Microsoft® SQL Server® database for the Application Compatibility Toolkit (ACT).","pos":[544,701]},{"pos":[703,817],"content":"For information about how to set up the database, see <bpt id=\"p1\">[</bpt>ACT Database Configuration<ept id=\"p1\">](act-database-configuration.md)</ept>."},{"content":"Connecting to a SQL Server Database","pos":[822,857]},{"content":"When you attempt to connect to a SQL Server database, you may receive the following error message:","pos":[860,958]},{"content":"The SQL Server you entered either does not exist or you do not have the required credentials for access.","pos":[960,1064]},{"content":"This error message indicates that the connection to the database is not valid.","pos":[1066,1144]},{"content":"To investigate this error, do the following:","pos":[1145,1189]},{"content":"Verify that the SQL Server database to which you are connecting is a valid database.","pos":[1195,1279]},{"content":"Verify that you have read and write permissions to the database.","pos":[1285,1349]},{"content":"If you do not have read and write permissions, contact your SQL Server administrator.","pos":[1350,1435]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Adding a Member to a SQL Server Database Role<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=64170)</ept>.","pos":[1436,1558]},{"content":"If you have read and write permissions to the database but cannot connect to it, you may be able to change the settings for your instance of SQL Server to resolve the issue.","pos":[1560,1733]},{"content":"Namely, you can enable TCP/IP and firewall exceptions.","pos":[1734,1788]},{"content":"To enable TCP/IP and firewall exceptions for your instance of SQL Server","pos":[1792,1864]},{"pos":[1872,1967],"content":"In a <bpt id=\"p1\">**</bpt>Command Prompt<ept id=\"p1\">**</ept> window, type the following command to stop your instance of SQL Server."},{"content":"In the preceding command, <bpt id=\"p1\">*</bpt>MSSQLSERVER<ept id=\"p1\">*</ept> is the name of the instance of SQL Server.","pos":[2029,2111]},{"content":"For SQL Server, the default name is MSSQLSERVER.","pos":[2112,2160]},{"content":"For Microsoft SQL Server Express, the default name is MSSQL$SQLEXPRESS.","pos":[2161,2232]},{"content":"Enable TCP/IP for your instance of SQL Server:","pos":[2238,2284]},{"pos":[2294,2332],"content":"In the <bpt id=\"p1\">**</bpt>Command Prompt<ept id=\"p1\">**</ept> window, type"},{"pos":[2365,2497],"content":"In SQL Server Configuration Manager, expand <bpt id=\"p1\">**</bpt>SQL Server 2005 Network Configuration<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Protocols for MSSQLSERVER<ept id=\"p2\">**</ept>."},{"pos":[2507,2557],"content":"Right-click <bpt id=\"p1\">**</bpt>TCP/IP<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Enable<ept id=\"p2\">**</ept>."},{"content":"Add firewall port exceptions for your instance of SQL Server:","pos":[2563,2624]},{"pos":[2634,2672],"content":"In the <bpt id=\"p1\">**</bpt>Command Prompt<ept id=\"p1\">**</ept> window, type"},{"pos":[2697,2786],"content":"In the Windows® Firewall tool, click the <bpt id=\"p1\">**</bpt>Exceptions<ept id=\"p1\">**</ept> tab, and then click <bpt id=\"p2\">**</bpt>Add Port<ept id=\"p2\">**</ept>."},{"pos":[2796,2918],"content":"Add a firewall exception for TCP port 1433 (SQL Server) and for UDP port 1434 (SQL Server Browser), and then click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>."},{"pos":[2928,3400],"content":"**Note**  \nSQL Server Browser is the service that receives incoming SQL Server requests so that you can access the SQL Server Express database from a remote computer. By default, this service is disabled, which means that you can only access the database locally. If Application Compatibility Manager (ACM) or the ACT Log Processing Service is not installed on the same computer as the database, you must use the Services tool to manually start SQL Server Browser.","leadings":["","        "],"nodes":[{"content":"Note","pos":[2,6]},{"content":"SQL Server Browser is the service that receives incoming SQL Server requests so that you can access the SQL Server Express database from a remote computer. By default, this service is disabled, which means that you can only access the database locally. If Application Compatibility Manager (ACM) or the ACT Log Processing Service is not installed on the same computer as the database, you must use the Services tool to manually start SQL Server Browser.","pos":[11,464],"nodes":[{"content":"SQL Server Browser is the service that receives incoming SQL Server requests so that you can access the SQL Server Express database from a remote computer.","pos":[0,155]},{"content":"By default, this service is disabled, which means that you can only access the database locally.","pos":[156,252]},{"content":"If Application Compatibility Manager (ACM) or the ACT Log Processing Service is not installed on the same computer as the database, you must use the Services tool to manually start SQL Server Browser.","pos":[253,453]}]}]},{"pos":[3417,3568],"content":"In the <bpt id=\"p1\">**</bpt>Command Prompt<ept id=\"p1\">**</ept> window, type <ph id=\"ph1\">`net start &lt;MSSQLSERVER&gt;`</ph> to start your instance of SQL Server, where <bpt id=\"p2\">*</bpt>MSSQLSERVER<ept id=\"p2\">*</ept> is the name of the instance."},{"pos":[3574,3664],"content":"Type <ph id=\"ph1\">`sc config SQLBrowser start= auto`</ph> to change the configuration of SQL Server Browser."},{"pos":[3670,3726],"content":"Type <ph id=\"ph1\">`net start SQLBrowser`</ph> to start SQL Server Browser."},{"content":"Verifying SQL Server Version","pos":[3731,3759]},{"content":"If you attempt to connect to a SQL Server version that is not valid for ACT, you may receive the following error message:","pos":[3762,3883]},{"content":"The SQL Server you are trying to connect to is not a supported version.","pos":[3885,3956]},{"content":"Please check the Help documentation to find out about the supported versions of the SQL Server.","pos":[3957,4052]},{"content":"To investigate this error, verify that ACT supports your version of SQL Server or SQL Server Express.","pos":[4054,4155]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Software Requirements for ACT<ept id=\"p1\">](software-requirements-for-act.md)</ept>.","pos":[4156,4248]},{"content":"Creating an ACT Database","pos":[4253,4277]},{"content":"You cannot create an ACT database by using ACM if you do not have database-creation permissions for the instance of SQL Server.","pos":[4280,4407]},{"content":"To create the database, add the required permissions to the user account and then use ACM to create it.","pos":[4408,4511]},{"content":"Alternatively, ask a SQL Server administrator to create the database.","pos":[4512,4581]},{"content":"To grant database-creation permissions to a user account","pos":[4585,4641]},{"pos":[4649,4768],"content":"In SQL Server Management Studio, expand the <bpt id=\"p1\">**</bpt>Security<ept id=\"p1\">**</ept> folder, right-click <bpt id=\"p2\">**</bpt>Logins<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>New Logins<ept id=\"p3\">**</ept>."},{"pos":[4774,4878],"content":"On the <bpt id=\"p1\">**</bpt>General<ept id=\"p1\">**</ept> page, type the name of the user account that you will use to create the ACT database."},{"pos":[4884,4907],"content":"Click <bpt id=\"p1\">**</bpt>Server Roles<ept id=\"p1\">**</ept>."},{"pos":[4913,5005],"content":"Select the <bpt id=\"p1\">**</bpt>sysadmin<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>dbcreator<ept id=\"p2\">**</ept> check box, depending on your organization's policy."},{"content":"To create an ACT database as a SQL Server administrator","pos":[5009,5064]},{"content":"Use SQL Server Management Studio to open and run the CreateDB.sql script against your instance of SQL Server.","pos":[5072,5181]},{"content":"For information about the location of the CreateDB.sql file, see <bpt id=\"p1\">[</bpt>ACT Database Configuration<ept id=\"p1\">](act-database-configuration.md)</ept>.","pos":[5182,5307]},{"content":"or -","pos":[5315,5319]},{"pos":[5325,5363],"content":"Use the OSQL tool, and run the command"},{"pos":[5411,5531],"content":"In ACM, in the <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept> dialog box, update the <bpt id=\"p2\">**</bpt>Database<ept id=\"p2\">**</ept> box with the information for the newly created database."},{"content":"To use ACM with the ACT database, the user account must have read and write permissions to the database.","pos":[5537,5641]},{"content":"Granting ACT Database Permissions for the ACT Log Processing Service","pos":[5646,5714]},{"content":"The ACT Log Processing Service requires read and write access to the ACT database.","pos":[5717,5799]},{"content":"To grant permissions to the ACT database","pos":[5803,5843]},{"pos":[5851,5969],"content":"In SQL Server Management Studio, expand the <bpt id=\"p1\">**</bpt>Security<ept id=\"p1\">**</ept> folder, right-click <bpt id=\"p2\">**</bpt>Logins<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>New Login<ept id=\"p3\">**</ept>."},{"pos":[5975,6034],"content":"Complete the following information on the <bpt id=\"p1\">**</bpt>General<ept id=\"p1\">**</ept> page:"},{"content":"<bpt id=\"p1\">**</bpt>Login name<ept id=\"p1\">**</ept>.","pos":[6044,6059]},{"content":"Type the name of the account that requires permissions.","pos":[6060,6115]},{"content":"If you are using the Local System account for the ACT Log Processing Service, provide access to the <bpt id=\"p1\">*</bpt><ph id=\"ph1\">&amp;lt;</ph>domain<ph id=\"ph2\">&amp;gt;</ph><ept id=\"p1\">*</ept><ph id=\"ph3\">\\\\</ph><bpt id=\"p2\">*</bpt><ph id=\"ph4\">&amp;lt;</ph>computer<ph id=\"ph5\">\\_</ph>name<ph id=\"ph6\">&amp;gt;</ph><ept id=\"p2\">*</ept>$ account, where <bpt id=\"p3\">*</bpt><ph id=\"ph7\">&amp;lt;</ph>computer<ph id=\"ph8\">\\_</ph>name<ph id=\"ph9\">&amp;gt;</ph><ept id=\"p3\">*</ept> is the name of the computer that is running the ACT Log Processing Service.","pos":[6116,6375]},{"content":"<bpt id=\"p1\">**</bpt>Default database<ept id=\"p1\">**</ept>.","pos":[6385,6406]},{"content":"Select the ACT database to which your user account requires permissions.","pos":[6407,6479]},{"pos":[6485,6508],"content":"Click <bpt id=\"p1\">**</bpt>User Mapping<ept id=\"p1\">**</ept>."},{"content":"Select the check box next to your ACT database.","pos":[6514,6561]},{"pos":[6567,6655],"content":"Select the <bpt id=\"p1\">**</bpt>db<ph id=\"ph1\">\\_</ph>datareader<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>db<ph id=\"ph2\">\\_</ph>datawriter<ept id=\"p2\">**</ept> check boxes, and then click <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>."},{"pos":[6661,6896],"content":"**Important**  \nIf you continue to experience issues with the ACT Log Processing Service, even while you are using the Local System account, see [Troubleshooting Kerberos Delegation](http://go.microsoft.com/fwlink/p/?LinkId=65474).","leadings":["","    "],"nodes":[{"content":"Important","pos":[2,11]},{"content":"If you continue to experience issues with the ACT Log Processing Service, even while you are using the Local System account, see <bpt id=\"p1\">[</bpt>Troubleshooting Kerberos Delegation<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=65474)</ept>.","pos":[16,231]}]},{"content":"Related topics","pos":[6908,6922]},{"content":"ACT Database Configuration","pos":[6926,6952]},{"content":"Software Requirements for ACT","pos":[6987,7016]}],"content":"---\ntitle: Troubleshooting ACT Database Issues (Windows 10)\ndescription: The following solutions may help you resolve issues that are related to your Microsoft® SQL Server® database for the Application Compatibility Toolkit (ACT).\nms.assetid: c36ab5d8-cc82-4681-808d-3d491551b75e\nms.prod: w10\nms.mktglfcycl: plan\nms.pagetype: appcompat\nms.sitesec: library\nauthor: TrudyHa\n---\n\n# Troubleshooting ACT Database Issues\n\n\n**Applies to**\n\n-   Windows 10\n-   Windows 8.1\n-   Windows 8\n-   Windows 7\n-   Windows Server 2012\n-   Windows Server 2008 R2\n\nThe following solutions may help you resolve issues that are related to your Microsoft® SQL Server® database for the Application Compatibility Toolkit (ACT).\n\nFor information about how to set up the database, see [ACT Database Configuration](act-database-configuration.md).\n\n## Connecting to a SQL Server Database\n\n\nWhen you attempt to connect to a SQL Server database, you may receive the following error message:\n\nThe SQL Server you entered either does not exist or you do not have the required credentials for access.\n\nThis error message indicates that the connection to the database is not valid. To investigate this error, do the following:\n\n1.  Verify that the SQL Server database to which you are connecting is a valid database.\n\n2.  Verify that you have read and write permissions to the database. If you do not have read and write permissions, contact your SQL Server administrator. For more information, see [Adding a Member to a SQL Server Database Role](http://go.microsoft.com/fwlink/p/?LinkId=64170).\n\nIf you have read and write permissions to the database but cannot connect to it, you may be able to change the settings for your instance of SQL Server to resolve the issue. Namely, you can enable TCP/IP and firewall exceptions.\n\n**To enable TCP/IP and firewall exceptions for your instance of SQL Server**\n\n1.  In a **Command Prompt** window, type the following command to stop your instance of SQL Server.\n\n    ``` syntax\n    net stop \n    <MSSQLSERVER>\n    ```\n\n    In the preceding command, *MSSQLSERVER* is the name of the instance of SQL Server. For SQL Server, the default name is MSSQLSERVER. For Microsoft SQL Server Express, the default name is MSSQL$SQLEXPRESS.\n\n2.  Enable TCP/IP for your instance of SQL Server:\n\n    1.  In the **Command Prompt** window, type `SQLServerManager.msc`\n\n    2.  In SQL Server Configuration Manager, expand **SQL Server 2005 Network Configuration**, and then click **Protocols for MSSQLSERVER**.\n\n    3.  Right-click **TCP/IP**, and then click **Enable**.\n\n3.  Add firewall port exceptions for your instance of SQL Server:\n\n    1.  In the **Command Prompt** window, type `firewall.cpl`\n\n    2.  In the Windows® Firewall tool, click the **Exceptions** tab, and then click **Add Port**.\n\n    3.  Add a firewall exception for TCP port 1433 (SQL Server) and for UDP port 1434 (SQL Server Browser), and then click **OK**.\n\n        **Note**  \n        SQL Server Browser is the service that receives incoming SQL Server requests so that you can access the SQL Server Express database from a remote computer. By default, this service is disabled, which means that you can only access the database locally. If Application Compatibility Manager (ACM) or the ACT Log Processing Service is not installed on the same computer as the database, you must use the Services tool to manually start SQL Server Browser.\n\n         \n\n4.  In the **Command Prompt** window, type `net start <MSSQLSERVER>` to start your instance of SQL Server, where *MSSQLSERVER* is the name of the instance.\n\n5.  Type `sc config SQLBrowser start= auto` to change the configuration of SQL Server Browser.\n\n6.  Type `net start SQLBrowser` to start SQL Server Browser.\n\n## Verifying SQL Server Version\n\n\nIf you attempt to connect to a SQL Server version that is not valid for ACT, you may receive the following error message:\n\nThe SQL Server you are trying to connect to is not a supported version. Please check the Help documentation to find out about the supported versions of the SQL Server.\n\nTo investigate this error, verify that ACT supports your version of SQL Server or SQL Server Express. For more information, see [Software Requirements for ACT](software-requirements-for-act.md).\n\n## Creating an ACT Database\n\n\nYou cannot create an ACT database by using ACM if you do not have database-creation permissions for the instance of SQL Server. To create the database, add the required permissions to the user account and then use ACM to create it. Alternatively, ask a SQL Server administrator to create the database.\n\n**To grant database-creation permissions to a user account**\n\n1.  In SQL Server Management Studio, expand the **Security** folder, right-click **Logins**, and then click **New Logins**.\n\n2.  On the **General** page, type the name of the user account that you will use to create the ACT database.\n\n3.  Click **Server Roles**.\n\n4.  Select the **sysadmin** or **dbcreator** check box, depending on your organization's policy.\n\n**To create an ACT database as a SQL Server administrator**\n\n1.  Use SQL Server Management Studio to open and run the CreateDB.sql script against your instance of SQL Server. For information about the location of the CreateDB.sql file, see [ACT Database Configuration](act-database-configuration.md).\n\n    - or -\n\n    Use the OSQL tool, and run the command `osql -E -S <serverName> -I CreateDB.sql`\n\n2.  In ACM, in the **Settings** dialog box, update the **Database** box with the information for the newly created database.\n\n    To use ACM with the ACT database, the user account must have read and write permissions to the database.\n\n## Granting ACT Database Permissions for the ACT Log Processing Service\n\n\nThe ACT Log Processing Service requires read and write access to the ACT database.\n\n**To grant permissions to the ACT database**\n\n1.  In SQL Server Management Studio, expand the **Security** folder, right-click **Logins**, and then click **New Login**.\n\n2.  Complete the following information on the **General** page:\n\n    -   **Login name**. Type the name of the account that requires permissions. If you are using the Local System account for the ACT Log Processing Service, provide access to the *&lt;domain&gt;*\\\\*&lt;computer\\_name&gt;*$ account, where *&lt;computer\\_name&gt;* is the name of the computer that is running the ACT Log Processing Service.\n\n    -   **Default database**. Select the ACT database to which your user account requires permissions.\n\n3.  Click **User Mapping**.\n\n4.  Select the check box next to your ACT database.\n\n5.  Select the **db\\_datareader** and **db\\_datawriter** check boxes, and then click **OK**.\n\n    **Important**  \n    If you continue to experience issues with the ACT Log Processing Service, even while you are using the Local System account, see [Troubleshooting Kerberos Delegation](http://go.microsoft.com/fwlink/p/?LinkId=65474).\n\n     \n\n## Related topics\n\n\n[ACT Database Configuration](act-database-configuration.md)\n\n[Software Requirements for ACT](software-requirements-for-act.md)\n\n \n\n \n\n\n\n\n\n"}