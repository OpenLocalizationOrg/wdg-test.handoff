{"nodes":[{"content":"SFTTRAY Command Reference","pos":[11,36]},{"content":"SFTTRAY Command Reference","pos":[50,75]},{"content":"SFTTRAY Command Reference","pos":[249,274]},{"content":"The Microsoft Application Virtualization (App-V) Client Tray application, sfttray.exe, is the main user interface element of the App-V Client that users will interact with during normal use.","pos":[277,467]},{"content":"This program controls the streaming and starting of all virtual applications and is accessed by right-clicking the icon displayed in the notification area to display the menu of client functions.","pos":[468,663]},{"content":"The menu enables the user to load applications, start a publishing refresh, cancel a request, or change the client to offline mode.","pos":[664,795]},{"content":"The user can also close the Application Virtualization Client Tray application and all active applications by clicking <bpt id=\"p1\">**</bpt>Exit<ept id=\"p1\">**</ept>.","pos":[796,924]},{"content":"By default, the icon is displayed whenever a virtual application is started, although you can control this behavior by using SFTTRAY commands.","pos":[926,1068]},{"content":"The Application Virtualization Client Tray application also displays a progress bar for each application that is started, as well as status messages about active applications.","pos":[1069,1244]},{"content":"Clicking the progress bar displays a message that allows you to cancel the loading or starting of an application.","pos":[1245,1358]},{"content":"SFTTRAY Commands","pos":[1363,1379]},{"content":"The list of commands and command-line switches can be displayed by running the following command from a command window.","pos":[1382,1501]},{"content":"Note","pos":[1505,1509]},{"content":"There is only one Application Virtualization Client Tray instance for each user context, so if you start a new SFTTRAY command, it will be passed to the program that is already running.","pos":[1514,1699]},{"content":"Command Usage","pos":[1731,1744]},{"content":"Command-Line Switches","pos":[2169,2190]},{"content":"The SFTTRAY command-line switches are described in the following table.","pos":[2192,2263]},{"content":"Switch","pos":[2381,2387]},{"content":"Description","pos":[2410,2421]},{"content":"/HIDE","pos":[2487,2492]},{"content":"Hides the SFTTRAY icon in the Windows notification area.","pos":[2522,2578]},{"content":"/SHOW","pos":[2632,2637]},{"content":"Displays the SFTTRAY icon in the Windows notification area.","pos":[2667,2726]},{"content":"/QUIET","pos":[2779,2785]},{"content":"Supports unattended usage by preventing errors from displaying message boxes that require user acknowledgement.","pos":[2815,2926]},{"content":"/EXE <ph id=\"ph1\">&amp;lt;</ph>alternate-exe","pos":[2980,3002]},{"content":"Used with /LAUNCH to specify that an executable program is to be started in the virtual environment when a virtual application is started in place of the target file specified in the OSD.","pos":[3036,3223]},{"content":"Note","pos":[3256,3260]},{"content":"For example, use “SFTTRAY.EXE /EXE REGEDIT.EXE /LAUNCH <ph id=\"ph1\">&amp;lt;</ph>app<ph id=\"ph2\">&amp;gt;</ph>” to enable you to examine the registry of the virtual environment in which the application is running.","pos":[3275,3444]},{"content":"/LAUNCH <ph id=\"ph1\">&amp;lt;</ph>app<ph id=\"ph2\">&amp;gt;</ph> [<ph id=\"ph3\">&amp;lt;</ph>args<ph id=\"ph4\">&amp;gt;</ph>]","pos":[3519,3553]},{"content":"Starts a virtual application.","pos":[3583,3612]},{"content":"Specify the name and version of an application or the path to an OSD file.","pos":[3613,3687]},{"content":"Optionally, command-line arguments can be passed to the virtual application.","pos":[3688,3764]},{"content":"Note","pos":[3797,3801]},{"content":"Use the command “SFTMIME.EXE /QUERY OBJ:APP /SHORT” to obtain a list of the names and versions of available virtual applications.","pos":[3816,3945]},{"content":"/LOAD","pos":[4021,4026]},{"content":"Loads or imports a virtual application.","pos":[4056,4095]},{"content":"/LOADALL","pos":[4148,4156]},{"content":"Loads all applications into cache.","pos":[4186,4220]},{"content":"/REFRESHALL","pos":[4274,4285]},{"content":"Starts a publishing refresh for all applications.","pos":[4315,4364]},{"content":"/LAUNCHRESULT <ph id=\"ph1\">&amp;lt;</ph>UNIQUE ID","pos":[4417,4444]},{"content":"Returns the launch result code to the process that launches sfttray.exe by using a global event and a memory mapped file that are based on the specified root name for the UNIQUE ID.¹","pos":[4478,4660]},{"content":"/SFTFILE <ph id=\"ph1\">&amp;lt;</ph>sft","pos":[4714,4730]},{"content":"Optional switch used with /LOAD to specify the path to the application’s SFT file.","pos":[4764,4846]},{"content":"If specified, the application is imported rather than loaded.","pos":[4847,4908]},{"content":"/EXIT","pos":[4961,4966]},{"content":"Closes the SFTTRAY program and all active virtual applications and removes the icon from the Windows notification area.","pos":[4996,5115]},{"content":"Note","pos":[5155,5159]},{"content":"¹ The <bpt id=\"p1\">*</bpt>/LAUNCHRESULT<ept id=\"p1\">*</ept> command line parameter provides a means for the process that launches sfttray.exe to specify the root name for a global event and a memory mapped file that are used to return the launch result code to the process.","pos":[5164,5399]},{"content":"The unique identifier name should start with “SFT-” to prevent the event name from getting virtualized when the launching process is invoked within a virtual environment.","pos":[5400,5570]},{"content":"The memory mapped region will be 64 bits in size.","pos":[5571,5620]},{"content":"To use this parameter, the launching process creates an event with the name “<ph id=\"ph1\">&amp;lt;</ph>UNIQUE ID<ph id=\"ph2\">&amp;gt;</ph>-result<ph id=\"ph3\">\\_</ph>event”, a memory mapped file with the name “<ph id=\"ph4\">&amp;lt;</ph>UNIQUE ID<ph id=\"ph5\">&amp;gt;</ph>-result<ph id=\"ph6\">\\_</ph>value”, and optionally an event with the name “<ph id=\"ph7\">&amp;lt;</ph>UNIQUE ID<ph id=\"ph8\">&amp;gt;</ph>-shutdown<ph id=\"ph9\">\\_</ph>event”, and then the launching process launches sfttray.exe and waits on the event to be signaled.","pos":[5622,5968]},{"content":"After the event “<ph id=\"ph1\">&amp;lt;</ph>UNIQUE ID<ph id=\"ph2\">&amp;gt;</ph>-result<ph id=\"ph3\">\\_</ph>event” is signaled, the launching process retrieves the 64-bit return code from the memory mapped region.","pos":[5969,6117]},{"content":"If the optional event “<ph id=\"ph1\">&amp;lt;</ph>UNIQUE ID<ph id=\"ph2\">&amp;gt;</ph>-shutdown<ph id=\"ph3\">\\_</ph>event” exists when the virtual application exits, sfttray.exe opens and signals the event.","pos":[6119,6260]},{"content":"The launching process waits on this shutdown event if it needs to determine when the virtual application exits.","pos":[6261,6372]}],"content":"---\ntitle: SFTTRAY Command Reference\ndescription: SFTTRAY Command Reference\nauthor: jamiejdt\nms.assetid: 6fa3a939-b047-4d6c-bd1d-dfb93e065eb2\nms.pagetype: mdop, appcompat, virtualization\nms.mktglfcycl: deploy\nms.sitesec: library\nms.prod: w8\n---\n\n\n# SFTTRAY Command Reference\n\n\nThe Microsoft Application Virtualization (App-V) Client Tray application, sfttray.exe, is the main user interface element of the App-V Client that users will interact with during normal use. This program controls the streaming and starting of all virtual applications and is accessed by right-clicking the icon displayed in the notification area to display the menu of client functions. The menu enables the user to load applications, start a publishing refresh, cancel a request, or change the client to offline mode. The user can also close the Application Virtualization Client Tray application and all active applications by clicking **Exit**.\n\nBy default, the icon is displayed whenever a virtual application is started, although you can control this behavior by using SFTTRAY commands. The Application Virtualization Client Tray application also displays a progress bar for each application that is started, as well as status messages about active applications. Clicking the progress bar displays a message that allows you to cancel the loading or starting of an application.\n\n## SFTTRAY Commands\n\n\nThe list of commands and command-line switches can be displayed by running the following command from a command window.\n\n**Note**  \nThere is only one Application Virtualization Client Tray instance for each user context, so if you start a new SFTTRAY command, it will be passed to the program that is already running.\n\n \n\n`     Sfttray.exe /?`\n\n### Command Usage\n\n`     Sfttray.exe [/HIDE | /SHOW]`\n\n`     Sfttray.exe [/HIDE | /SHOW] [/QUIET] [/EXE alternate-exe] /LAUNCH app [args]`\n\n`     Sfttray.exe [/HIDE | /SHOW] [/QUIET] /LOAD app [/SFTFILE sft]`\n\n`     Sfttray.exe [/HIDE | /SHOW] [/QUIET] /LOADALL`\n\n`     Sfttray.exe [/HIDE | /SHOW] [/QUIET] /REFRESHALL`\n\n`     Sfttray.exe [/HIDE | /SHOW] [/QUIET] /LAUNCHRESULT <UNIQUE ID>  /LAUNCH app [args]`\n\n`     Sfttray.exe /EXIT`\n\n### Command-Line Switches\n\nThe SFTTRAY command-line switches are described in the following table.\n\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th align=\"left\">Switch</th>\n<th align=\"left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td align=\"left\"><p>/HIDE</p></td>\n<td align=\"left\"><p>Hides the SFTTRAY icon in the Windows notification area.</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>/SHOW</p></td>\n<td align=\"left\"><p>Displays the SFTTRAY icon in the Windows notification area.</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p>/QUIET</p></td>\n<td align=\"left\"><p>Supports unattended usage by preventing errors from displaying message boxes that require user acknowledgement.</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>/EXE &lt;alternate-exe&gt;</p></td>\n<td align=\"left\"><p>Used with /LAUNCH to specify that an executable program is to be started in the virtual environment when a virtual application is started in place of the target file specified in the OSD.</p>\n<div class=\"alert\">\n<strong>Note</strong>  \n<p>For example, use “SFTTRAY.EXE /EXE REGEDIT.EXE /LAUNCH &lt;app&gt;” to enable you to examine the registry of the virtual environment in which the application is running.</p>\n</div>\n<div>\n \n</div></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p>/LAUNCH &lt;app&gt; [&lt;args&gt;]</p></td>\n<td align=\"left\"><p>Starts a virtual application. Specify the name and version of an application or the path to an OSD file. Optionally, command-line arguments can be passed to the virtual application.</p>\n<div class=\"alert\">\n<strong>Note</strong>  \n<p>Use the command “SFTMIME.EXE /QUERY OBJ:APP /SHORT” to obtain a list of the names and versions of available virtual applications.</p>\n</div>\n<div>\n \n</div></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>/LOAD</p></td>\n<td align=\"left\"><p>Loads or imports a virtual application.</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p>/LOADALL</p></td>\n<td align=\"left\"><p>Loads all applications into cache.</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>/REFRESHALL</p></td>\n<td align=\"left\"><p>Starts a publishing refresh for all applications.</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p>/LAUNCHRESULT &lt;UNIQUE ID&gt;</p></td>\n<td align=\"left\"><p>Returns the launch result code to the process that launches sfttray.exe by using a global event and a memory mapped file that are based on the specified root name for the UNIQUE ID.¹</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p>/SFTFILE &lt;sft&gt;</p></td>\n<td align=\"left\"><p>Optional switch used with /LOAD to specify the path to the application’s SFT file. If specified, the application is imported rather than loaded.</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p>/EXIT</p></td>\n<td align=\"left\"><p>Closes the SFTTRAY program and all active virtual applications and removes the icon from the Windows notification area.</p></td>\n</tr>\n</tbody>\n</table>\n\n \n\n**Note**  \n¹ The */LAUNCHRESULT* command line parameter provides a means for the process that launches sfttray.exe to specify the root name for a global event and a memory mapped file that are used to return the launch result code to the process. The unique identifier name should start with “SFT-” to prevent the event name from getting virtualized when the launching process is invoked within a virtual environment. The memory mapped region will be 64 bits in size.\n\nTo use this parameter, the launching process creates an event with the name “&lt;UNIQUE ID&gt;-result\\_event”, a memory mapped file with the name “&lt;UNIQUE ID&gt;-result\\_value”, and optionally an event with the name “&lt;UNIQUE ID&gt;-shutdown\\_event”, and then the launching process launches sfttray.exe and waits on the event to be signaled. After the event “&lt;UNIQUE ID&gt;-result\\_event” is signaled, the launching process retrieves the 64-bit return code from the memory mapped region.\n\nIf the optional event “&lt;UNIQUE ID&gt;-shutdown\\_event” exists when the virtual application exits, sfttray.exe opens and signals the event. The launching process waits on this shutdown event if it needs to determine when the virtual application exits.\n\n \n\n \n\n \n\n\n\n\n\n"}