{"nodes":[{"content":"Network security Restrict NTLM Outgoing NTLM traffic to remote servers (Windows 10)","pos":[11,94]},{"content":"Describes the best practices, location, values, management aspects, and security considerations for the Network Security Restrict NTLM Outgoing NTLM traffic to remote servers security policy setting.","pos":[108,307]},{"content":"Network security: Restrict NTLM: Outgoing NTLM traffic to remote servers","pos":[463,535]},{"content":"Applies to","pos":[539,549]},{"content":"Windows 10","pos":[556,566]},{"pos":[568,773],"content":"Describes the best practices, location, values, management aspects, and security considerations for the <bpt id=\"p1\">**</bpt>Network Security: Restrict NTLM: Outgoing NTLM traffic to remote servers<ept id=\"p1\">**</ept> security policy setting."},{"content":"Reference","pos":[778,787]},{"pos":[789,1058],"content":"The <bpt id=\"p1\">**</bpt>Network Security: Restrict NTLM: Outgoing NTLM traffic to remote servers<ept id=\"p1\">**</ept> policy setting allows you to deny or audit outgoing NTLM traffic from a computer running Windows 7, Windows Server 2008, or later to any remote server running the Windows operating system."},{"pos":[1061,1180],"content":"<bpt id=\"p1\">**</bpt>Warning:<ept id=\"p1\">**</ept>  Modifying this policy setting may affect compatibility with client computers, services, and applications."},{"pos":[1232,1247],"content":"Possible values"},{"content":"Allow all","pos":[1255,1264]},{"content":"The device can authenticate identities to a remote server by using NTLM authentication because no restrictions exist.","pos":[1272,1389]},{"content":"Audit all","pos":[1397,1406]},{"content":"The device that sends the NTLM authentication request to a remote server logs an event for each request.","pos":[1414,1518]},{"content":"This allows you to identify those servers that receive NTLM authentication requests from the client device","pos":[1519,1625]},{"content":"Deny all","pos":[1633,1641]},{"content":"The device cannot authenticate any identities to a remote server by using NTLM authentication.","pos":[1649,1743]},{"content":"You can use the <bpt id=\"p1\">[</bpt>Network security: Restrict NTLM: Add remote server exceptions for NTLM authentication<ept id=\"p1\">](network-security-restrict-ntlm-add-remote-server-exceptions-for-ntlm-authentication.md)</ept> policy setting to define a list of remote servers to which client devices are allowed to use NTLM authentication while denying others.","pos":[1744,2070]},{"content":"This setting will also log an event on the device that is making the authentication request.","pos":[2071,2163]},{"content":"Not defined","pos":[2169,2180]},{"pos":[2186,2308],"content":"This is the same as <bpt id=\"p1\">**</bpt>Allow all<ept id=\"p1\">**</ept>, and the device will allow all NTLM authentication requests when the policy is deployed."},{"content":"Best practices","pos":[2314,2328]},{"content":"If you select <bpt id=\"p1\">**</bpt>Deny all<ept id=\"p1\">**</ept>, the client device cannot authenticate identities to a remote server by using NTLM authentication.","pos":[2330,2455]},{"content":"First, select <bpt id=\"p1\">**</bpt>Audit all<ept id=\"p1\">**</ept> and then review the operational event log to understand which servers are involved in these authentication attempts.","pos":[2456,2600]},{"content":"You can then add those server names to a server exception list by using the <bpt id=\"p1\">[</bpt>Network security: Restrict NTLM: Add remote server exceptions for NTLM authentication<ept id=\"p1\">](network-security-restrict-ntlm-add-remote-server-exceptions-for-ntlm-authentication.md)</ept> policy setting.","pos":[2601,2868]},{"content":"Location","pos":[2874,2882]},{"content":"Computer Configuration<ph id=\"ph1\">\\\\</ph>Windows Settings<ph id=\"ph2\">\\\\</ph>Security Settings<ph id=\"ph3\">\\\\</ph>Local Policies<ph id=\"ph4\">\\\\</ph>Security Options","pos":[2884,2977]},{"content":"Default values","pos":[2983,2997]},{"content":"Server type or GPO","pos":[3001,3019]},{"content":"Default value","pos":[3022,3035]},{"content":"Default domain policy","pos":[3050,3071]},{"content":"Not defined","pos":[3073,3084]},{"content":"Default domain controller policy","pos":[3089,3121]},{"content":"Not defined","pos":[3124,3135]},{"content":"Stand-alone server default settings","pos":[3140,3175]},{"content":"Not defined","pos":[3178,3189]},{"content":"Domain controller effective default settings","pos":[3194,3238]},{"content":"Not defined","pos":[3241,3252]},{"content":"Member server effective default settings","pos":[3257,3297]},{"content":"Not defined","pos":[3300,3311]},{"content":"Client computer effective default settings","pos":[3316,3358]},{"content":"Not defined","pos":[3361,3372]},{"content":"Policy management","pos":[3380,3397]},{"content":"This section describes different features and tools available to help you manage this policy.","pos":[3399,3492]},{"content":"Restart requirement","pos":[3498,3517]},{"content":"None.","pos":[3519,3524]},{"content":"Changes to this policy become effective without a restart when saved locally or distributed through Group Policy.","pos":[3525,3638]},{"content":"Group Policy","pos":[3644,3656]},{"content":"Setting and deploying this policy using Group Policy takes precedence over the setting on the local device.","pos":[3658,3765]},{"content":"If the Group Policy is set to <bpt id=\"p1\">**</bpt>Not Configured<ept id=\"p1\">**</ept>, local settings will apply.","pos":[3766,3842]},{"content":"Auditing","pos":[3848,3856]},{"content":"View the operational event log to see if this policy is functioning as intended.","pos":[3858,3938]},{"content":"Audit and block events are recorded on this computer in the operational event log located in <bpt id=\"p1\">**</bpt>Applications and Services Log<ph id=\"ph1\">\\\\</ph>Microsoft<ph id=\"ph2\">\\\\</ph>Windows<ph id=\"ph3\">\\\\</ph>NTLM<ept id=\"p1\">**</ept>.","pos":[3939,4092]},{"content":"There are no security audit event policies that can be configured to view event output from this policy.","pos":[4094,4198]},{"content":"Security considerations","pos":[4203,4226]},{"content":"This section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.","pos":[4228,4422]},{"content":"NTLM and NTLMv2 authentication is vulnerable to a variety of malicious attacks, including SMB replay, man-in-the-middle attacks, and brute force attacks.","pos":[4424,4577]},{"content":"Reducing and eliminating NTLM authentication from your environment forces the Windows operating system to use more secure protocols, such as the Kerberos version 5 protocol, or different authentication mechanisms, such as smart cards.","pos":[4578,4812]},{"content":"Vulnerability","pos":[4818,4831]},{"content":"Malicious attacks on NTLM authentication traffic that result in a compromised server or domain controller can occur only if the server or domain controller handles NTLM requests.","pos":[4833,5011]},{"content":"If those requests are denied, this attack vector is eliminated.","pos":[5012,5075]},{"content":"Countermeasure","pos":[5081,5095]},{"content":"When it has been determined that the NTLM authentication protocol should not be used within a network because you are required to use a more secure protocol such as Kerberos, then you can select from several options to restrict NTLM usage to servers.","pos":[5097,5347]},{"content":"Potential impact","pos":[5353,5369]},{"content":"If you configure this policy setting to deny all requests, numerous NTLM authentication requests to remote servers could fail, which could degrade productivity.","pos":[5371,5531]},{"content":"Before implementing this restriction through this policy setting, select <bpt id=\"p1\">**</bpt>Audit all<ept id=\"p1\">**</ept> so that you can review the log for the potential impact, perform an analysis of servers, and create an exception list of servers to exclude from this policy setting by using <bpt id=\"p2\">[</bpt>Network security: Restrict NTLM: Add remote server exceptions for NTLM authentication<ept id=\"p2\">](network-security-restrict-ntlm-add-remote-server-exceptions-for-ntlm-authentication.md)</ept> .","pos":[5532,5970]},{"content":"Related topics","pos":[5975,5989]},{"content":"Security Options","pos":[5994,6010]}],"content":"---\ntitle: Network security Restrict NTLM Outgoing NTLM traffic to remote servers (Windows 10)\ndescription: Describes the best practices, location, values, management aspects, and security considerations for the Network Security Restrict NTLM Outgoing NTLM traffic to remote servers security policy setting.\nms.assetid: 63437a90-764b-4f06-aed8-a4a26cf81bd1\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Network security: Restrict NTLM: Outgoing NTLM traffic to remote servers\n\n**Applies to**\n-   Windows 10\n\nDescribes the best practices, location, values, management aspects, and security considerations for the **Network Security: Restrict NTLM: Outgoing NTLM traffic to remote servers** security policy setting.\n\n## Reference\n\nThe **Network Security: Restrict NTLM: Outgoing NTLM traffic to remote servers** policy setting allows you to deny or audit outgoing NTLM traffic from a computer running Windows 7, Windows Server 2008, or later to any remote server running the Windows operating system.\n\n>**Warning:**  Modifying this policy setting may affect compatibility with client computers, services, and applications.\n \n### <a href=\"\" id=\"bkmk-resoutntlm-possvals\"></a>Possible values\n\n-   **Allow all**\n\n    The device can authenticate identities to a remote server by using NTLM authentication because no restrictions exist.\n\n-   **Audit all**\n\n    The device that sends the NTLM authentication request to a remote server logs an event for each request. This allows you to identify those servers that receive NTLM authentication requests from the client device\n\n-   **Deny all**\n\n    The device cannot authenticate any identities to a remote server by using NTLM authentication. You can use the [Network security: Restrict NTLM: Add remote server exceptions for NTLM authentication](network-security-restrict-ntlm-add-remote-server-exceptions-for-ntlm-authentication.md) policy setting to define a list of remote servers to which client devices are allowed to use NTLM authentication while denying others. This setting will also log an event on the device that is making the authentication request.\n\n-   Not defined\n\n    This is the same as **Allow all**, and the device will allow all NTLM authentication requests when the policy is deployed.\n\n### Best practices\n\nIf you select **Deny all**, the client device cannot authenticate identities to a remote server by using NTLM authentication. First, select **Audit all** and then review the operational event log to understand which servers are involved in these authentication attempts. You can then add those server names to a server exception list by using the [Network security: Restrict NTLM: Add remote server exceptions for NTLM authentication](network-security-restrict-ntlm-add-remote-server-exceptions-for-ntlm-authentication.md) policy setting.\n\n### Location\n\nComputer Configuration\\\\Windows Settings\\\\Security Settings\\\\Local Policies\\\\Security Options\n\n### Default values\n\n| Server type or GPO | Default value |\n| - | - |\n| Default domain policy| Not defined| \n| Default domain controller policy | Not defined| \n| Stand-alone server default settings | Not defined| \n| Domain controller effective default settings | Not defined| \n| Member server effective default settings | Not defined| \n| Client computer effective default settings | Not defined| \n \n## Policy management\n\nThis section describes different features and tools available to help you manage this policy.\n\n### Restart requirement\n\nNone. Changes to this policy become effective without a restart when saved locally or distributed through Group Policy.\n\n### Group Policy\n\nSetting and deploying this policy using Group Policy takes precedence over the setting on the local device. If the Group Policy is set to **Not Configured**, local settings will apply.\n\n### Auditing\n\nView the operational event log to see if this policy is functioning as intended. Audit and block events are recorded on this computer in the operational event log located in **Applications and Services Log\\\\Microsoft\\\\Windows\\\\NTLM**.\n\nThere are no security audit event policies that can be configured to view event output from this policy.\n\n## Security considerations\n\nThis section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.\n\nNTLM and NTLMv2 authentication is vulnerable to a variety of malicious attacks, including SMB replay, man-in-the-middle attacks, and brute force attacks. Reducing and eliminating NTLM authentication from your environment forces the Windows operating system to use more secure protocols, such as the Kerberos version 5 protocol, or different authentication mechanisms, such as smart cards.\n\n### Vulnerability\n\nMalicious attacks on NTLM authentication traffic that result in a compromised server or domain controller can occur only if the server or domain controller handles NTLM requests. If those requests are denied, this attack vector is eliminated.\n\n### Countermeasure\n\nWhen it has been determined that the NTLM authentication protocol should not be used within a network because you are required to use a more secure protocol such as Kerberos, then you can select from several options to restrict NTLM usage to servers.\n\n### Potential impact\n\nIf you configure this policy setting to deny all requests, numerous NTLM authentication requests to remote servers could fail, which could degrade productivity. Before implementing this restriction through this policy setting, select **Audit all** so that you can review the log for the potential impact, perform an analysis of servers, and create an exception list of servers to exclude from this policy setting by using [Network security: Restrict NTLM: Add remote server exceptions for NTLM authentication](network-security-restrict-ntlm-add-remote-server-exceptions-for-ntlm-authentication.md)\n.\n\n## Related topics\n\n- [Security Options](security-options.md)\n"}