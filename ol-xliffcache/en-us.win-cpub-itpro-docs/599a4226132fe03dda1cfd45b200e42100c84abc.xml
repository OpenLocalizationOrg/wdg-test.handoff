{"nodes":[{"content":"Microsoft network server Attempt S4U2Self to obtain claim information (Windows 10)","pos":[11,93]},{"content":"Describes the best practices, location, values, management, and security considerations for the Microsoft network server Attempt S4U2Self to obtain claim information security policy setting.","pos":[107,297]},{"content":"Microsoft network server: Attempt S4U2Self to obtain claim information","pos":[453,523]},{"content":"Applies to","pos":[527,537]},{"content":"Windows 10","pos":[544,554]},{"pos":[556,751],"content":"Describes the best practices, location, values, management, and security considerations for the <bpt id=\"p1\">**</bpt>Microsoft network server: Attempt S4U2Self to obtain claim information<ept id=\"p1\">**</ept> security policy setting."},{"content":"Reference","pos":[756,765]},{"content":"This security setting supports client devices running a version of Windows prior to Windows 8 that are trying to access a file share that requires user claims.","pos":[767,926]},{"content":"This setting determines whether the local file server will attempt to use Kerberos Service-for-User-to-Self (S4U2Self) functionality to obtain a network client principal’s claims from the client’s account domain.","pos":[927,1139]},{"content":"This setting should only be enabled if the file server is using user claims to control access to files, and if the file server will support client principals whose accounts might be in a domain that has client computers and domain controllers running a version of Windows prior to Windows 8 or Windows Server 2012.","pos":[1140,1455]},{"content":"When enabled, this security setting causes the Windows file server to examine the access token of an authenticated network client principal and determines if claim information is present.","pos":[1457,1644]},{"content":"If claims are not present, the file server will then use the Kerberos S4U2Self feature to attempt to contact a Windows Server 2012 domain controller in the client’s account domain and obtain a claims-enabled access token for the client principal.","pos":[1645,1891]},{"content":"A claims-enabled token might be needed to access files or folders that have claim-based access control policy applied.","pos":[1892,2010]},{"content":"If this setting is disabled, the Windows file server will not attempt to obtain a claim-enabled access token for the client principal.","pos":[2012,2146]},{"content":"Possible values","pos":[2152,2167]},{"content":"Default","pos":[2175,2182]},{"content":"The Windows file server will examine the access token of an authenticated network client principal and determine if claim information is present.","pos":[2190,2335]},{"content":"Enabled","pos":[2343,2350]},{"pos":[2358,2378],"content":"Same as <bpt id=\"p1\">**</bpt>Default<ept id=\"p1\">**</ept>."},{"content":"Disabled","pos":[2386,2394]},{"content":"Not defined","pos":[2404,2415]},{"pos":[2423,2444],"content":"Same as <bpt id=\"p1\">**</bpt>Disabled<ept id=\"p1\">**</ept>."},{"content":"Best practices","pos":[2450,2464]},{"content":"This setting should be set to <bpt id=\"p1\">**</bpt>Default<ept id=\"p1\">**</ept> so that the file server can automatically evaluate whether claims are needed for the user.","pos":[2466,2598]},{"content":"You should explicitly configure this setting to <bpt id=\"p1\">**</bpt>Enabled<ept id=\"p1\">**</ept> only if there are local file access policies that include user claims.","pos":[2599,2729]},{"content":"Location","pos":[2735,2743]},{"content":"Computer Configuration<ph id=\"ph1\">\\\\</ph>Windows Settings<ph id=\"ph2\">\\\\</ph>Security Settings<ph id=\"ph3\">\\\\</ph>Local Policies<ph id=\"ph4\">\\\\</ph>Security Options","pos":[2745,2838]},{"content":"Default values","pos":[2844,2858]},{"content":"The following table lists the actual and effective default values for this policy.","pos":[2860,2942]},{"content":"Default values are also listed on the policy’s property page.","pos":[2943,3004]},{"content":"Server type or GPO","pos":[3008,3026]},{"content":"Default value","pos":[3029,3042]},{"content":"Default Domain Policy","pos":[3057,3078]},{"content":"Not defined","pos":[3080,3091]},{"content":"Default Domain Controller Policy","pos":[3096,3128]},{"content":"Not defined","pos":[3131,3142]},{"content":"Stand-Alone Server Default Settings","pos":[3147,3182]},{"content":"Not defined","pos":[3185,3196]},{"content":"DC Effective Default Settings","pos":[3201,3230]},{"content":"Disabled","pos":[3233,3241]},{"content":"Member Server Effective Default Settings","pos":[3246,3286]},{"content":"Disabled","pos":[3289,3297]},{"content":"Client Computer Effective Default Settings","pos":[3302,3344]},{"content":"Disabled","pos":[3346,3354]},{"content":"Policy management","pos":[3362,3379]},{"content":"This section describes features and tools that are available to help you manage this policy.","pos":[3381,3473]},{"content":"Restart requirement","pos":[3479,3498]},{"content":"None.","pos":[3500,3505]},{"content":"Changes to this policy become effective without a device restart when they are saved locally or distributed through Group Policy.","pos":[3506,3635]},{"content":"Group Policy","pos":[3641,3653]},{"content":"This setting should only be enabled if the file server is using user claims to control access to files, and if the file server will support client principals whose accounts might be in a domain that has client computers and domain controllers running a version of Windows prior to Windows 8 or Windows Server 2012.","pos":[3655,3969]},{"content":"Security considerations","pos":[3974,3997]},{"content":"This section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.","pos":[3999,4193]},{"content":"Vulnerability","pos":[4199,4212]},{"content":"None.","pos":[4214,4219]},{"content":"Enabling this policy setting allows you take advantage of features in Windows Server 2012 and Windows 8 and later for specific scenarios to use claims-enabled tokens to access files or folders that have claim-based access control policy applied on Windows operating systems prior to Windows Server 2012 and Windows 8.","pos":[4220,4538]},{"content":"Countermeasure","pos":[4544,4558]},{"content":"Not applicable.","pos":[4560,4575]},{"content":"Potential impact","pos":[4581,4597]},{"content":"None.","pos":[4599,4604]},{"content":"Related topics","pos":[4609,4623]},{"content":"Security Options","pos":[4628,4644]}],"content":"---\ntitle: Microsoft network server Attempt S4U2Self to obtain claim information (Windows 10)\ndescription: Describes the best practices, location, values, management, and security considerations for the Microsoft network server Attempt S4U2Self to obtain claim information security policy setting.\nms.assetid: e4508387-35ed-4a3f-a47c-27f8396adbba\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Microsoft network server: Attempt S4U2Self to obtain claim information\n\n**Applies to**\n-   Windows 10\n\nDescribes the best practices, location, values, management, and security considerations for the **Microsoft network server: Attempt S4U2Self to obtain claim information** security policy setting.\n\n## Reference\n\nThis security setting supports client devices running a version of Windows prior to Windows 8 that are trying to access a file share that requires user claims. This setting determines whether the local file server will attempt to use Kerberos Service-for-User-to-Self (S4U2Self) functionality to obtain a network client principal’s claims from the client’s account domain. This setting should only be enabled if the file server is using user claims to control access to files, and if the file server will support client principals whose accounts might be in a domain that has client computers \nand domain controllers running a version of Windows prior to Windows 8 or Windows Server 2012.\n\nWhen enabled, this security setting causes the Windows file server to examine the access token of an authenticated network client principal and determines if claim information is present. If claims are not present, the file server will then use the Kerberos S4U2Self feature to attempt to contact a Windows Server 2012 domain controller in the client’s account domain and obtain a claims-enabled access token for the client principal. A claims-enabled token might be needed to access files or folders that have claim-based access control policy applied.\n\nIf this setting is disabled, the Windows file server will not attempt to obtain a claim-enabled access token for the client principal.\n\n### Possible values\n\n-   **Default**\n\n    The Windows file server will examine the access token of an authenticated network client principal and determine if claim information is present.\n\n-   **Enabled**\n\n    Same as **Default**.\n\n-   **Disabled**\n\n-   **Not defined**\n\n    Same as **Disabled**.\n\n### Best practices\n\nThis setting should be set to **Default** so that the file server can automatically evaluate whether claims are needed for the user. You should explicitly configure this setting to **Enabled** only if there are local file access policies that include user claims.\n\n### Location\n\nComputer Configuration\\\\Windows Settings\\\\Security Settings\\\\Local Policies\\\\Security Options\n\n### Default values\n\nThe following table lists the actual and effective default values for this policy. Default values are also listed on the policy’s property page.\n\n| Server type or GPO | Default value |\n| - | - |\n| Default Domain Policy| Not defined| \n| Default Domain Controller Policy | Not defined| \n| Stand-Alone Server Default Settings | Not defined| \n| DC Effective Default Settings | Disabled| \n| Member Server Effective Default Settings | Disabled| \n| Client Computer Effective Default Settings| Disabled| \n \n## Policy management\n\nThis section describes features and tools that are available to help you manage this policy.\n\n### Restart requirement\n\nNone. Changes to this policy become effective without a device restart when they are saved locally or distributed through Group Policy.\n\n### Group Policy\n\nThis setting should only be enabled if the file server is using user claims to control access to files, and if the file server will support client principals whose accounts might be in a domain that has client computers and domain controllers running a version of Windows prior to Windows 8 or Windows Server 2012.\n\n## Security considerations\n\nThis section describes how an attacker might exploit a feature or its configuration, how to implement the countermeasure, and the possible negative consequences of countermeasure implementation.\n\n### Vulnerability\n\nNone. Enabling this policy setting allows you take advantage of features in Windows Server 2012 and Windows 8 and later for specific scenarios to use claims-enabled tokens to access files or folders that have claim-based access control policy applied on Windows operating systems prior to Windows Server 2012 \nand Windows 8.\n\n### Countermeasure\n\nNot applicable.\n\n### Potential impact\n\nNone.\n\n## Related topics\n\n- [Security Options](security-options.md)\n"}