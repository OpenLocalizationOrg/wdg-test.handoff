{"nodes":[{"content":"Use Orchestrator runbooks with MDT (Windows 10)","pos":[11,58]},{"content":"This topic will show you how to integrate Microsoft System Center 2012 R2 Orchestrator with MDT to replace the existing web services that are used in deployment solutions.","pos":[72,243]},{"content":"Use Orchestrator runbooks with MDT","pos":[423,457]},{"content":"This topic will show you how to integrate Microsoft System Center 2012 R2 Orchestrator with MDT to replace the existing web services that are used in deployment solutions.","pos":[459,630]},{"content":"MDT can integrate with System Center 2012 R2 Orchestrator, which is a component that ties the Microsoft System Center products together, as well as other products from both Microsoft and third-party vendors.","pos":[631,838]},{"content":"The difference between using Orchestrator and \"normal\" web services, is that with Orchestrator you have a rich drag-and-drop style interface when building the solution, and little or no coding is required.","pos":[839,1044]},{"content":"Note","pos":[1048,1052]},{"content":"If you are licensed to use Orchestrator, we highly recommend that you start using it.","pos":[1057,1142]},{"content":"To find out more about licensing options for System Center 2012 R2 and Orchestrator, visit the <bpt id=\"p1\">[</bpt>System Center 2012 R2<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=619553)</ept> website.","pos":[1143,1319]},{"pos":[1351,1375],"content":"Orchestrator terminology"},{"content":"Before diving into the core details, here is a quick course in Orchestrator terminology:","pos":[1377,1465]},{"content":"Orchestrator Server.","pos":[1472,1492]},{"content":"This is a server that executes runbooks.","pos":[1495,1535]},{"content":"Runbooks.","pos":[1542,1551]},{"content":"A runbook is similar to a task sequence; it is a series of instructions based on conditions.","pos":[1554,1646]},{"content":"Runbooks consist of workflow activities; an activity could be Copy File, Get User from Active Directory, or even Write to Database.","pos":[1647,1778]},{"content":"Orchestrator Designer.","pos":[1785,1807]},{"content":"This is where you build the runbooks.","pos":[1810,1847]},{"content":"In brief, you do that by creating an empty runbook, dragging in the activities you need, and then connecting them in a workflow with conditions and subscriptions.","pos":[1848,2010]},{"content":"Subscriptions.","pos":[2017,2031]},{"content":"These are variables that come from an earlier activity in the runbook.","pos":[2034,2104]},{"content":"So if you first execute an activity in which you type in a computer name, you can then subscribe to that value in the next activity.","pos":[2105,2237]},{"content":"All these variables are accumulated during the execution of the runbook.","pos":[2238,2310]},{"content":"Orchestrator Console.","pos":[2317,2338]},{"content":"This is the Microsoft Silverlight-based web page you can use interactively to execute runbooks.","pos":[2341,2436]},{"content":"The console listens to TCP port 81 by default.","pos":[2437,2483]},{"content":"Orchestrator web services.","pos":[2490,2516]},{"content":"These are the web services you use in the Microsoft Deployment Toolkit to execute runbooks during deployment.","pos":[2519,2628]},{"content":"The web services listen to TCP port 82 by default.","pos":[2629,2679]},{"content":"Integration packs.","pos":[2686,2704]},{"content":"These provide additional workflow activities you can import to integrate with other products or solutions, like the rest of Active Directory, other System Center 2012 R2 products, or Microsoft Exchange Server, to name a few.","pos":[2707,2931]},{"content":"Note","pos":[2935,2939]},{"content":"To find and download additional integration packs, see <bpt id=\"p1\">[</bpt>Integration Packs for System Center 2012 - Orchestrator<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=619554)</ept>.","pos":[2944,3106]},{"pos":[3138,3161],"content":"Create a sample runbook"},{"content":"This section assumes you have Orchestrator 2012 R2 installed on a server named OR01.","pos":[3163,3247]},{"content":"In this section, you create a sample runbook, which is used to log some of the MDT deployment information into a text file on OR01.","pos":[3248,3379]},{"pos":[3385,3492],"content":"On OR01, using File Explorer, create the <bpt id=\"p1\">**</bpt>E:<ph id=\"ph1\">\\\\</ph>Logfile<ept id=\"p1\">**</ept> folder, and grant Users modify permissions (NTFS)."},{"pos":[3497,3689],"content":"In the **E:\\\\Logfile** folder, create the DeployLog.txt file.\n**Note**  \nMake sure File Explorer is configured to show known file extensions so the file is not named DeployLog.txt.txt.","leadings":["","    ","    "],"nodes":[{"content":"In the **E:\\\\Logfile** folder, create the DeployLog.txt file.\n**Note**","pos":[0,70],"nodes":[{"content":"In the <bpt id=\"p1\">**</bpt>E:<ph id=\"ph1\">\\\\</ph>Logfile<ept id=\"p1\">**</ept> folder, create the DeployLog.txt file.","pos":[0,61]},{"content":"Note","pos":[64,68]}]},{"content":"Make sure File Explorer is configured to show known file extensions so the file is not named DeployLog.txt.txt.","pos":[73,184]}]},{"content":"figure 23","pos":[3702,3711]},{"content":"Figure 23.","pos":[3743,3753]},{"content":"The DeployLog.txt file.","pos":[3754,3777]},{"pos":[3783,3898],"content":"Using System Center 2012 R2 Orchestrator Runbook Designer, in the <bpt id=\"p1\">**</bpt>Runbooks<ept id=\"p1\">**</ept> node, create the <bpt id=\"p2\">**</bpt>1.0 MDT<ept id=\"p2\">**</ept> folder."},{"content":"figure 24","pos":[3906,3915]},{"content":"Figure 24.","pos":[3947,3957]},{"content":"Folder created in the Runbooks node.","pos":[3958,3994]},{"pos":[4000,4091],"content":"In the <bpt id=\"p1\">**</bpt>Runbooks<ept id=\"p1\">**</ept> node, right-click the <bpt id=\"p2\">**</bpt>1.0 MDT<ept id=\"p2\">**</ept> folder, and select <bpt id=\"p3\">**</bpt>New / Runbook<ept id=\"p3\">**</ept>."},{"pos":[4096,4135],"content":"On the ribbon bar, click <bpt id=\"p1\">**</bpt>Check Out<ept id=\"p1\">**</ept>."},{"pos":[4140,4233],"content":"Right-click the <bpt id=\"p1\">**</bpt>New Runbook<ept id=\"p1\">**</ept> label, select <bpt id=\"p2\">**</bpt>Rename<ept id=\"p2\">**</ept>, and assign the name <bpt id=\"p3\">**</bpt>MDT Sample<ept id=\"p3\">**</ept>."},{"pos":[4238,4344],"content":"Add (using a drag-and-drop operation) the following items from the <bpt id=\"p1\">**</bpt>Activities<ept id=\"p1\">**</ept> list to the middle pane:"},{"content":"Runbook Control / Initialize Data","pos":[4353,4386]},{"content":"Text File Management / Append Line","pos":[4395,4429]},{"pos":[4434,4481],"content":"Connect <bpt id=\"p1\">**</bpt>Initialize Data<ept id=\"p1\">**</ept> to <bpt id=\"p2\">**</bpt>Append Line<ept id=\"p2\">**</ept>."},{"content":"figure 25","pos":[4489,4498]},{"content":"Figure 25.","pos":[4530,4540]},{"content":"Activities added and connected.","pos":[4541,4572]},{"pos":[4578,4649],"content":"Right-click the <bpt id=\"p1\">**</bpt>Initialize Data<ept id=\"p1\">**</ept> activity, and select <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>"},{"pos":[4654,4786],"content":"On <bpt id=\"p1\">**</bpt>the Initialize Data Properties<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>, change <bpt id=\"p3\">**</bpt>Parameter 1<ept id=\"p3\">**</ept> to <bpt id=\"p4\">**</bpt>OSDComputerName<ept id=\"p4\">**</ept>, and then click <bpt id=\"p5\">**</bpt>Finish<ept id=\"p5\">**</ept>."},{"content":"figure 26","pos":[4794,4803]},{"content":"Figure 26.","pos":[4835,4845]},{"content":"The Initialize Data Properties window.","pos":[4846,4884]},{"pos":[4890,4958],"content":"Right-click the <bpt id=\"p1\">**</bpt>Append Line<ept id=\"p1\">**</ept> activity, and select <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>."},{"pos":[4963,5065],"content":"On the <bpt id=\"p1\">**</bpt>Append Line Properties<ept id=\"p1\">**</ept> page, in the <bpt id=\"p2\">**</bpt>File<ept id=\"p2\">**</ept> text box, type <bpt id=\"p3\">**</bpt>E:<ph id=\"ph1\">\\\\</ph>Logfile<ph id=\"ph2\">\\\\</ph>DeployLog.txt<ept id=\"p3\">**</ept>."},{"pos":[5070,5128],"content":"In the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> encoding drop-down list, select <bpt id=\"p2\">**</bpt>ASCII<ept id=\"p2\">**</ept>."},{"pos":[5133,5220],"content":"In the <bpt id=\"p1\">**</bpt>Append<ept id=\"p1\">**</ept> area, right-click inside the <bpt id=\"p2\">**</bpt>Text<ept id=\"p2\">**</ept> text box and select <bpt id=\"p3\">**</bpt>Expand<ept id=\"p3\">**</ept>."},{"content":"figure 27","pos":[5228,5237]},{"content":"Figure 27.","pos":[5269,5279]},{"content":"Expanding the Text area.","pos":[5280,5304]},{"pos":[5310,5387],"content":"In the blank text box, right-click and select <bpt id=\"p1\">**</bpt>Subscribe / Published Data<ept id=\"p1\">**</ept>."},{"content":"figure 28","pos":[5395,5404]},{"content":"Figure 28.","pos":[5436,5446]},{"content":"Subscribing to data.","pos":[5447,5467]},{"pos":[5473,5561],"content":"In the <bpt id=\"p1\">**</bpt>Published Data<ept id=\"p1\">**</ept> window, select the <bpt id=\"p2\">**</bpt>OSDComputerName<ept id=\"p2\">**</ept> item, and click <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>."},{"pos":[5566,5731],"content":"After the <bpt id=\"p1\">**</bpt>{OSDComputerName from \"Initialize Data\"}<ept id=\"p1\">**</ept> text, type in <bpt id=\"p2\">**</bpt>has been deployed at<ept id=\"p2\">**</ept> and, once again, right-click and select <bpt id=\"p3\">**</bpt>Subscribe / Published Data<ept id=\"p3\">**</ept>."},{"pos":[5736,5879],"content":"In the <bpt id=\"p1\">**</bpt>Published Data<ept id=\"p1\">**</ept> window, select the <bpt id=\"p2\">**</bpt>Show common Published Data<ept id=\"p2\">**</ept> check box, select the <bpt id=\"p3\">**</bpt>Activity end time<ept id=\"p3\">**</ept> item, and click <bpt id=\"p4\">**</bpt>OK<ept id=\"p4\">**</ept>."},{"content":"figure 29","pos":[5887,5896]},{"content":"Figure 29.","pos":[5928,5938]},{"content":"The expanded text box after all subscriptions have been added.","pos":[5939,6001]},{"pos":[6007,6064],"content":"On the <bpt id=\"p1\">**</bpt>Append Line Properties<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>Finish<ept id=\"p2\">**</ept>."},{"pos":[6094,6119],"content":"Test the demo MDT runbook"},{"content":"After the runbook is created, you are ready to test it.","pos":[6120,6175]},{"pos":[6180,6224],"content":"On the ribbon bar, click <bpt id=\"p1\">**</bpt>Runbook Tester<ept id=\"p1\">**</ept>."},{"pos":[6229,6346],"content":"Click <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept>, and in the <bpt id=\"p2\">**</bpt>Initialize Data Parameters<ept id=\"p2\">**</ept> dialog box, use the following setting and then click <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>:"},{"content":"OSDComputerName: PC0010","pos":[6355,6378]},{"content":"Verify that all activities are green (for additional information, see each target).","pos":[6383,6466]},{"pos":[6471,6500],"content":"Close the <bpt id=\"p1\">**</bpt>Runbook Tester<ept id=\"p1\">**</ept>."},{"pos":[6505,6543],"content":"On the ribbon bar, click <bpt id=\"p1\">**</bpt>Check In<ept id=\"p1\">**</ept>."},{"content":"figure 30","pos":[6547,6556]},{"content":"Figure 30.","pos":[6584,6594]},{"content":"All tests completed.","pos":[6595,6615]},{"content":"Use the MDT demo runbook from MDT","pos":[6620,6653]},{"pos":[6659,6820],"content":"On MDT01, using the Deployment Workbench, in the MDT Production deployment share, select the <bpt id=\"p1\">**</bpt>Task Sequences<ept id=\"p1\">**</ept> node, and create a folder named <bpt id=\"p2\">**</bpt>Orchestrator<ept id=\"p2\">**</ept>."},{"content":"Right-click the <bpt id=\"p1\">**</bpt>Orchestrator<ept id=\"p1\">**</ept> node, and select <bpt id=\"p2\">**</bpt>New Task Sequence<ept id=\"p2\">**</ept>.","pos":[6825,6897]},{"content":"Use the following settings for the New Task Sequence Wizard:","pos":[6898,6958]},{"content":"Task sequence ID: OR001","pos":[6967,6990]},{"content":"Task sequence name: Orchestrator Sample","pos":[6999,7038]},{"content":"Task sequence comments: <ph id=\"ph1\">&amp;lt;</ph>blank","pos":[7047,7080]},{"content":"Template: Custom Task Sequence","pos":[7093,7123]},{"pos":[7128,7256],"content":"In the <bpt id=\"p1\">**</bpt>Orchestrator<ept id=\"p1\">**</ept> node, double-click the <bpt id=\"p2\">**</bpt>Orchestrator Sample<ept id=\"p2\">**</ept> task sequence, and then select the <bpt id=\"p3\">**</bpt>Task Sequence<ept id=\"p3\">**</ept> tab."},{"pos":[7261,7311],"content":"Remove the default <bpt id=\"p1\">**</bpt>Application Install<ept id=\"p1\">**</ept> action."},{"pos":[7316,7412],"content":"Add a <bpt id=\"p1\">**</bpt>Gather<ept id=\"p1\">**</ept> action and select the <bpt id=\"p2\">**</bpt>Gather only local data (do not process rules)<ept id=\"p2\">**</ept> option."},{"pos":[7417,7518],"content":"After the <bpt id=\"p1\">**</bpt>Gather<ept id=\"p1\">**</ept> action, add a <bpt id=\"p2\">**</bpt>Set Task Sequence Variable<ept id=\"p2\">**</ept> action with the following settings:"},{"content":"Name: Set Task Sequence Variable","pos":[7527,7559]},{"content":"Task Sequence Variable: OSDComputerName","pos":[7568,7607]},{"content":"Value: %hostname%","pos":[7616,7633]},{"pos":[7638,7765],"content":"After the <bpt id=\"p1\">**</bpt>Set Task Sequence Variable<ept id=\"p1\">**</ept> action, add a new <bpt id=\"p2\">**</bpt>Execute Orchestrator Runbook<ept id=\"p2\">**</ept> action with the following settings:"},{"content":"Orchestrator Server: OR01.contoso.com","pos":[7774,7811]},{"pos":[7820,7866],"content":"Use Browse to select <bpt id=\"p1\">**</bpt>1.0 MDT / MDT Sample<ept id=\"p1\">**</ept>."},{"pos":[7871,7884],"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>."},{"content":"figure 31","pos":[7888,7897]},{"content":"Figure 31.","pos":[7925,7935]},{"content":"The ready-made task sequence.","pos":[7936,7965]},{"content":"Run the orchestrator sample task sequence","pos":[7970,8011]},{"content":"Since this task sequence just starts a runbook, you can test this on the PC0001 client that you used for the MDT simulation environment.","pos":[8013,8149]},{"content":"Note","pos":[8152,8156]},{"content":"Make sure the account you are using has permissions to run runbooks on the Orchestrator server.","pos":[8161,8256]},{"content":"For more information about runbook permissions, see <bpt id=\"p1\">[</bpt>Runbook Permissions<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=619555)</ept>.","pos":[8257,8380]},{"pos":[8387,8429],"content":"On PC0001, log on as <bpt id=\"p1\">**</bpt>CONTOSO<ph id=\"ph1\">\\\\</ph>MDT<ph id=\"ph2\">\\_</ph>BA<ept id=\"p1\">**</ept>."},{"content":"Using an elevated command prompt (run as Administrator), type the following command:","pos":[8434,8518]},{"content":"Complete the Windows Deployment Wizard using the following information:","pos":[8603,8674]},{"content":"Task Sequence: Orchestrator Sample","pos":[8683,8717]},{"content":"Credentials:","pos":[8726,8738]},{"content":"User Name: MDT<ph id=\"ph1\">\\_</ph>BA","pos":[8751,8769]},{"content":"Password: P@ssw0rd","pos":[8782,8800]},{"content":"Domain: CONTOSO","pos":[8813,8828]},{"content":"Wait until the task sequence is completed and then verify that the DeployLog.txt file in the E:<ph id=\"ph1\">\\\\</ph>Logfile folder on OR01 was updated.","pos":[8833,8965]},{"content":"figure 32","pos":[8969,8978]},{"content":"Figure 32.","pos":[9006,9016]},{"content":"The ready-made task sequence.","pos":[9017,9046]},{"content":"Related topics","pos":[9051,9065]},{"content":"Set up MDT for BitLocker","pos":[9068,9092]},{"content":"Configure MDT deployment share rules","pos":[9130,9166]},{"content":"Configure MDT for UserExit scripts","pos":[9211,9245]},{"content":"Simulate a Windows10 deployment in a test environment","pos":[9293,9346]},{"content":"Use the MDT database to stage Windows 10 deployment information","pos":[9409,9472]},{"content":"Assign applications using roles in MDT","pos":[9545,9583]},{"content":"Use web services in MDT","pos":[9635,9658]}],"content":"---\ntitle: Use Orchestrator runbooks with MDT (Windows 10)\ndescription: This topic will show you how to integrate Microsoft System Center 2012 R2 Orchestrator with MDT to replace the existing web services that are used in deployment solutions.\nms.assetid: 68302780-1f6f-4a9c-9407-b14371fdce3f\nkeywords: web services, database\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: mdt\nauthor: mtniehaus\n---\n\n# Use Orchestrator runbooks with MDT\n\nThis topic will show you how to integrate Microsoft System Center 2012 R2 Orchestrator with MDT to replace the existing web services that are used in deployment solutions.\nMDT can integrate with System Center 2012 R2 Orchestrator, which is a component that ties the Microsoft System Center products together, as well as other products from both Microsoft and third-party vendors. The difference between using Orchestrator and \"normal\" web services, is that with Orchestrator you have a rich drag-and-drop style interface when building the solution, and little or no coding is required.\n\n**Note**  \nIf you are licensed to use Orchestrator, we highly recommend that you start using it. To find out more about licensing options for System Center 2012 R2 and Orchestrator, visit the [System Center 2012 R2](http://go.microsoft.com/fwlink/p/?LinkId=619553) website.\n \n## <a href=\"\" id=\"sec01\"></a>Orchestrator terminology\n\nBefore diving into the core details, here is a quick course in Orchestrator terminology:\n-   **Orchestrator Server.** This is a server that executes runbooks.\n-   **Runbooks.** A runbook is similar to a task sequence; it is a series of instructions based on conditions. Runbooks consist of workflow activities; an activity could be Copy File, Get User from Active Directory, or even Write to Database.\n-   **Orchestrator Designer.** This is where you build the runbooks. In brief, you do that by creating an empty runbook, dragging in the activities you need, and then connecting them in a workflow with conditions and subscriptions.\n-   **Subscriptions.** These are variables that come from an earlier activity in the runbook. So if you first execute an activity in which you type in a computer name, you can then subscribe to that value in the next activity. All these variables are accumulated during the execution of the runbook.\n-   **Orchestrator Console.** This is the Microsoft Silverlight-based web page you can use interactively to execute runbooks. The console listens to TCP port 81 by default.\n-   **Orchestrator web services.** These are the web services you use in the Microsoft Deployment Toolkit to execute runbooks during deployment. The web services listen to TCP port 82 by default.\n-   **Integration packs.** These provide additional workflow activities you can import to integrate with other products or solutions, like the rest of Active Directory, other System Center 2012 R2 products, or Microsoft Exchange Server, to name a few.\n\n**Note**  \nTo find and download additional integration packs, see [Integration Packs for System Center 2012 - Orchestrator](http://go.microsoft.com/fwlink/p/?LinkId=619554).\n \n## <a href=\"\" id=\"sec02\"></a>Create a sample runbook\n\nThis section assumes you have Orchestrator 2012 R2 installed on a server named OR01. In this section, you create a sample runbook, which is used to log some of the MDT deployment information into a text file on OR01.\n\n1.  On OR01, using File Explorer, create the **E:\\\\Logfile** folder, and grant Users modify permissions (NTFS).\n2.  In the **E:\\\\Logfile** folder, create the DeployLog.txt file.\n    **Note**  \n    Make sure File Explorer is configured to show known file extensions so the file is not named DeployLog.txt.txt.\n     \n    ![figure 23](images/mdt-09-fig23.png)\n\n    Figure 23. The DeployLog.txt file.\n\n3.  Using System Center 2012 R2 Orchestrator Runbook Designer, in the **Runbooks** node, create the **1.0 MDT** folder.\n\n    ![figure 24](images/mdt-09-fig24.png)\n\n    Figure 24. Folder created in the Runbooks node.\n\n4.  In the **Runbooks** node, right-click the **1.0 MDT** folder, and select **New / Runbook**.\n5.  On the ribbon bar, click **Check Out**.\n6.  Right-click the **New Runbook** label, select **Rename**, and assign the name **MDT Sample**.\n7.  Add (using a drag-and-drop operation) the following items from the **Activities** list to the middle pane:\n    1.  Runbook Control / Initialize Data\n    2.  Text File Management / Append Line\n8.  Connect **Initialize Data** to **Append Line**.\n\n    ![figure 25](images/mdt-09-fig25.png)\n\n    Figure 25. Activities added and connected.\n\n9.  Right-click the **Initialize Data** activity, and select **Properties**\n10. On **the Initialize Data Properties** page, click **Add**, change **Parameter 1** to **OSDComputerName**, and then click **Finish**.\n\n    ![figure 26](images/mdt-09-fig26.png)\n\n    Figure 26. The Initialize Data Properties window.\n\n11. Right-click the **Append Line** activity, and select **Properties**.\n12. On the **Append Line Properties** page, in the **File** text box, type **E:\\\\Logfile\\\\DeployLog.txt**.\n13. In the **File** encoding drop-down list, select **ASCII**.\n14. In the **Append** area, right-click inside the **Text** text box and select **Expand**.\n\n    ![figure 27](images/mdt-09-fig27.png)\n\n    Figure 27. Expanding the Text area.\n\n15. In the blank text box, right-click and select **Subscribe / Published Data**.\n\n    ![figure 28](images/mdt-09-fig28.png)\n\n    Figure 28. Subscribing to data.\n\n16. In the **Published Data** window, select the **OSDComputerName** item, and click **OK**.\n17. After the **{OSDComputerName from \"Initialize Data\"}** text, type in **has been deployed at** and, once again, right-click and select **Subscribe / Published Data**.\n18. In the **Published Data** window, select the **Show common Published Data** check box, select the **Activity end time** item, and click **OK**.\n\n    ![figure 29](images/mdt-09-fig29.png)\n\n    Figure 29. The expanded text box after all subscriptions have been added.\n\n19. On the **Append Line Properties** page, click **Finish**.\n## <a href=\"\" id=\"sec03\"></a>Test the demo MDT runbook\nAfter the runbook is created, you are ready to test it.\n1.  On the ribbon bar, click **Runbook Tester**.\n2.  Click **Run**, and in the **Initialize Data Parameters** dialog box, use the following setting and then click **OK**:\n    -   OSDComputerName: PC0010\n3.  Verify that all activities are green (for additional information, see each target).\n4.  Close the **Runbook Tester**.\n5.  On the ribbon bar, click **Check In**.\n\n![figure 30](images/mdt-09-fig30.png)\n\nFigure 30. All tests completed.\n\n## Use the MDT demo runbook from MDT\n\n1.  On MDT01, using the Deployment Workbench, in the MDT Production deployment share, select the **Task Sequences** node, and create a folder named **Orchestrator**.\n2.  Right-click the **Orchestrator** node, and select **New Task Sequence**. Use the following settings for the New Task Sequence Wizard:\n    1.  Task sequence ID: OR001\n    2.  Task sequence name: Orchestrator Sample\n    3.  Task sequence comments: &lt;blank&gt;\n    4.  Template: Custom Task Sequence\n3.  In the **Orchestrator** node, double-click the **Orchestrator Sample** task sequence, and then select the **Task Sequence** tab.\n4.  Remove the default **Application Install** action.\n5.  Add a **Gather** action and select the **Gather only local data (do not process rules)** option.\n6.  After the **Gather** action, add a **Set Task Sequence Variable** action with the following settings:\n    1.  Name: Set Task Sequence Variable\n    2.  Task Sequence Variable: OSDComputerName\n    3.  Value: %hostname%\n7.  After the **Set Task Sequence Variable** action, add a new **Execute Orchestrator Runbook** action with the following settings:\n    1.  Orchestrator Server: OR01.contoso.com\n    2.  Use Browse to select **1.0 MDT / MDT Sample**.\n8.  Click **OK**.\n\n![figure 31](images/mdt-09-fig31.png)\n\nFigure 31. The ready-made task sequence.\n\n## Run the orchestrator sample task sequence\n\nSince this task sequence just starts a runbook, you can test this on the PC0001 client that you used for the MDT simulation environment.\n**Note**  \nMake sure the account you are using has permissions to run runbooks on the Orchestrator server. For more information about runbook permissions, see [Runbook Permissions](http://go.microsoft.com/fwlink/p/?LinkId=619555).\n \n1.  On PC0001, log on as **CONTOSO\\\\MDT\\_BA**.\n2.  Using an elevated command prompt (run as Administrator), type the following command:\n    ``` syntax\n    cscript \\\\MDT01\\MDTProduction$\\Scripts\\Litetouch.vbs\n    ```\n3.  Complete the Windows Deployment Wizard using the following information:\n    1.  Task Sequence: Orchestrator Sample\n    2.  Credentials:\n        1.  User Name: MDT\\_BA\n        2.  Password: P@ssw0rd\n        3.  Domain: CONTOSO\n4.  Wait until the task sequence is completed and then verify that the DeployLog.txt file in the E:\\\\Logfile folder on OR01 was updated.\n\n![figure 32](images/mdt-09-fig32.png)\n\nFigure 32. The ready-made task sequence.\n\n## Related topics\n\n[Set up MDT for BitLocker](set-up-mdt-2013-for-bitlocker.md)\n\n[Configure MDT deployment share rules](configure-mdt-deployment-share-rules.md)\n\n[Configure MDT for UserExit scripts](configure-mdt-2013-for-userexit-scripts.md)\n\n[Simulate a Windows10 deployment in a test environment](simulate-a-windows-10-deployment-in-a-test-environment.md)\n\n[Use the MDT database to stage Windows 10 deployment information](use-the-mdt-database-to-stage-windows-10-deployment-information.md)\n\n\n[Assign applications using roles in MDT](assign-applications-using-roles-in-mdt-2013.md)\n\n[Use web services in MDT](use-web-services-in-mdt-2013.md)\n"}