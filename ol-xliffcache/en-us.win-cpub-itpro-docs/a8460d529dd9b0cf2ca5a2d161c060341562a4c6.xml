{"nodes":[{"content":"Step by step Surface Deployment Accelerator (Surface)","pos":[11,64]},{"content":"This article shows you how to install Microsoft Surface Deployment Accelerator (SDA), configure a deployment share for the deployment of Windows to Surface devices, and perform a deployment to Surface devices.","pos":[78,287]},{"content":"Step by step: Surface Deployment Accelerator","pos":[473,517]},{"content":"This article shows you how to install Microsoft Surface Deployment Accelerator (SDA), configure a deployment share for the deployment of Windows to Surface devices, and perform a deployment to Surface devices.","pos":[520,729]},{"content":"This article also contains instructions on how to perform these tasks without an Internet connection or without support for Windows Deployment Services network boot (PXE).","pos":[730,901]},{"content":"How to install Surface Deployment Accelerator","pos":[906,951]},{"pos":[954,1136],"content":"For information about prerequisites and instructions for how to download and install SDA, see <bpt id=\"p1\">[</bpt>Microsoft Surface Deployment Accelerator<ept id=\"p1\">](microsoft-surface-deployment-accelerator.md)</ept>."},{"pos":[1142,1282],"content":"Download SDA, which is included in <bpt id=\"p1\">[</bpt>Surface Tools for IT<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=618121)</ept> on the Microsoft Download Center."},{"pos":[1288,1418],"content":"Run the SDA installation file, named <bpt id=\"p1\">*</bpt><bpt id=\"p2\">*</bpt>Surface<ph id=\"ph1\">\\_</ph>Deployment<ph id=\"ph2\">\\_</ph>Accelerator<ph id=\"ph3\">\\_</ph><ept id=\"p2\">*</ept>xxxx<ept id=\"p1\">*</ept>.msi<bpt id=\"p3\">*</bpt><bpt id=\"p4\">*</bpt>, where <ept id=\"p4\">*</ept>xxxx<ept id=\"p3\">*</ept> is the current version number."},{"pos":[1424,1546],"content":"Accept the End User License Agreement (EULA) by selecting the check box, and then click <bpt id=\"p1\">**</bpt>Install<ept id=\"p1\">**</ept>, as shown in Figure 1."},{"content":"Surface Deployment Accelerator setup","pos":[1554,1590]},{"content":"Figure 1.","pos":[1663,1672]},{"content":"SDA setup","pos":[1673,1682]},{"pos":[1689,1742],"content":"Click <bpt id=\"p1\">**</bpt>Finish<ept id=\"p1\">**</ept> to complete the installation of SDA."},{"content":"The tool installs in the SDA program group, as shown in Figure 2.","pos":[1744,1809]},{"content":"SDA program group and icon","pos":[1813,1839]},{"content":"Figure 2.","pos":[1898,1907]},{"content":"The SDA program group and icon","pos":[1908,1938]},{"pos":[1942,2080],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>At this point the tool has not yet prepared any deployment environment or downloaded any materials from the Internet."},{"content":"Create a deployment share","pos":[2088,2113]},{"content":"The following steps show you how to create a deployment share for Windows 10 that supports Surface 3, Surface Pro 3, Surface Pro 4, Surface Book, the Surface Firmware Tool, the Surface Asset Tag Tool, and Office 365.","pos":[2116,2332]},{"content":"As you follow the steps below, make the selections that are applicable for your organization.","pos":[2333,2426]},{"content":"For example, you could choose to deploy Windows 10 to Surface Book only, without any of the Surface apps.","pos":[2427,2532]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>SDA lets you create deployment shares for both Windows 8.1 and Windows 10 deployments, but you can only create a single deployment share at a time.","pos":[2535,2703]},{"content":"Therefore, to create both Windows 8.1 and Windows 10 deployment shares, you will need to run the tool twice.","pos":[2704,2812]},{"pos":[2821,2945],"content":"Open the SDA wizard by double-clicking the icon in the <bpt id=\"p1\">**</bpt>Surface Deployment Accelerator<ept id=\"p1\">**</ept> program group on the Start screen."},{"pos":[2951,3003],"content":"On the <bpt id=\"p1\">**</bpt>Welcome<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept> to continue."},{"content":"On the <bpt id=\"p1\">**</bpt>Verify System<ept id=\"p1\">**</ept> page, the SDA wizard verifies the prerequisites required for an SDA deployment share.","pos":[3009,3119]},{"content":"This process also checks for the presence of the Windows Assessment and Deployment Kit (Windows ADK) for Windows 10 and the Microsoft Deployment Toolkit (MDT) 2013 Update 2.","pos":[3120,3293]},{"content":"If these tools are not detected, they are downloaded and installed automatically.","pos":[3294,3375]},{"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue.","pos":[3376,3403]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>As of SDA version 1.96.0405, SDA will install only the components of the Windows ADK that are required for deployment, as follows: <bpt id=\"p2\">    *</bpt> Deployment tools <ept id=\"p2\">    *</ept> User State Migration Tool (USMT) * Windows Preinstallation Environment (WinPE)","pos":[3408,3671]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>As of SDA version 1.96.0405, SDA will install and use MDT 2013 Update 2.","pos":[3686,3779]},{"content":"Earlier versions of SDA are compatible only with MDT 2013 Update 1.","pos":[3780,3847]},{"content":"On the <bpt id=\"p1\">**</bpt>Windows 8.1<ept id=\"p1\">**</ept> page, to create a Windows 10 deployment share, do not select the <bpt id=\"p2\">**</bpt>Would you like to support Windows 8.1<ept id=\"p2\">**</ept> check box.","pos":[3853,3993]},{"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue.","pos":[3994,4021]},{"content":"On the <bpt id=\"p1\">**</bpt>Windows 10<ept id=\"p1\">**</ept> page, to create a Windows 10 deployment share, select the <bpt id=\"p2\">**</bpt>Would you like to support Windows 10<ept id=\"p2\">**</ept> check box.","pos":[4027,4158]},{"content":"Supply the following information before you click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue:","pos":[4159,4230]},{"content":"Configure Deployment Share for Windows 10","pos":[4242,4283]},{"content":"<bpt id=\"p1\">**</bpt>Local Path<ept id=\"p1\">**</ept> – Specify or browse to a location on the local storage device where you would like to store the deployment share files for the Windows 10 SDA deployment share.","pos":[4299,4473]},{"content":"For example, <bpt id=\"p1\">**</bpt>E:<ph id=\"ph1\">\\\\</ph>SDAWin10<ph id=\"ph2\">\\\\</ph><ept id=\"p1\">**</ept> is the location specified in Figure 3.","pos":[4474,4544]},{"content":"<bpt id=\"p1\">**</bpt>Share Name<ept id=\"p1\">**</ept> – Specify a name for the file share that will be used to access the deployment share on this server from the network.","pos":[4558,4690]},{"content":"For example, <bpt id=\"p1\">**</bpt>SDAWin10<ept id=\"p1\">**</ept> is the deployment share name shown in Figure 3.","pos":[4691,4764]},{"content":"The local path folder is automatically shared by the SDA scripts under this name to the group <bpt id=\"p1\">**</bpt>Everyone<ept id=\"p1\">**</ept> with a permission level of <bpt id=\"p2\">**</bpt>Full Control<ept id=\"p2\">**</ept>.","pos":[4765,4916]},{"content":"Windows 10 Deployment Services","pos":[4928,4958]},{"content":"Select the <bpt id=\"p1\">**</bpt>Import boot media into the local Windows Deployment Service<ept id=\"p1\">**</ept> check box if you would like to boot your Surface devices from the network to perform the Windows deployment.","pos":[4974,5157]},{"content":"Windows Deployment Services must be installed and configured to respond to PXE boot requests.","pos":[5158,5251]},{"content":"See <bpt id=\"p1\">[</bpt>Windows Deployment Services Getting Started Guide for Windows Server 2012<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=761072)</ept> for more information about how to configure Windows Deployment Services for PXE boot.","pos":[5252,5466]},{"content":"Windows 10 Source Files","pos":[5478,5501]},{"content":"<bpt id=\"p1\">**</bpt>Local Path<ept id=\"p1\">**</ept> – Specify or browse to the root directory of Windows 10 installation files.","pos":[5517,5607]},{"content":"If you have an ISO file, mount it and browse to the root of the mounted drive.","pos":[5608,5686]},{"content":"You must have a full set of source files, not just <bpt id=\"p1\">**</bpt>Install.wim<ept id=\"p1\">**</ept>.","pos":[5687,5754]},{"content":"Specify Windows 10 deployment share options","pos":[5762,5805]},{"content":"Figure 3.","pos":[5885,5894]},{"content":"Specify Windows 10 deployment share options","pos":[5895,5938]},{"content":"On the <bpt id=\"p1\">**</bpt>Configure<ept id=\"p1\">**</ept> page, select the check box next to each device or app that you want to include in your deployment share.","pos":[5945,6070]},{"content":"Note that Surface Pro 4 and Surface Book only support Windows 10 and are not available for the deployment of Windows 8.1.","pos":[6071,6192]},{"content":"The Surface Firmware Tool is only applicable to Surface 3 and Surface Pro 3 and cannot be selected unless Surface 3 or Surface Pro 3 drivers are selected, as shown in Figure 4.","pos":[6193,6369]},{"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue.","pos":[6370,6397]},{"content":"Firmware tool selection","pos":[6405,6428]},{"content":"Figure 4.","pos":[6495,6504]},{"content":"Selecting Surface Firmware Tool requires Surface Pro 3 drivers","pos":[6505,6567]},{"pos":[6575,6671],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>You cannot select both Surface 3 and Surface 3 LTE models at the same time."},{"content":"On the <bpt id=\"p1\">**</bpt>Summary<ept id=\"p1\">**</ept> page confirm your selections and click <bpt id=\"p2\">**</bpt>Finish<ept id=\"p2\">**</ept> to begin the creation of your deployment share.","pos":[6677,6793]},{"content":"The process can take several minutes as files are downloaded, the tools are installed, and the deployment share is created.","pos":[6794,6917]},{"content":"While the SDA scripts are creating your deployment share, an <bpt id=\"p1\">**</bpt>Installation Progress<ept id=\"p1\">**</ept> window will be displayed, as shown in Figure 5.","pos":[6918,7052]},{"content":"A typical SDA process includes:","pos":[7053,7084]},{"content":"Download of Windows ADK","pos":[7094,7117]},{"content":"Installation of Windows ADK","pos":[7127,7154]},{"content":"Download of MDT","pos":[7164,7179]},{"content":"Installation of MDT","pos":[7189,7208]},{"content":"Download of Surface apps and drivers","pos":[7218,7254]},{"content":"Creation of the deployment share","pos":[7264,7296]},{"content":"Import of Windows installation files into the deployment share","pos":[7306,7368]},{"content":"Import of the apps and drivers into the deployment share","pos":[7378,7434]},{"content":"Creation of rules and task sequences for Windows deployment","pos":[7444,7503]},{"content":"The installatin progress window","pos":[7511,7542]},{"content":"Figure 5.","pos":[7624,7633]},{"content":"The Installation Progress window","pos":[7634,7666]},{"content":"When the SDA process completes the creation of your deployment share, a <bpt id=\"p1\">**</bpt>Success<ept id=\"p1\">**</ept> window is displayed.","pos":[7673,7777]},{"content":"Click <bpt id=\"p1\">**</bpt>Finish<ept id=\"p1\">**</ept> to close the window.","pos":[7778,7815]},{"content":"At this point your deployment share is now ready to perform a Windows deployment to Surface devices.","pos":[7816,7916]},{"content":"Optional: Create a deployment share without an Internet connection","pos":[7922,7988]},{"content":"If you are unable to connect to the Internet with your deployment server, or if you want to download the Surface drivers and apps separately, you can specify a local source for the driver an app files at the time of deployment share creation.","pos":[7990,8232]},{"content":"On the <bpt id=\"p1\">**</bpt>Configure<ept id=\"p1\">**</ept> page of the SDA wizard, select the <bpt id=\"p2\">**</bpt>Copy from a Local Directory<ept id=\"p2\">**</ept> check box, as shown in Figure 6.","pos":[8233,8353]},{"content":"The <bpt id=\"p1\">**</bpt>Download from the Internet<ept id=\"p1\">**</ept> check box will be automatically deselected.","pos":[8354,8432]},{"content":"Enter the folder location where you have placed the driver and app files in the <bpt id=\"p1\">**</bpt>Local Path<ept id=\"p1\">**</ept> field, as shown in Figure 6.","pos":[8433,8556]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>All of the downloaded driver and applications files must be located in the same folder.","pos":[8559,8667]},{"content":"If a required driver or application file is missing from the selected folder when you click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>, a warning is displayed and the wizard will not proceed to the next step.","pos":[8668,8842]},{"pos":[8845,8950],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>The driver and app files do not need to be extracted from the downloaded .zip files."},{"pos":[8953,9099],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>Including Office 365 in your deployment share requires an Internet connection and cannot be performed if you use local files."},{"content":"Specify Surface driver and app files","pos":[9103,9139]},{"content":"Figure 6.","pos":[9233,9242]},{"content":"Specify the Surface driver and app files from a local path","pos":[9243,9301]},{"pos":[9305,9424],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>The <bpt id=\"p2\">**</bpt>Copy from a Local Directory<ept id=\"p2\">**</ept> check box is only available in SDA version 1.90.0221 or later."},{"pos":[9462,9497],"content":"Optional: Prepare offline USB media"},{"content":"You can use USB media to perform an SDA deployment if your Surface device is unable to boot from the network.","pos":[9499,9608]},{"content":"For example, if you do not have a Microsoft Surface Ethernet Adapter or Microsoft Surface dock to facilitate network boot (PXE boot).","pos":[9609,9742]},{"content":"The USB drive produced by following these steps includes a complete copy of the SDA deployment share and can be run on a Surface device without a network connection.","pos":[9743,9908]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>The offline media files for the complete SDA deployment share are approximately 9 GB in size.","pos":[9911,10025]},{"content":"Your USB drive must be at least 9 GB in size.","pos":[10026,10071]},{"content":"A 16 GB USB drive is recommended.","pos":[10072,10105]},{"content":"Before you can create bootable media files within the MDT Deployment Workbench or copy those files to a USB drive, you must first configure that USB drive to be bootable.","pos":[10110,10280]},{"content":"Using <bpt id=\"p1\">[</bpt>DiskPart<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=761073)</ept>, create a partition, format the partition as FAT32, and set the partition to be active.","pos":[10281,10434]},{"content":"To run DiskPart, open an administrative PowerShell or Command Prompt window, and then run the following sequence of commands, as shown in Figure 7:","pos":[10435,10582]},{"pos":[10588,10649],"content":"<bpt id=\"p1\">**</bpt>diskpart<ept id=\"p1\">**</ept> – Opens DiskPart to manage disks and partitions."},{"pos":[10655,10805],"content":"<bpt id=\"p1\">**</bpt>list disk<ept id=\"p1\">**</ept> – Displays a list of the disks available in your system; use this list to identify the disk number that corresponds with your USB drive."},{"pos":[10811,10913],"content":"<bpt id=\"p1\">**</bpt>sel disk 2<ept id=\"p1\">**</ept> – Selects your USB drive; use the number that corresponds with the disk in your system."},{"pos":[10919,10977],"content":"<bpt id=\"p1\">**</bpt>clean<ept id=\"p1\">**</ept> – Removes all configuration from your USB drive."},{"content":"<bpt id=\"p1\">**</bpt>Warning:<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>This step will remove all information from your drive.","pos":[10984,11062]},{"content":"Verify that your USB drive does not contain any needed data before you perform the <bpt id=\"p1\">**</bpt>clean<ept id=\"p1\">**</ept> command.","pos":[11063,11164]},{"pos":[11177,11244],"content":"<bpt id=\"p1\">**</bpt>create part pri<ept id=\"p1\">**</ept> – Creates a primary partition on the USB drive."},{"content":"<bpt id=\"p1\">**</bpt>format fs=fat32 quick<ept id=\"p1\">**</ept> – Formats the partition with the FAT32 file system, performing a quick format.","pos":[11250,11354]},{"content":"FAT32 is required to boot the device from UEFI systems like Surface devices.","pos":[11355,11431]},{"pos":[11437,11524],"content":"<bpt id=\"p1\">**</bpt>assign<ept id=\"p1\">**</ept> – Assigns the next available drive letter to the newly created FAT32 volume."},{"pos":[11530,11613],"content":"<bpt id=\"p1\">**</bpt>active<ept id=\"p1\">**</ept> – Sets the partition to be active, which is required to boot the volume."},{"pos":[11619,11712],"content":"<bpt id=\"p1\">**</bpt>exit<ept id=\"p1\">**</ept> – Exits DiskPart, after which you can close the PowerShell or Command Prompt window."},{"content":"Use DiskPart to prepare a USB drive for boot","pos":[11720,11764]},{"content":"Figure 7.","pos":[11854,11863]},{"content":"Use DiskPart to prepare a USB drive for boot","pos":[11864,11908]},{"pos":[11916,12094],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>You can format your USB drive with FAT32 from Disk Management, but you must still use DiskPart to set the partition as active for the drive to boot properly."},{"content":"After you have prepared the USB drive for boot, the next step is to generate offline media from the SDA deployment share.","pos":[12103,12224]},{"content":"To create this media, follow these steps:","pos":[12225,12266]},{"pos":[12272,12375],"content":"Open the <bpt id=\"p1\">**</bpt>Deployment Workbench<ept id=\"p1\">**</ept> from the <bpt id=\"p2\">**</bpt>Microsoft Deployment Toolkit<ept id=\"p2\">**</ept> group on your Start screen."},{"pos":[12381,12489],"content":"Expand the <bpt id=\"p1\">**</bpt>Deployment Shares<ept id=\"p1\">**</ept> node and the <bpt id=\"p2\">**</bpt>Microsoft Surface Deployment Accelerator<ept id=\"p2\">**</ept> deployment share."},{"pos":[12495,12572],"content":"Expand the folder <bpt id=\"p1\">**</bpt>Advanced Configuration<ept id=\"p1\">**</ept> and select the <bpt id=\"p2\">**</bpt>Media<ept id=\"p2\">**</ept> folder."},{"pos":[12578,12686],"content":"Right-click the <bpt id=\"p1\">**</bpt>Media<ept id=\"p1\">**</ept> folder and click <bpt id=\"p2\">**</bpt>New Media<ept id=\"p2\">**</ept> as shown in Figure 8 to start the New Media Wizard."},{"content":"The Media folder of the SDA deployment share","pos":[12694,12738]},{"content":"Figure 8.","pos":[12831,12840]},{"content":"The Media folder of the SDA deployment share","pos":[12841,12885]},{"content":"On the <bpt id=\"p1\">**</bpt>General Settings<ept id=\"p1\">**</ept> page in the <bpt id=\"p2\">**</bpt>Media path<ept id=\"p2\">**</ept> field, enter or browse to a folder where you will create the files for the new offline media.","pos":[12892,13040]},{"content":"See the example <bpt id=\"p1\">**</bpt>E:<ph id=\"ph1\">\\\\</ph>SDAMedia<ept id=\"p1\">**</ept> in Figure 9.","pos":[13041,13086]},{"content":"Leave the default profile <bpt id=\"p1\">**</bpt>Everything<ept id=\"p1\">**</ept> selected in the <bpt id=\"p2\">**</bpt>Selection profile<ept id=\"p2\">**</ept> drop-down menu, and then click <bpt id=\"p3\">**</bpt>Next<ept id=\"p3\">**</ept>.","pos":[13087,13206]},{"content":"Specify a location and selection profile for your offline media","pos":[13214,13277]},{"content":"Figure 9.","pos":[13386,13395]},{"content":"Specify a location and selection profile for your offline media","pos":[13396,13459]},{"pos":[13466,13569],"content":"On the <bpt id=\"p1\">**</bpt>Summary<ept id=\"p1\">**</ept> page verify your selections, and then click <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept> to begin creation of the media."},{"pos":[13575,13635],"content":"A <bpt id=\"p1\">**</bpt>Progress<ept id=\"p1\">**</ept> page is displayed while the media is created."},{"pos":[13641,13722],"content":"On the <bpt id=\"p1\">**</bpt>Confirmation<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>Finish<ept id=\"p2\">**</ept> to complete creation of the media."},{"pos":[13728,13891],"content":"Right-click the <bpt id=\"p1\">**</bpt>Microsoft Surface Deployment Accelerator<ept id=\"p1\">**</ept> deployment share folder, click <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>, and then click the <bpt id=\"p3\">**</bpt>Rules<ept id=\"p3\">**</ept> tab as shown in Figure 10."},{"content":"Rules of the SDA deployment share","pos":[13899,13932]},{"content":"Figure 10.","pos":[14009,14019]},{"content":"Rules of the SDA deployment share","pos":[14020,14053]},{"pos":[14060,14195],"content":"Use your mouse to highlight all of the text displayed in the text box of the <bpt id=\"p1\">**</bpt>Rules<ept id=\"p1\">**</ept> tab, and then press <bpt id=\"p2\">**</bpt>Ctrl+C<ept id=\"p2\">**</ept> to copy the text."},{"pos":[14201,14300],"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to close the <bpt id=\"p2\">**</bpt>Microsoft Surface Deployment Accelerator<ept id=\"p2\">**</ept> deployment share properties."},{"pos":[14306,14434],"content":"Right-click the newly created <bpt id=\"p1\">**</bpt>MEDIA001<ept id=\"p1\">**</ept> item in the <bpt id=\"p2\">**</bpt>Media<ept id=\"p2\">**</ept> folder, click <bpt id=\"p3\">**</bpt>Properties<ept id=\"p3\">**</ept>, and then click the <bpt id=\"p4\">**</bpt>Rules<ept id=\"p4\">**</ept> tab."},{"pos":[14440,14664],"content":"Use your mouse to highlight all of the text displayed in the text box of the <bpt id=\"p1\">**</bpt>Rules<ept id=\"p1\">**</ept> tab, and then press <bpt id=\"p2\">**</bpt>Ctrl+V<ept id=\"p2\">**</ept> to paste the text you copied from the <bpt id=\"p3\">**</bpt>Microsoft Surface Deployment Accelerator<ept id=\"p3\">**</ept> deployment share rules."},{"content":"Right-click the <bpt id=\"p1\">**</bpt>Microsoft Surface Deployment Accelerator<ept id=\"p1\">**</ept> deployment share folder, click <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>, and then click the <bpt id=\"p3\">**</bpt>Rules<ept id=\"p3\">**</ept> tab again.","pos":[14670,14817]},{"content":"Click the <bpt id=\"p1\">**</bpt>Bootstrap.ini<ept id=\"p1\">**</ept> button to open Bootstrap.ini in Notepad.","pos":[14818,14886]},{"pos":[14892,14993],"content":"Press <bpt id=\"p1\">**</bpt>Ctrl+A<ept id=\"p1\">**</ept> to select all of the text in the window, and then press <bpt id=\"p2\">**</bpt>Ctrl+C<ept id=\"p2\">**</ept> to copy the text."},{"pos":[14999,15132],"content":"Close Bootstrap.ini and click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> in <bpt id=\"p2\">**</bpt>Microsoft Surface Deployment Accelerator<ept id=\"p2\">**</ept> deployment share properties to close the window."},{"content":"Right-click the newly created <bpt id=\"p1\">**</bpt>MEDIA001<ept id=\"p1\">**</ept> item in the <bpt id=\"p2\">**</bpt>Media<ept id=\"p2\">**</ept> folder, click <bpt id=\"p3\">**</bpt>Properties<ept id=\"p3\">**</ept>, and then click the <bpt id=\"p4\">**</bpt>Rules<ept id=\"p4\">**</ept> tab again.","pos":[15138,15272]},{"content":"Click the <bpt id=\"p1\">**</bpt>Bootstrap.ini<ept id=\"p1\">**</ept> button to open Bootstrap.ini in Notepad.","pos":[15273,15341]},{"pos":[15347,15494],"content":"Press <bpt id=\"p1\">**</bpt>Ctrl+A<ept id=\"p1\">**</ept> to select all of the text in the window, then press <bpt id=\"p2\">**</bpt>Ctrl+V<ept id=\"p2\">**</ept> to paste the text from the SDA deployment share Bootstrap.ini file."},{"content":"Delete the following lines from the Bootstrap.ini as shown in Figure 11, and then save the file:","pos":[15500,15596]},{"content":"The Bootstrap.ini file","pos":[15749,15771]},{"content":"Figure 11.","pos":[15845,15855]},{"content":"The Bootstrap.ini file of MEDIA001","pos":[15856,15890]},{"pos":[15897,15998],"content":"Close Bootstrap.ini and click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> in <bpt id=\"p2\">**</bpt>MEDIA001<ept id=\"p2\">**</ept> deployment share properties to close the window."},{"content":"In the <bpt id=\"p1\">**</bpt>Deployment Workbench<ept id=\"p1\">**</ept> under the <bpt id=\"p2\">**</bpt>Media<ept id=\"p2\">**</ept> folder, right-click the newly created <bpt id=\"p3\">**</bpt>MEDIA001<ept id=\"p3\">**</ept> and click <bpt id=\"p4\">**</bpt>Update Media Content<ept id=\"p4\">**</ept>, as shown in Figure 12.","pos":[16004,16165]},{"content":"This will update the media files with the content of the <bpt id=\"p1\">**</bpt>Microsoft Surface Deployment Accelerator<ept id=\"p1\">**</ept> deployment share.","pos":[16166,16285]},{"content":"Select the Update Media Content option","pos":[16293,16331]},{"content":"Figure 12.","pos":[16423,16433]},{"content":"Select the Update Media Content option","pos":[16434,16472]},{"content":"The <bpt id=\"p1\">**</bpt>Update Media Content<ept id=\"p1\">**</ept> window is displayed and shows the progress as the media files are created.","pos":[16479,16582]},{"content":"When the process completes, click <bpt id=\"p1\">**</bpt>Finish.<ept id=\"p1\">**</ept>","pos":[16583,16628]},{"content":"The final step is to copy the offline media files to your USB drive.","pos":[16630,16698]},{"pos":[16704,16790],"content":"In File Explorer, open the path you specified in Step 5, for example <bpt id=\"p1\">**</bpt>E:<ph id=\"ph1\">\\\\</ph>SDAMedia<ept id=\"p1\">**</ept>."},{"content":"Copy all of the files from the Content folder to the root of the USB drive.","pos":[16796,16871]},{"content":"Your USB drive is now configured as bootable offline media that contains all of the resources required to perform a deployment to a Surface device.","pos":[16873,17020]},{"content":"SDA task sequences","pos":[17025,17043]},{"content":"The SDA deployment share is configured with all of the resources required to perform a Windows deployment to a Surface device.","pos":[17046,17172]},{"content":"These resources include Windows source files, image, Surface drivers, and Surface apps.","pos":[17173,17260]},{"content":"The deployment share also contains two pre-configured task sequences, as shown in Figure 13.","pos":[17261,17353]},{"content":"These task sequences contain the steps required to perform a deployment to a Surface device using the default Windows image from the installation media or to create a reference image complete with Windows updates and applications.","pos":[17354,17584]},{"content":"To learn more about task sequences, see <bpt id=\"p1\">[</bpt>MDT 2013 Update 2 Lite Touch components<ept id=\"p1\">](https://technet.microsoft.com/itpro/windows/deploy/mdt-2013-lite-touch-components)</ept>.","pos":[17585,17750]},{"content":"Task sequences in the Deployment Workbench","pos":[17754,17796]},{"content":"Figure 13.","pos":[17880,17890]},{"content":"Task sequences in the Deployment Workbench","pos":[17891,17933]},{"content":"Deploy Microsoft Surface","pos":[17940,17964]},{"content":"The <bpt id=\"p1\">**</bpt>1 – Deploy Microsoft Surface<ept id=\"p1\">**</ept> task sequence is used to perform a complete deployment of Windows to a Surface device.","pos":[17966,18089]},{"content":"This task sequence is pre-configured by the SDA wizard and is ready to perform a deployment as soon as the wizard completes.","pos":[18090,18214]},{"content":"Running this task sequence on a Surface device deploys the unaltered Windows image copied directly from the Windows installation media you specified in the SDA wizard, along with the Surface drivers for your device.","pos":[18215,18430]},{"content":"The drivers for your Surface device will be automatically selected through the pre-configured deployment share rules.","pos":[18431,18548]},{"content":"When you run the task sequence, you will be prompted to provide the following information:","pos":[18550,18640]},{"content":"A computer name","pos":[18646,18661]},{"content":"Your domain information and the credentials required to join the domain","pos":[18667,18738]},{"content":"A product key, if one is required","pos":[18744,18777]},{"pos":[18784,18922],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>If you are deploying the same version of Windows as the version that came on your device, no product key is required."},{"content":"A time zone","pos":[18935,18946]},{"content":"An Administrator password","pos":[18952,18977]},{"pos":[18979,19134],"content":"The Surface apps you specified on the <bpt id=\"p1\">**</bpt>Configure<ept id=\"p1\">**</ept> page of the SDA wizard are automatically installed when you run this task sequence on a Surface device."},{"content":"Create Windows reference image","pos":[19140,19170]},{"content":"The <bpt id=\"p1\">**</bpt>2 – Create Windows Reference Image<ept id=\"p1\">**</ept> task sequence is used to perform a deployment to a virtual machine for the purpose of capturing an image complete with Windows Updates for use in a deployment to Surface devices.","pos":[19172,19393]},{"content":"By installing Windows Updates in your reference image, you eliminate the need to download and install those updates on each deployed Surface device.","pos":[19394,19542]},{"content":"The deployment process with an up-to-date image is significantly faster and more efficient than performing a deployment first and then installing Windows Updates on each device.","pos":[19543,19720]},{"content":"Like the <bpt id=\"p1\">**</bpt>1 – Deploy Microsoft Surface<ept id=\"p1\">**</ept> task sequence, the <bpt id=\"p2\">**</bpt>2 – Create Windows Reference Image<ept id=\"p2\">**</ept> task sequence performs a deployment of the unaltered Windows image directly from the installation media.","pos":[19722,19926]},{"content":"Creation of a reference image should always be performed on a virtual machine.","pos":[19927,20005]},{"content":"Using a virtual machine as your reference system helps to ensure that the resulting image is compatible with different hardware configurations.","pos":[20006,20149]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;nbsp;&amp;nbsp;</ph>Using a virtual machine when you create a reference image for Windows deployment is a recommended practice for performing Windows deployments with Microsoft deployment tools including the Microsoft Deployment Toolkit and System Center Configuration Manager.","pos":[20152,20430]},{"content":"These Microsoft deployment technologies use the hardware agnostic images produced from a virtual machine and a collection of managed drivers to deploy to different configurations of hardware.","pos":[20431,20622]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Deploy a Windows 10 image using MDT 2013 Update 2<ept id=\"p1\">](http://technet.microsoft.com/en-us/itpro/windows/deploy/deploy-a-windows-10-image-using-mdt)</ept>.","pos":[20623,20794]},{"content":"In addition to the information required by the <bpt id=\"p1\">**</bpt>1 – Deploy Microsoft Surface<ept id=\"p1\">**</ept> task sequence, you will also be prompted to capture an image when you run this task sequence on your reference virtual machine.","pos":[20799,21006]},{"content":"The <bpt id=\"p1\">**</bpt>Location<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>File name<ept id=\"p2\">**</ept> fields are automatically populated with the proper information for your deployment share.","pos":[21007,21131]},{"content":"All that you need to do is select the <bpt id=\"p1\">**</bpt>Capture an image of this reference computer<ept id=\"p1\">**</ept> option when you are prompted on the <bpt id=\"p2\">**</bpt>Capture Image<ept id=\"p2\">**</ept> page of the Windows Deployment Wizard.","pos":[21132,21310]},{"content":"Deployment to Surface devices","pos":[21315,21344]},{"content":"To perform a deployment from the SDA deployment share, follow this process on the Surface device:","pos":[21347,21444]},{"content":"Boot the Surface device to MDT boot media for the SDA deployment share.","pos":[21450,21521]},{"content":"You can do this over the network by using PXE boot, or from a USB drive as described in the <bpt id=\"p1\">[</bpt>Optional: Prepare offline USB media<ept id=\"p1\">](#optional)</ept> section of this article.","pos":[21522,21687]},{"content":"Select the deployment share for the version of Windows you intend to deploy and enter your credentials when you are prompted.","pos":[21693,21818]},{"pos":[21824,21925],"content":"Select the task sequence you want to run, usually the <bpt id=\"p1\">**</bpt>1 – Deploy Microsoft Surface<ept id=\"p1\">**</ept> task sequence."},{"content":"Address the task sequence prompts to pick applications, supply a password, and so on.","pos":[21931,22016]},{"content":"The task sequence performs the automated deployment using the options specified.","pos":[22022,22102]},{"content":"Boot the Surface device from the network","pos":[22108,22148]},{"content":"To boot the Surface device from the network, the Microsoft Surface Deployment Accelerator wizard must have been run on a Windows Server 2012 R2 or later environment that was configured with the Windows Deployment Services (WDS).","pos":[22150,22378]},{"content":"WDS must have been configured to respond to network boot (PXE boot) requests and the boot files must have been imported into WDS.","pos":[22379,22508]},{"content":"The SDA wizard will import these file automatically if the <bpt id=\"p1\">**</bpt>Import boot media into the local Windows Deployment Service<ept id=\"p1\">**</ept> check box was selected on the page for the version of Windows you intend to deploy.","pos":[22509,22715]},{"content":"To boot the Surface device from the network, you must also use a Microsoft Surface Ethernet Adapter or the Ethernet port on a Microsoft Surface Dock.","pos":[22717,22866]},{"content":"Third-party Ethernet adapters are not supported for network boot (PXE boot).","pos":[22867,22943]},{"content":"A keyboard is also required.","pos":[22944,22972]},{"content":"Both the Microsoft Surface Type Cover and keyboards connected via USB to the device or dock are supported.","pos":[22973,23079]},{"content":"To instruct your Surface device to boot from the network, start with the device powered off and follow these steps:","pos":[23081,23196]},{"content":"Press and hold the <bpt id=\"p1\">**</bpt>Volume Down<ept id=\"p1\">**</ept> button, press and release the <bpt id=\"p2\">**</bpt>Power<ept id=\"p2\">**</ept> button.","pos":[23202,23284]},{"content":"Continue holding the <bpt id=\"p1\">**</bpt>Volume Down<ept id=\"p1\">**</ept> button until the device has begun to boot from the network.","pos":[23285,23381]},{"content":"Press <bpt id=\"p1\">**</bpt>Enter<ept id=\"p1\">**</ept> when prompted by the dialog on the screen.","pos":[23387,23445]},{"content":"This prompt indicates that your device has found the WDS PXE server over the network.","pos":[23446,23531]},{"content":"If you have configured more than one deployment share on this device, you will be prompted to select between the boot images for each deployment share.","pos":[23537,23688]},{"content":"For example, if you created both a Windows 10 and a Windows 8.1 deployment share, you will be prompted to choose between these two options.","pos":[23689,23828]},{"content":"Enter the domain credentials that you use to log on to the server where SDA is installed when you are prompted, as shown in Figure 14.","pos":[23834,23968]},{"content":"Prompt for credentials to the deployment share","pos":[23976,24022]},{"content":"Figure 14.","pos":[24118,24128]},{"content":"The prompt for credentials to the deployment share","pos":[24129,24179]},{"content":"The Windows Deployment Wizard will start from the deployment share to walk you through the deployment process.","pos":[24186,24296]},{"content":"Alternatively boot the devices from the USB stick","pos":[24302,24351]},{"content":"To boot a device from the USB stick:","pos":[24353,24389]},{"content":"Press and hold the <bpt id=\"p1\">**</bpt>Volume Down<ept id=\"p1\">**</ept> button, press and release the <bpt id=\"p2\">**</bpt>Power<ept id=\"p2\">**</ept> button.","pos":[24395,24477]},{"content":"Continue holding the <bpt id=\"p1\">**</bpt>Volume Down<ept id=\"p1\">**</ept> button until the device has begun to boot from the USB drive.","pos":[24478,24576]},{"content":"The Windows Deployment Wizard will start from the deployment share to walk you through the deployment process.","pos":[24582,24692]},{"content":"Run the Deploy Microsoft Surface task sequence","pos":[24698,24744]},{"content":"To run the Deploy Microsoft Surface task sequence:","pos":[24746,24796]},{"pos":[24802,24938],"content":"On the <bpt id=\"p1\">**</bpt>Task Sequence<ept id=\"p1\">**</ept> page, select the <bpt id=\"p2\">**</bpt>1 – Deploy Microsoft Surface<ept id=\"p2\">**</ept> task sequence as shown in Figure 15, and then click <bpt id=\"p3\">**</bpt>Next.<ept id=\"p3\">**</ept>"},{"content":"Select the task sequence","pos":[24946,24970]},{"content":"Figure 15.","pos":[25039,25049]},{"content":"Select the 1 – Deploy Microsoft Surface task sequence","pos":[25050,25103]},{"content":"On the <bpt id=\"p1\">**</bpt>Computer Details<ept id=\"p1\">**</ept> page, type a name for the Surface device in the <bpt id=\"p2\">**</bpt>Computer Name<ept id=\"p2\">**</ept> box.","pos":[25110,25208]},{"content":"In the <bpt id=\"p1\">**</bpt>Join a domain<ept id=\"p1\">**</ept> section, type your domain name and credentials as shown in Figure 16, and then click <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept>.","pos":[25209,25328]},{"content":"Computer name and domain credentials","pos":[25336,25372]},{"content":"Figure 16.","pos":[25459,25469]},{"content":"Enter the computer name and domain information","pos":[25470,25516]},{"content":"On the <bpt id=\"p1\">**</bpt>Product Key<ept id=\"p1\">**</ept> page, keep the <bpt id=\"p2\">**</bpt>No product key is required<ept id=\"p2\">**</ept> check box selected if you are deploying the same version and edition of Windows to your Surface devices as they came with from the factory.","pos":[25523,25731]},{"content":"If you are deploying a different version or edition of Windows to the device, such as Windows Enterprise, select the licensing option that is applicable to your scenario.","pos":[25732,25902]},{"pos":[25908,26026],"content":"On the <bpt id=\"p1\">**</bpt>Locale and Time<ept id=\"p1\">**</ept> page, select your desired <bpt id=\"p2\">**</bpt>Language Settings<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>Time Zone<ept id=\"p3\">**</ept>, and then click <bpt id=\"p4\">**</bpt>Next.<ept id=\"p4\">**</ept>"},{"pos":[26032,26171],"content":"On the <bpt id=\"p1\">**</bpt>Administrator Password<ept id=\"p1\">**</ept> page, type a password for the local Administrator account on the Surface device, and then click <bpt id=\"p2\">**</bpt>Next.<ept id=\"p2\">**</ept>"},{"content":"On the <bpt id=\"p1\">**</bpt>BitLocker<ept id=\"p1\">**</ept> page, select the <bpt id=\"p2\">**</bpt>Enable BitLocker<ept id=\"p2\">**</ept> option along with your desired configuration of BitLocker protectors if you want to encrypt the device.","pos":[26177,26339]},{"content":"Otherwise, keep the <bpt id=\"p1\">**</bpt>Do not enable BitLocker for this computer<ept id=\"p1\">**</ept> check box selected, and then click <bpt id=\"p2\">**</bpt>Next.<ept id=\"p2\">**</ept>","pos":[26340,26450]},{"content":"On the <bpt id=\"p1\">**</bpt>Ready<ept id=\"p1\">**</ept> page, verify your selections and then click <bpt id=\"p2\">**</bpt>Begin<ept id=\"p2\">**</ept> to start the automated deployment to this device.","pos":[26456,26576]},{"content":"The deployment will not require user interaction again.","pos":[26577,26632]},{"content":"The Windows Deployment Wizard will close and an <bpt id=\"p1\">**</bpt>Installation Progress<ept id=\"p1\">**</ept> window is displayed to show progress of the task sequence as the image is applied and applications are installed (Figure 17).","pos":[26633,26832]},{"content":"Installation progress window","pos":[26840,26868]},{"content":"Figure 17.","pos":[26956,26966]},{"content":"The Installation Progress window","pos":[26967,26999]},{"content":"When the deployment task sequence completes, a <bpt id=\"p1\">**</bpt>Success<ept id=\"p1\">**</ept> window is displayed.","pos":[27006,27085]},{"content":"Click <bpt id=\"p1\">**</bpt>Finish<ept id=\"p1\">**</ept> to complete the deployment and begin using your Surface device.","pos":[27086,27166]}],"content":"---\ntitle: Step by step Surface Deployment Accelerator (Surface)\ndescription: This article shows you how to install Microsoft Surface Deployment Accelerator (SDA), configure a deployment share for the deployment of Windows to Surface devices, and perform a deployment to Surface devices.\nms.assetid: A944FB9C-4D81-4868-AFF6-B9D1F5CF1032\nkeywords: deploy, configure\nms.prod: w10\nms.mktglfcycl: deploy\nms.pagetype: surface, devices\nms.sitesec: library\nauthor: miladCA\n---\n\n# Step by step: Surface Deployment Accelerator\n\n\nThis article shows you how to install Microsoft Surface Deployment Accelerator (SDA), configure a deployment share for the deployment of Windows to Surface devices, and perform a deployment to Surface devices. This article also contains instructions on how to perform these tasks without an Internet connection or without support for Windows Deployment Services network boot (PXE).\n\n## How to install Surface Deployment Accelerator\n\n\nFor information about prerequisites and instructions for how to download and install SDA, see [Microsoft Surface Deployment Accelerator](microsoft-surface-deployment-accelerator.md).\n\n1.  Download SDA, which is included in [Surface Tools for IT](http://go.microsoft.com/fwlink/p/?LinkId=618121) on the Microsoft Download Center.\n\n2.  Run the SDA installation file, named **Surface\\_Deployment\\_Accelerator\\_*xxxx*.msi**, where *xxxx* is the current version number.\n\n3.  Accept the End User License Agreement (EULA) by selecting the check box, and then click **Install**, as shown in Figure 1.\n\n    ![Surface Deployment Accelerator setup](images/sdasteps-fig1.png \"Surface Deployment Accelerator setup\")\n\n    *Figure 1. SDA setup*\n\n4.  Click **Finish** to complete the installation of SDA.\n\nThe tool installs in the SDA program group, as shown in Figure 2.\n\n![SDA program group and icon](images/sdasteps-fig2.png \"SDA program group and icon\")\n\n*Figure 2. The SDA program group and icon*\n\n>**Note:**&nbsp;&nbsp;At this point the tool has not yet prepared any deployment environment or downloaded any materials from the Internet.\n\n \n\n## Create a deployment share\n\n\nThe following steps show you how to create a deployment share for Windows 10 that supports Surface 3, Surface Pro 3, Surface Pro 4, Surface Book, the Surface Firmware Tool, the Surface Asset Tag Tool, and Office 365. As you follow the steps below, make the selections that are applicable for your organization. For example, you could choose to deploy Windows 10 to Surface Book only, without any of the Surface apps.\n\n>**Note:**&nbsp;&nbsp;SDA lets you create deployment shares for both Windows 8.1 and Windows 10 deployments, but you can only create a single deployment share at a time. Therefore, to create both Windows 8.1 and Windows 10 deployment shares, you will need to run the tool twice.\n\n \n\n1.  Open the SDA wizard by double-clicking the icon in the **Surface Deployment Accelerator** program group on the Start screen.\n\n2.  On the **Welcome** page, click **Next** to continue.\n\n3.  On the **Verify System** page, the SDA wizard verifies the prerequisites required for an SDA deployment share. This process also checks for the presence of the Windows Assessment and Deployment Kit (Windows ADK) for Windows 10 and the Microsoft Deployment Toolkit (MDT) 2013 Update 2. If these tools are not detected, they are downloaded and installed automatically. Click **Next** to continue.\n\n  >**Note:**&nbsp;&nbsp;As of SDA version 1.96.0405, SDA will install only the components of the Windows ADK that are required for deployment, as follows:\n    * Deployment tools\n    * User State Migration Tool (USMT)\n    * Windows Preinstallation Environment (WinPE)</br></br>\n\n  >**Note:**&nbsp;&nbsp;As of SDA version 1.96.0405, SDA will install and use MDT 2013 Update 2. Earlier versions of SDA are compatible only with MDT 2013 Update 1.\n\n4.  On the **Windows 8.1** page, to create a Windows 10 deployment share, do not select the **Would you like to support Windows 8.1** check box. Click **Next** to continue.\n\n5.  On the **Windows 10** page, to create a Windows 10 deployment share, select the **Would you like to support Windows 10** check box. Supply the following information before you click **Next** to continue:\n\n    -   **Configure Deployment Share for Windows 10**\n\n        -   **Local Path** – Specify or browse to a location on the local storage device where you would like to store the deployment share files for the Windows 10 SDA deployment share. For example, **E:\\\\SDAWin10\\\\** is the location specified in Figure 3.\n\n        -   **Share Name** – Specify a name for the file share that will be used to access the deployment share on this server from the network. For example, **SDAWin10** is the deployment share name shown in Figure 3. The local path folder is automatically shared by the SDA scripts under this name to the group **Everyone** with a permission level of **Full Control**.\n\n    -   **Windows 10 Deployment Services**\n\n        -   Select the **Import boot media into the local Windows Deployment Service** check box if you would like to boot your Surface devices from the network to perform the Windows deployment. Windows Deployment Services must be installed and configured to respond to PXE boot requests. See [Windows Deployment Services Getting Started Guide for Windows Server 2012](http://go.microsoft.com/fwlink/p/?LinkId=761072) for more information about how to configure Windows Deployment Services for PXE boot.\n\n    -   **Windows 10 Source Files**\n\n        -   **Local Path** – Specify or browse to the root directory of Windows 10 installation files. If you have an ISO file, mount it and browse to the root of the mounted drive. You must have a full set of source files, not just **Install.wim**.\n\n    ![Specify Windows 10 deployment share options](images/sdasteps-fig3.png \"Specify Windows 10 deployment share options\")\n\n    *Figure 3. Specify Windows 10 deployment share options*\n\n6.  On the **Configure** page, select the check box next to each device or app that you want to include in your deployment share. Note that Surface Pro 4 and Surface Book only support Windows 10 and are not available for the deployment of Windows 8.1. The Surface Firmware Tool is only applicable to Surface 3 and Surface Pro 3 and cannot be selected unless Surface 3 or Surface Pro 3 drivers are selected, as shown in Figure 4. Click **Next** to continue.\n\n    ![Firmware tool selection](images/sdasteps-fig4-select.png \"Firmware tool selection\")\n\n    *Figure 4. Selecting Surface Firmware Tool requires Surface Pro 3 drivers*\n\n    >**Note:**&nbsp;&nbsp;You cannot select both Surface 3 and Surface 3 LTE models at the same time.\n\n7.  On the **Summary** page confirm your selections and click **Finish** to begin the creation of your deployment share. The process can take several minutes as files are downloaded, the tools are installed, and the deployment share is created. While the SDA scripts are creating your deployment share, an **Installation Progress** window will be displayed, as shown in Figure 5. A typical SDA process includes:\n\n    -   Download of Windows ADK\n\n    -   Installation of Windows ADK\n\n    -   Download of MDT\n\n    -   Installation of MDT\n\n    -   Download of Surface apps and drivers\n\n    -   Creation of the deployment share\n\n    -   Import of Windows installation files into the deployment share\n\n    -   Import of the apps and drivers into the deployment share\n\n    -   Creation of rules and task sequences for Windows deployment\n\n    ![The installatin progress window](images/sdasteps-fig5-installwindow.png \"The installatin progress window\")\n\n    *Figure 5. The Installation Progress window*\n\n8.  When the SDA process completes the creation of your deployment share, a **Success** window is displayed. Click **Finish** to close the window. At this point your deployment share is now ready to perform a Windows deployment to Surface devices.\n\n### Optional: Create a deployment share without an Internet connection\n\nIf you are unable to connect to the Internet with your deployment server, or if you want to download the Surface drivers and apps separately, you can specify a local source for the driver an app files at the time of deployment share creation. On the **Configure** page of the SDA wizard, select the **Copy from a Local Directory** check box, as shown in Figure 6. The **Download from the Internet** check box will be automatically deselected. Enter the folder location where you have placed the driver and app files in the **Local Path** field, as shown in Figure 6.\n\n>**Note:**&nbsp;&nbsp;All of the downloaded driver and applications files must be located in the same folder. If a required driver or application file is missing from the selected folder when you click **Next**, a warning is displayed and the wizard will not proceed to the next step.\n\n>**Note:**&nbsp;&nbsp;The driver and app files do not need to be extracted from the downloaded .zip files.\n\n>**Note:**&nbsp;&nbsp;Including Office 365 in your deployment share requires an Internet connection and cannot be performed if you use local files.\n\n![Specify Surface driver and app files](images/sdasteps-fig6-specify-driver-app-files.png \"Specify Surface driver and app files\")\n\n*Figure 6. Specify the Surface driver and app files from a local path*\n\n>**Note:**&nbsp;&nbsp;The **Copy from a Local Directory** check box is only available in SDA version 1.90.0221 or later.\n\n \n\n### <a href=\"\" id=\"optional\"></a>Optional: Prepare offline USB media\n\nYou can use USB media to perform an SDA deployment if your Surface device is unable to boot from the network. For example, if you do not have a Microsoft Surface Ethernet Adapter or Microsoft Surface dock to facilitate network boot (PXE boot). The USB drive produced by following these steps includes a complete copy of the SDA deployment share and can be run on a Surface device without a network connection.\n\n>**Note:**&nbsp;&nbsp;The offline media files for the complete SDA deployment share are approximately 9 GB in size. Your USB drive must be at least 9 GB in size. A 16 GB USB drive is recommended.\n\n \n\nBefore you can create bootable media files within the MDT Deployment Workbench or copy those files to a USB drive, you must first configure that USB drive to be bootable. Using [DiskPart](http://go.microsoft.com/fwlink/p/?LinkId=761073), create a partition, format the partition as FAT32, and set the partition to be active. To run DiskPart, open an administrative PowerShell or Command Prompt window, and then run the following sequence of commands, as shown in Figure 7:\n\n1.  **diskpart** – Opens DiskPart to manage disks and partitions.\n\n2.  **list disk** – Displays a list of the disks available in your system; use this list to identify the disk number that corresponds with your USB drive.\n\n3.  **sel disk 2** – Selects your USB drive; use the number that corresponds with the disk in your system.\n\n4.  **clean** – Removes all configuration from your USB drive.\n\n    >**Warning:**&nbsp;&nbsp;This step will remove all information from your drive. Verify that your USB drive does not contain any needed data before you perform the **clean** command.\n\n     \n\n5.  **create part pri** – Creates a primary partition on the USB drive.\n\n6.  **format fs=fat32 quick** – Formats the partition with the FAT32 file system, performing a quick format. FAT32 is required to boot the device from UEFI systems like Surface devices.\n\n7.  **assign** – Assigns the next available drive letter to the newly created FAT32 volume.\n\n8.  **active** – Sets the partition to be active, which is required to boot the volume.\n\n9.  **exit** – Exits DiskPart, after which you can close the PowerShell or Command Prompt window.\n\n    ![Use DiskPart to prepare a USB drive for boot](images/sdasteps-fig7-diskpart.png \"Use DiskPart to prepare a USB drive for boot\")\n\n    *Figure 7. Use DiskPart to prepare a USB drive for boot*\n\n    >**Note:**&nbsp;&nbsp;You can format your USB drive with FAT32 from Disk Management, but you must still use DiskPart to set the partition as active for the drive to boot properly.\n\n     \n\nAfter you have prepared the USB drive for boot, the next step is to generate offline media from the SDA deployment share. To create this media, follow these steps:\n\n1.  Open the **Deployment Workbench** from the **Microsoft Deployment Toolkit** group on your Start screen.\n\n2.  Expand the **Deployment Shares** node and the **Microsoft Surface Deployment Accelerator** deployment share.\n\n3.  Expand the folder **Advanced Configuration** and select the **Media** folder.\n\n4.  Right-click the **Media** folder and click **New Media** as shown in Figure 8 to start the New Media Wizard.\n\n    ![The Media folder of the SDA deployment share](images/sdasteps-fig8-mediafolder.png \"The Media folder of the SDA deployment share\")\n\n    *Figure 8. The Media folder of the SDA deployment share*\n\n5.  On the **General Settings** page in the **Media path** field, enter or browse to a folder where you will create the files for the new offline media. See the example **E:\\\\SDAMedia** in Figure 9. Leave the default profile **Everything** selected in the **Selection profile** drop-down menu, and then click **Next**.\n\n    ![Specify a location and selection profile for your offline media](images/sdasteps-fig9-location.png \"Specify a location and selection profile for your offline media\")\n\n    *Figure 9. Specify a location and selection profile for your offline media*\n\n6.  On the **Summary** page verify your selections, and then click **Next** to begin creation of the media.\n\n7.  A **Progress** page is displayed while the media is created.\n\n8.  On the **Confirmation** page, click **Finish** to complete creation of the media.\n\n9.  Right-click the **Microsoft Surface Deployment Accelerator** deployment share folder, click **Properties**, and then click the **Rules** tab as shown in Figure 10.\n\n    ![Rules of the SDA deployment share](images/sdasteps-fig10-rules.png \"Rules of the SDA deployment share\")\n\n    *Figure 10. Rules of the SDA deployment share*\n\n10. Use your mouse to highlight all of the text displayed in the text box of the **Rules** tab, and then press **Ctrl+C** to copy the text.\n\n11. Click **OK** to close the **Microsoft Surface Deployment Accelerator** deployment share properties.\n\n12. Right-click the newly created **MEDIA001** item in the **Media** folder, click **Properties**, and then click the **Rules** tab.\n\n13. Use your mouse to highlight all of the text displayed in the text box of the **Rules** tab, and then press **Ctrl+V** to paste the text you copied from the **Microsoft Surface Deployment Accelerator** deployment share rules.\n\n14. Right-click the **Microsoft Surface Deployment Accelerator** deployment share folder, click **Properties**, and then click the **Rules** tab again. Click the **Bootstrap.ini** button to open Bootstrap.ini in Notepad.\n\n15. Press **Ctrl+A** to select all of the text in the window, and then press **Ctrl+C** to copy the text.\n\n16. Close Bootstrap.ini and click **OK** in **Microsoft Surface Deployment Accelerator** deployment share properties to close the window.\n\n17. Right-click the newly created **MEDIA001** item in the **Media** folder, click **Properties**, and then click the **Rules** tab again. Click the **Bootstrap.ini** button to open Bootstrap.ini in Notepad.\n\n18. Press **Ctrl+A** to select all of the text in the window, then press **Ctrl+V** to paste the text from the SDA deployment share Bootstrap.ini file.\n\n19. Delete the following lines from the Bootstrap.ini as shown in Figure 11, and then save the file:\n\n    ```\n    UserID=\n    UserDomain=\n    UserPassword=\n    DeployRoot=\\\\SDASERVER\\SDAWin10\n    UserID=\n    UserDomain=\n    UserPassword=\n    ```\n\n    ![The Bootstrap.ini file](images/sdasteps-fig11-bootstrap.ini.png \"The Bootstrap.ini file\")\n\n    *Figure 11. The Bootstrap.ini file of MEDIA001*\n\n20. Close Bootstrap.ini and click **OK** in **MEDIA001** deployment share properties to close the window.\n\n21. In the **Deployment Workbench** under the **Media** folder, right-click the newly created **MEDIA001** and click **Update Media Content**, as shown in Figure 12. This will update the media files with the content of the **Microsoft Surface Deployment Accelerator** deployment share.\n\n    ![Select the Update Media Content option](images/sdasteps-fig12-updatemedia.png \"Select the Update Media Content option\")\n    \n    *Figure 12. Select the Update Media Content option*\n\n22. The **Update Media Content** window is displayed and shows the progress as the media files are created. When the process completes, click **Finish.**\n\nThe final step is to copy the offline media files to your USB drive.\n\n1.  In File Explorer, open the path you specified in Step 5, for example **E:\\\\SDAMedia**.\n\n2.  Copy all of the files from the Content folder to the root of the USB drive.\n\nYour USB drive is now configured as bootable offline media that contains all of the resources required to perform a deployment to a Surface device.\n\n## SDA task sequences\n\n\nThe SDA deployment share is configured with all of the resources required to perform a Windows deployment to a Surface device. These resources include Windows source files, image, Surface drivers, and Surface apps. The deployment share also contains two pre-configured task sequences, as shown in Figure 13. These task sequences contain the steps required to perform a deployment to a Surface device using the default Windows image from the installation media or to create a reference image complete with Windows updates and applications. To learn more about task sequences, see [MDT 2013 Update 2 Lite Touch components](https://technet.microsoft.com/itpro/windows/deploy/mdt-2013-lite-touch-components).\n\n![Task sequences in the Deployment Workbench](images/sdasteps-fig13-taskseq.png \"Task sequences in the Deployment Workbench\")\n\n*Figure 13. Task sequences in the Deployment Workbench*\n\n### Deploy Microsoft Surface\n\nThe **1 – Deploy Microsoft Surface** task sequence is used to perform a complete deployment of Windows to a Surface device. This task sequence is pre-configured by the SDA wizard and is ready to perform a deployment as soon as the wizard completes. Running this task sequence on a Surface device deploys the unaltered Windows image copied directly from the Windows installation media you specified in the SDA wizard, along with the Surface drivers for your device. The drivers for your Surface device will be automatically selected through the pre-configured deployment share rules.\n\nWhen you run the task sequence, you will be prompted to provide the following information:\n\n-   A computer name\n\n-   Your domain information and the credentials required to join the domain\n\n-   A product key, if one is required\n\n    >**Note:**&nbsp;&nbsp;If you are deploying the same version of Windows as the version that came on your device, no product key is required.\n\n     \n\n-   A time zone\n\n-   An Administrator password\n\nThe Surface apps you specified on the **Configure** page of the SDA wizard are automatically installed when you run this task sequence on a Surface device.\n\n### Create Windows reference image\n\nThe **2 – Create Windows Reference Image** task sequence is used to perform a deployment to a virtual machine for the purpose of capturing an image complete with Windows Updates for use in a deployment to Surface devices. By installing Windows Updates in your reference image, you eliminate the need to download and install those updates on each deployed Surface device. The deployment process with an up-to-date image is significantly faster and more efficient than performing a deployment first and then installing Windows Updates on each device.\n\nLike the **1 – Deploy Microsoft Surface** task sequence, the **2 – Create Windows Reference Image** task sequence performs a deployment of the unaltered Windows image directly from the installation media. Creation of a reference image should always be performed on a virtual machine. Using a virtual machine as your reference system helps to ensure that the resulting image is compatible with different hardware configurations.\n\n>**Note:**&nbsp;&nbsp;Using a virtual machine when you create a reference image for Windows deployment is a recommended practice for performing Windows deployments with Microsoft deployment tools including the Microsoft Deployment Toolkit and System Center Configuration Manager. These Microsoft deployment technologies use the hardware agnostic images produced from a virtual machine and a collection of managed drivers to deploy to different configurations of hardware. For more information, see [Deploy a Windows 10 image using MDT 2013 Update 2](http://technet.microsoft.com/en-us/itpro/windows/deploy/deploy-a-windows-10-image-using-mdt).\n\n \n\nIn addition to the information required by the **1 – Deploy Microsoft Surface** task sequence, you will also be prompted to capture an image when you run this task sequence on your reference virtual machine. The **Location** and **File name** fields are automatically populated with the proper information for your deployment share. All that you need to do is select the **Capture an image of this reference computer** option when you are prompted on the **Capture Image** page of the Windows Deployment Wizard.\n\n## Deployment to Surface devices\n\n\nTo perform a deployment from the SDA deployment share, follow this process on the Surface device:\n\n1.  Boot the Surface device to MDT boot media for the SDA deployment share. You can do this over the network by using PXE boot, or from a USB drive as described in the [Optional: Prepare offline USB media](#optional) section of this article.\n\n2.  Select the deployment share for the version of Windows you intend to deploy and enter your credentials when you are prompted.\n\n3.  Select the task sequence you want to run, usually the **1 – Deploy Microsoft Surface** task sequence.\n\n4.  Address the task sequence prompts to pick applications, supply a password, and so on.\n\n5.  The task sequence performs the automated deployment using the options specified.\n\n### Boot the Surface device from the network\n\nTo boot the Surface device from the network, the Microsoft Surface Deployment Accelerator wizard must have been run on a Windows Server 2012 R2 or later environment that was configured with the Windows Deployment Services (WDS). WDS must have been configured to respond to network boot (PXE boot) requests and the boot files must have been imported into WDS. The SDA wizard will import these file automatically if the **Import boot media into the local Windows Deployment Service** check box was selected on the page for the version of Windows you intend to deploy.\n\nTo boot the Surface device from the network, you must also use a Microsoft Surface Ethernet Adapter or the Ethernet port on a Microsoft Surface Dock. Third-party Ethernet adapters are not supported for network boot (PXE boot). A keyboard is also required. Both the Microsoft Surface Type Cover and keyboards connected via USB to the device or dock are supported.\n\nTo instruct your Surface device to boot from the network, start with the device powered off and follow these steps:\n\n1.  Press and hold the **Volume Down** button, press and release the **Power** button. Continue holding the **Volume Down** button until the device has begun to boot from the network.\n\n2.  Press **Enter** when prompted by the dialog on the screen. This prompt indicates that your device has found the WDS PXE server over the network.\n\n3.  If you have configured more than one deployment share on this device, you will be prompted to select between the boot images for each deployment share. For example, if you created both a Windows 10 and a Windows 8.1 deployment share, you will be prompted to choose between these two options.\n\n4.  Enter the domain credentials that you use to log on to the server where SDA is installed when you are prompted, as shown in Figure 14.\n\n    ![Prompt for credentials to the deployment share](images/sdasteps-fig14-credentials.png \"Prompt for credentials to the deployment share\")\n\n    *Figure 14. The prompt for credentials to the deployment share*\n\n5.  The Windows Deployment Wizard will start from the deployment share to walk you through the deployment process.\n\n### Alternatively boot the devices from the USB stick\n\nTo boot a device from the USB stick:\n\n1.  Press and hold the **Volume Down** button, press and release the **Power** button. Continue holding the **Volume Down** button until the device has begun to boot from the USB drive.\n\n2.  The Windows Deployment Wizard will start from the deployment share to walk you through the deployment process.\n\n### Run the Deploy Microsoft Surface task sequence\n\nTo run the Deploy Microsoft Surface task sequence:\n\n1.  On the **Task Sequence** page, select the **1 – Deploy Microsoft Surface** task sequence as shown in Figure 15, and then click **Next.**\n\n    ![Select the task sequence](images/sdasteps-fig15-deploy.png \"Select the task sequence\")\n\n    *Figure 15. Select the 1 – Deploy Microsoft Surface task sequence*\n\n2.  On the **Computer Details** page, type a name for the Surface device in the **Computer Name** box. In the **Join a domain** section, type your domain name and credentials as shown in Figure 16, and then click **Next**.\n\n    ![Computer name and domain credentials](images/sdasteps-fig16-computername.png \"Computer name and domain credentials\")\n\n    *Figure 16. Enter the computer name and domain information*\n\n3.  On the **Product Key** page, keep the **No product key is required** check box selected if you are deploying the same version and edition of Windows to your Surface devices as they came with from the factory. If you are deploying a different version or edition of Windows to the device, such as Windows Enterprise, select the licensing option that is applicable to your scenario.\n\n4.  On the **Locale and Time** page, select your desired **Language Settings** and **Time Zone**, and then click **Next.**\n\n5.  On the **Administrator Password** page, type a password for the local Administrator account on the Surface device, and then click **Next.**\n\n6.  On the **BitLocker** page, select the **Enable BitLocker** option along with your desired configuration of BitLocker protectors if you want to encrypt the device. Otherwise, keep the **Do not enable BitLocker for this computer** check box selected, and then click **Next.**\n\n7.  On the **Ready** page, verify your selections and then click **Begin** to start the automated deployment to this device. The deployment will not require user interaction again. The Windows Deployment Wizard will close and an **Installation Progress** window is displayed to show progress of the task sequence as the image is applied and applications are installed (Figure 17).\n\n    ![Installation progress window](images/sdasteps-fig17-installprogresswindow.png \"Installation progress window\")\n\n    *Figure 17. The Installation Progress window*\n\n8.  When the deployment task sequence completes, a **Success** window is displayed. Click **Finish** to complete the deployment and begin using your Surface device.\n\n \n\n \n\n\n\n\n\n"}