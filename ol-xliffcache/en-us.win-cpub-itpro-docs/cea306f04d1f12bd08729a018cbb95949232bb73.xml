{"nodes":[{"content":"Manage TPM commands (Windows 10)","pos":[11,43]},{"content":"This topic for the IT professional describes how to manage which Trusted Platform Module (TPM) commands are available to domain users and to local users.","pos":[57,210]},{"content":"Manage TPM commands","pos":[366,385]},{"content":"Applies to","pos":[389,399]},{"content":"Windows 10","pos":[406,416]},{"content":"This topic for the IT professional describes how to manage which Trusted Platform Module (TPM) commands are available to domain users and to local users.","pos":[418,571]},{"content":"After a computer user takes ownership of the TPM, the TPM owner can limit which TPM commands can be run by creating a list of blocked TPM commands.","pos":[613,760]},{"content":"The list can be created and applied to all computers in a domain by using Group Policy, or a list can be created for individual computers by using the TPM MMC.","pos":[761,920]},{"content":"Because some hardware vendors might provide additional commands or the Trusted Computing Group may decide to add commands in the future, the TPM MMC also supports the ability to block new commands.","pos":[921,1118]},{"content":"Domain administrators can configure a list of blocked TPM commands by using Group Policy.","pos":[1120,1209]},{"content":"Local administrators cannot allow TPM commands that are blocked through Group Policy.","pos":[1210,1295]},{"content":"For more information about this Group Policy setting, see <bpt id=\"p1\">[</bpt>TPM Group Policy settings<ept id=\"p1\">](trusted-platform-module-services-group-policy-settings.md#bkmk-tpmgp-clbtc)</ept>.","pos":[1296,1458]},{"content":"Local administrators can block commands by using the TPM MMC, and commands on the default block list are also blocked unless the Group Policy settings are changed from the default settings.","pos":[1460,1649]},{"content":"Two policy settings control the enforcement which allows TPM commands to run.","pos":[1651,1728]},{"content":"For more information about these policy settings, see <bpt id=\"p1\">[</bpt>TPM Group Policy settings<ept id=\"p1\">](trusted-platform-module-services-group-policy-settings.md#bkmk-tpmgp-idlb)</ept>.","pos":[1729,1886]},{"content":"The following procedures describe how to manage the TPM command lists.","pos":[1888,1958]},{"content":"You must be a member of the local Administrators group.","pos":[1959,2014]},{"content":"To block TPM commands by using the Local Group Policy Editor","pos":[2018,2078]},{"content":"Open the Local Group Policy Editor (gpedit.msc).","pos":[2086,2134]},{"content":"If the <bpt id=\"p1\">**</bpt>User Account Control<ept id=\"p1\">**</ept> dialog box appears, confirm that the action it displays is what you want, and then click <bpt id=\"p2\">**</bpt>Yes<ept id=\"p2\">**</ept>.","pos":[2135,2264]},{"pos":[2275,2448],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept>  Administrators with appropriate rights in a domain can configure a Group Policy Object (GPO) that can be applied through Active Directory Domain Services (AD DS)."},{"pos":[2459,2578],"content":"In the console tree, under <bpt id=\"p1\">**</bpt>Computer Configuration<ept id=\"p1\">**</ept>, expand <bpt id=\"p2\">**</bpt>Administrative Templates<ept id=\"p2\">**</ept>, and then expand <bpt id=\"p3\">**</bpt>System<ept id=\"p3\">**</ept>."},{"pos":[2583,2644],"content":"Under <bpt id=\"p1\">**</bpt>System<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>Trusted Platform Module Services<ept id=\"p2\">**</ept>."},{"pos":[2649,2730],"content":"In the details pane, double-click <bpt id=\"p1\">**</bpt>Configure the list of blocked TPM commands<ept id=\"p1\">**</ept>."},{"pos":[2735,2778],"content":"Click <bpt id=\"p1\">**</bpt>Enabled<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Show<ept id=\"p2\">**</ept>."},{"pos":[2783,2887],"content":"For each command that you want to block, click <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept>, enter the command number, and then click <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept>."},{"pos":[2898,3037],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept>  For a list of commands, see the <bpt id=\"p2\">[</bpt>Trusted Platform Module (TPM) Specifications<ept id=\"p2\">](http://go.microsoft.com/fwlink/p/?linkid=139770)</ept>."},{"pos":[3048,3137],"content":"After you have added numbers for each command that you want to block, click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> twice."},{"content":"Close the Local Group Policy Editor.","pos":[3142,3178]},{"content":"To block or allow TPM commands by using the TPM MMC","pos":[3182,3233]},{"content":"Open the TPM MMC (tpm.msc)","pos":[3241,3267]},{"pos":[3272,3401],"content":"If the <bpt id=\"p1\">**</bpt>User Account Control<ept id=\"p1\">**</ept> dialog box appears, confirm that the action it displays is what you want, and then click <bpt id=\"p2\">**</bpt>Yes<ept id=\"p2\">**</ept>."},{"content":"In the console tree, click <bpt id=\"p1\">**</bpt>Command Management<ept id=\"p1\">**</ept>.","pos":[3406,3456]},{"content":"A list of TPM commands is displayed.","pos":[3457,3493]},{"content":"In the list, select a command that you want to block or allow.","pos":[3498,3560]},{"content":"Under <bpt id=\"p1\">**</bpt>Actions<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>Block Selected Command<ept id=\"p2\">**</ept> or <bpt id=\"p3\">**</bpt>Allow Selected Command<ept id=\"p3\">**</ept> as needed.","pos":[3565,3657]},{"content":"If <bpt id=\"p1\">**</bpt>Allow Selected Command<ept id=\"p1\">**</ept> is unavailable, that command is currently blocked by Group Policy.","pos":[3658,3754]},{"content":"To block new commands","pos":[3758,3779]},{"content":"Open the TPM MMC (tpm.msc).","pos":[3787,3814]},{"pos":[3820,3949],"content":"If the <bpt id=\"p1\">**</bpt>User Account Control<ept id=\"p1\">**</ept> dialog box appears, confirm that the action it displays is what you want, and then click <bpt id=\"p2\">**</bpt>Yes<ept id=\"p2\">**</ept>."},{"content":"In the console tree, click <bpt id=\"p1\">**</bpt>Command Management<ept id=\"p1\">**</ept>.","pos":[3955,4005]},{"content":"A list of TPM commands is displayed.","pos":[4006,4042]},{"content":"In the <bpt id=\"p1\">**</bpt>Action<ept id=\"p1\">**</ept> pane, click <bpt id=\"p2\">**</bpt>Block New Command<ept id=\"p2\">**</ept>.","pos":[4047,4099]},{"content":"The <bpt id=\"p1\">**</bpt>Block New Command<ept id=\"p1\">**</ept> dialog box is displayed.","pos":[4100,4150]},{"content":"In the <bpt id=\"p1\">**</bpt>Command Number<ept id=\"p1\">**</ept> text box, type the number of the new command that you want to block, and then click <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept>.","pos":[4155,4272]},{"content":"The command number you entered is added to the blocked list.","pos":[4273,4333]},{"pos":[4374,4393],"content":"Use the TPM cmdlets"},{"content":"If you are using Windows PowerShell to manage your computers, you can also manage the TPM by using Windows PowerShell.","pos":[4395,4513]},{"content":"To install the TPM cmdlets, type the following command:","pos":[4514,4569]},{"pos":[4632,4765],"content":"For details about the individual cmdlets, see <bpt id=\"p1\">[</bpt>TPM Cmdlets in Windows PowerShell<ept id=\"p1\">](http://technet.microsoft.com/library/jj603116.aspx)</ept>"},{"content":"Additional resources","pos":[4770,4790]},{"pos":[4792,4929],"content":"For more info about TPM, see <bpt id=\"p1\">[</bpt>Trusted Platform Module technology overview<ept id=\"p1\">](trusted-platform-module-overview.md#bkmk-additionalresources)</ept>."}],"content":"---\ntitle: Manage TPM commands (Windows 10)\ndescription: This topic for the IT professional describes how to manage which Trusted Platform Module (TPM) commands are available to domain users and to local users.\nms.assetid: a78e751a-2806-43ae-9c20-2e7ca466b765\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nms.pagetype: security\nauthor: brianlic-msft\n---\n\n# Manage TPM commands\n\n**Applies to**\n-   Windows 10\n\nThis topic for the IT professional describes how to manage which Trusted Platform Module (TPM) commands are available to domain users and to local users.\n\n## <a href=\"\" id=\"bkmk-commands1\"></a>\n\nAfter a computer user takes ownership of the TPM, the TPM owner can limit which TPM commands can be run by creating a list of blocked TPM commands. The list can be created and applied to all computers in a domain by using Group Policy, or a list can be created for individual computers by using the TPM MMC. Because some hardware vendors might provide additional commands or the Trusted Computing Group may decide to add commands in the future, the TPM MMC also supports the ability to block new commands.\n\nDomain administrators can configure a list of blocked TPM commands by using Group Policy. Local administrators cannot allow TPM commands that are blocked through Group Policy. For more information about this Group Policy setting, see [TPM Group Policy settings](trusted-platform-module-services-group-policy-settings.md#bkmk-tpmgp-clbtc).\n\nLocal administrators can block commands by using the TPM MMC, and commands on the default block list are also blocked unless the Group Policy settings are changed from the default settings.\n\nTwo policy settings control the enforcement which allows TPM commands to run. For more information about these policy settings, see [TPM Group Policy settings](trusted-platform-module-services-group-policy-settings.md#bkmk-tpmgp-idlb).\n\nThe following procedures describe how to manage the TPM command lists. You must be a member of the local Administrators group.\n\n**To block TPM commands by using the Local Group Policy Editor**\n\n1.  Open the Local Group Policy Editor (gpedit.msc). If the **User Account Control** dialog box appears, confirm that the action it displays is what you want, and then click **Yes**.\n    \n    >**Note:**  Administrators with appropriate rights in a domain can configure a Group Policy Object (GPO) that can be applied through Active Directory Domain Services (AD DS).\n     \n2.  In the console tree, under **Computer Configuration**, expand **Administrative Templates**, and then expand **System**.\n3.  Under **System**, click **Trusted Platform Module Services**.\n4.  In the details pane, double-click **Configure the list of blocked TPM commands**.\n5.  Click **Enabled**, and then click **Show**.\n6.  For each command that you want to block, click **Add**, enter the command number, and then click **OK**.\n    \n    >**Note:**  For a list of commands, see the [Trusted Platform Module (TPM) Specifications](http://go.microsoft.com/fwlink/p/?linkid=139770).\n     \n7.  After you have added numbers for each command that you want to block, click **OK** twice.\n8.  Close the Local Group Policy Editor.\n\n**To block or allow TPM commands by using the TPM MMC**\n\n1.  Open the TPM MMC (tpm.msc)\n2.  If the **User Account Control** dialog box appears, confirm that the action it displays is what you want, and then click **Yes**.\n3.  In the console tree, click **Command Management**. A list of TPM commands is displayed.\n4.  In the list, select a command that you want to block or allow.\n5.  Under **Actions**, click **Block Selected Command** or **Allow Selected Command** as needed. If **Allow Selected Command** is unavailable, that command is currently blocked by Group Policy.\n\n**To block new commands**\n\n1.  Open the TPM MMC (tpm.msc).\n\n    If the **User Account Control** dialog box appears, confirm that the action it displays is what you want, and then click **Yes**.\n\n2.  In the console tree, click **Command Management**. A list of TPM commands is displayed.\n3.  In the **Action** pane, click **Block New Command**. The **Block New Command** dialog box is displayed.\n4.  In the **Command Number** text box, type the number of the new command that you want to block, and then click **OK**. The command number you entered is added to the blocked list.\n\n## <a href=\"\" id=\"bkmk-tpmcmdlets\"></a>Use the TPM cmdlets\n\nIf you are using Windows PowerShell to manage your computers, you can also manage the TPM by using Windows PowerShell. To install the TPM cmdlets, type the following command:\n\n`dism /online /enable-feature /FeatureName:tpm-psh-cmdlets`\n\nFor details about the individual cmdlets, see [TPM Cmdlets in Windows PowerShell](http://technet.microsoft.com/library/jj603116.aspx)\n\n## Additional resources\n\nFor more info about TPM, see [Trusted Platform Module technology overview](trusted-platform-module-overview.md#bkmk-additionalresources).\n"}