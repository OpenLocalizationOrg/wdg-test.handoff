{"nodes":[{"content":"Migration Store Types Overview (Windows 10)","pos":[11,54]},{"content":"Migration Store Types Overview","pos":[68,98]},{"content":"Migration Store Types Overview","pos":[231,261]},{"content":"When planning your migration, you should determine which migration store type best meets your needs.","pos":[264,364]},{"content":"As part of these considerations, determine how much space is required to run the User State Migration Tool (USMT) 10.0 components on your source and destination computers.","pos":[365,536]},{"content":"You should also determine the space needed to create and host the migration store, whether you are using a local share, network share, or storage device.","pos":[537,690]},{"content":"In This Topic","pos":[695,708]},{"content":"Migration Store Types","pos":[712,733]},{"content":"Local Store vs. Remote Store","pos":[750,778]},{"content":"The /localonly Command-Line Option","pos":[802,836]},{"pos":[890,911],"content":"Migration Store Types"},{"content":"This section describes the three migration store types available in USMT.","pos":[914,987]},{"content":"Uncompressed (UNC)","pos":[993,1011]},{"content":"The uncompressed (UNC) migration store is an uncompressed directory with a mirror image of the folder hierarchy being migrated.","pos":[1013,1140]},{"content":"Each directory and file retains the same access permissions that it has on the local file system.","pos":[1141,1238]},{"content":"You can use Windows Explorer to view this migration store type.","pos":[1239,1302]},{"content":"Settings are stored in a catalog file that also describes how to restore files on the destination computer.","pos":[1303,1410]},{"content":"Compressed","pos":[1416,1426]},{"content":"The compressed migration store is a single image file that contains all files being migrated and a catalog file.","pos":[1428,1540]},{"content":"This image file is often encrypted and protected with a password, and cannot be navigated with Windows Explorer.","pos":[1541,1653]},{"content":"Hard-Link","pos":[1659,1668]},{"content":"A hard-link migration store functions as a map that defines how a collection of bits on the hard disk are “wired” into the file system.","pos":[1670,1805]},{"content":"You use the new USMT hard-link migration store in the PC Refresh scenario only.","pos":[1806,1885]},{"content":"This is because the hard-link migration store is maintained on the local computer while the old operating system is removed and the new operating system is installed.","pos":[1886,2052]},{"content":"Using a hard-link migration store saves network bandwidth and minimizes the server use needed to accomplish the migration.","pos":[2053,2175]},{"content":"You use a command-line option,<bpt id=\"p1\">**</bpt>/hardlink<ept id=\"p1\">**</ept> , to create a hard-link migration store, which functions the same as an uncompressed migration store.","pos":[2177,2322]},{"content":"Files are not duplicated on the local computer when user state is captured, nor are they duplicated when user state is restored.","pos":[2323,2451]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Hard-Link Migration Store<ept id=\"p1\">](usmt-hard-link-migration-store.md)</ept>.","pos":[2452,2541]},{"content":"The following flowchart illustrates the procedural differences between a local migration store and a remote migration store.","pos":[2543,2667]},{"content":"In this example, a hard-link migration store is used for the local store.","pos":[2668,2741]},{"content":"migration store comparison","pos":[2745,2771]},{"pos":[2869,2897],"content":"Local Store vs. Remote Store"},{"content":"If you have enough space and you are migrating the user state back to the same computer, storing data on a local device is normally the best option to reduce server storage costs and network performance issues.","pos":[2900,3110]},{"content":"You can store the data locally either on a different partition or on a removable device such as a USB flash drive (UFD).","pos":[3111,3231]},{"content":"Also, depending on the imaging technology that you are using, you might be able to store the data on the partition that is being re-imaged, if the data will be protected from deletion during the process.","pos":[3232,3435]},{"content":"To increase performance, store the data on high-speed drives that use a high-speed network connection.","pos":[3436,3538]},{"content":"It is also good practice to ensure that the migration is the only task the server is performing.","pos":[3539,3635]},{"content":"If there is not enough local disk space, or if you are moving the user state to another computer, then you must store the data remotely.","pos":[3637,3773]},{"content":"For example, you can store it in on a shared folder, on removable media such as a UFD drive, or you can store it directly on the destination computer.","pos":[3774,3924]},{"content":"For example, create and share C:<ph id=\"ph1\">\\\\</ph>store on the destination computer.","pos":[3925,3993]},{"content":"Then run the ScanState command on the source computer and save the files and settings to <ph id=\"ph1\">\\\\\\\\</ph><bpt id=\"p1\">*</bpt>DestinationComputerName<ept id=\"p1\">*</ept><ph id=\"ph2\">\\\\</ph>store.","pos":[3994,4120]},{"content":"Then, run the <bpt id=\"p1\">**</bpt>LoadState<ept id=\"p1\">**</ept> command on the destination computer and specify <bpt id=\"p2\">**</bpt>C:<ph id=\"ph1\">\\\\</ph>Store<ept id=\"p2\">**</ept> as the store location.","pos":[4121,4233]},{"content":"By doing this, you do not need to save the files to a server.","pos":[4234,4295]},{"content":"Important","pos":[4299,4308]},{"content":"If possible, have users store their data within their %UserProfile%<ph id=\"ph1\">\\\\</ph>My Documents and %UserProfile%<ph id=\"ph2\">\\\\</ph>Application Data folders.","pos":[4313,4439]},{"content":"This will reduce the chance of USMT missing critical user data that is located in a directory that USMT is not configured to check.","pos":[4440,4571]},{"pos":[4615,4649],"content":"The /localonly Command-Line Option"},{"content":"You should use this option to exclude the data from removable drives and network drives mapped on the source computer.","pos":[4651,4769]},{"content":"For more information about what is excluded when you specify <bpt id=\"p1\">**</bpt>/LocalOnly<ept id=\"p1\">**</ept>, see <bpt id=\"p2\">[</bpt>ScanState Syntax<ept id=\"p2\">](usmt-scanstate-syntax.md)</ept>.","pos":[4770,4896]},{"content":"Related topics","pos":[4901,4915]},{"content":"Plan Your Migration","pos":[4919,4938]}],"content":"---\ntitle: Migration Store Types Overview (Windows 10)\ndescription: Migration Store Types Overview\nms.assetid: 3b6ce746-76c6-43ff-8cd5-02ed0ae0cf70\nms.prod: w10\nms.mktglfcycl: deploy\nms.sitesec: library\nauthor: greg-lindsay\n---\n\n# Migration Store Types Overview\n\n\nWhen planning your migration, you should determine which migration store type best meets your needs. As part of these considerations, determine how much space is required to run the User State Migration Tool (USMT) 10.0 components on your source and destination computers. You should also determine the space needed to create and host the migration store, whether you are using a local share, network share, or storage device.\n\n## In This Topic\n\n\n[Migration Store Types](#bkmk-types)\n\n[Local Store vs. Remote Store](#bkmk-localvremote)\n\n[The /localonly Command-Line Option](#bkmk-localonly)\n\n## <a href=\"\" id=\"bkmk-types\"></a>Migration Store Types\n\n\nThis section describes the three migration store types available in USMT.\n\n### Uncompressed (UNC)\n\nThe uncompressed (UNC) migration store is an uncompressed directory with a mirror image of the folder hierarchy being migrated. Each directory and file retains the same access permissions that it has on the local file system. You can use Windows Explorer to view this migration store type. Settings are stored in a catalog file that also describes how to restore files on the destination computer.\n\n### Compressed\n\nThe compressed migration store is a single image file that contains all files being migrated and a catalog file. This image file is often encrypted and protected with a password, and cannot be navigated with Windows Explorer.\n\n### Hard-Link\n\nA hard-link migration store functions as a map that defines how a collection of bits on the hard disk are “wired” into the file system. You use the new USMT hard-link migration store in the PC Refresh scenario only. This is because the hard-link migration store is maintained on the local computer while the old operating system is removed and the new operating system is installed. Using a hard-link migration store saves network bandwidth and minimizes the server use needed to accomplish the migration.\n\nYou use a command-line option,**/hardlink** , to create a hard-link migration store, which functions the same as an uncompressed migration store. Files are not duplicated on the local computer when user state is captured, nor are they duplicated when user state is restored. For more information, see [Hard-Link Migration Store](usmt-hard-link-migration-store.md).\n\nThe following flowchart illustrates the procedural differences between a local migration store and a remote migration store. In this example, a hard-link migration store is used for the local store.\n\n![migration store comparison](images/dep-win8-l-usmt-migrationcomparemigstores.gif)\n\n## <a href=\"\" id=\"bkmk-localvremote\"></a>Local Store vs. Remote Store\n\n\nIf you have enough space and you are migrating the user state back to the same computer, storing data on a local device is normally the best option to reduce server storage costs and network performance issues. You can store the data locally either on a different partition or on a removable device such as a USB flash drive (UFD). Also, depending on the imaging technology that you are using, you might be able to store the data on the partition that is being re-imaged, if the data will be protected from deletion during the process. To increase performance, store the data on high-speed drives that use a high-speed network connection. It is also good practice to ensure that the migration is the only task the server is performing.\n\nIf there is not enough local disk space, or if you are moving the user state to another computer, then you must store the data remotely. For example, you can store it in on a shared folder, on removable media such as a UFD drive, or you can store it directly on the destination computer. For example, create and share C:\\\\store on the destination computer. Then run the ScanState command on the source computer and save the files and settings to \\\\\\\\*DestinationComputerName*\\\\store. Then, run the **LoadState** command on the destination computer and specify **C:\\\\Store** as the store location. By doing this, you do not need to save the files to a server.\n\n**Important**  \nIf possible, have users store their data within their %UserProfile%\\\\My Documents and %UserProfile%\\\\Application Data folders. This will reduce the chance of USMT missing critical user data that is located in a directory that USMT is not configured to check.\n\n \n\n### <a href=\"\" id=\"bkmk-localonly\"></a>The /localonly Command-Line Option\n\nYou should use this option to exclude the data from removable drives and network drives mapped on the source computer. For more information about what is excluded when you specify **/LocalOnly**, see [ScanState Syntax](usmt-scanstate-syntax.md).\n\n## Related topics\n\n\n[Plan Your Migration](usmt-plan-your-migration.md)\n\n \n\n \n\n\n\n\n\n"}