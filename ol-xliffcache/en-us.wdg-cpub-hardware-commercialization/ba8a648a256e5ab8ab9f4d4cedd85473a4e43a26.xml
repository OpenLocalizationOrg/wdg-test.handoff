{"nodes":[{"content":"Inheritance","pos":[11,22]},{"content":"Inheritance","pos":[36,47]},{"content":"Inheritance","pos":[236,247]},{"content":"Windows Performance Recorder (WPR) recording profiles are stored in an XML file that has a .wprp extension.","pos":[250,357]},{"content":"WPR supports inheritance of its objects by using the <bpt id=\"p1\">**</bpt>Base=””<ept id=\"p1\">**</ept> attribute in the WPR profile XML schema.","pos":[358,463]},{"content":"Inheritance allows you to keep, reuse, and build upon common profile definitions to record specialized scenarios.","pos":[464,577]},{"content":"For example, you can add a provider to an existing profile and thereby change buffer sizes without altering a definition in the actual profile.","pos":[578,721]},{"content":"Important","pos":[725,734]},{"content":"When you author WPRP profiles, you should either inherit profile data from WPR's built-in base profiles, or reuse the same session names to avoid enabling the same provider multiple times.","pos":[739,927]},{"content":"In this article:","pos":[932,948]},{"content":"Base Profiles","pos":[955,968]},{"content":"Example","pos":[983,990]},{"content":"Inheritance Best Practices","pos":[1003,1029]},{"pos":[1071,1084],"content":"Base Profiles"},{"content":"You can use XML tags to change the content of a profile.","pos":[1087,1143]},{"content":"You must use the <bpt id=\"p1\">**</bpt>Operation<ept id=\"p1\">**</ept> attribute.","pos":[1144,1185]},{"content":"The possible values for the <bpt id=\"p1\">**</bpt>Operation<ept id=\"p1\">**</ept> attribute are <bpt id=\"p2\">**</bpt>Set<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>Add<ept id=\"p3\">**</ept>.","pos":[1186,1262]},{"content":"In the following example, <bpt id=\"p1\">**</bpt>DerivedProfile<ept id=\"p1\">**</ept> adds the <bpt id=\"p2\">**</bpt>ReadyThread<ept id=\"p2\">**</ept> system keyword to the <bpt id=\"p3\">**</bpt>CpuConfig<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>CSwitch<ept id=\"p4\">**</ept>, and <bpt id=\"p5\">**</bpt>SampledProfile<ept id=\"p5\">**</ept> keywords that <bpt id=\"p6\">**</bpt>BaseProfile<ept id=\"p6\">**</ept> defines.","pos":[1263,1444]},{"content":"Note","pos":[2454,2458]},{"content":"If you do not specify the <bpt id=\"p1\">**</bpt>Operation<ept id=\"p1\">**</ept> attribute but you use inheritance, WPR uses the default value <bpt id=\"p2\">**</bpt>Set<ept id=\"p2\">**</ept>.","pos":[2463,2573]},{"pos":[2604,2611],"content":"Example"},{"content":"The following example defines a profile for file logging mode.","pos":[2614,2676]},{"content":"The memory version inherits from the file version and overwrites the logging mode only.","pos":[2677,2764]},{"pos":[3190,3216],"content":"Inheritance Best Practices"},{"content":"Poorly architected inheritance can create unintended consequences.","pos":[3219,3285]},{"content":"We recommend that you only derive collectors from collectors, or profiles from profiles.","pos":[3286,3374]},{"content":"You should never combine derivations across multiple types of objects.","pos":[3375,3445]},{"content":"The following three examples describe two good ways to use inheritance; the third example describes a poor use of inheritance.","pos":[3447,3573]},{"pos":[3608,3642],"content":"Example 1: Good Use of Inheritance"},{"content":"You want to use the specifications of Event Collector-A, with some modifications.","pos":[3644,3725]},{"content":"To do so:","pos":[3726,3735]},{"content":"Define a second collector (Collector-B) that inherits its specifications from Collector-A.","pos":[3741,3831]},{"content":"Modify Collector-B.","pos":[3837,3856]},{"content":"Set the profile to reference Collector-B.","pos":[3862,3903]},{"content":"This is a good practice because only the collector object inherits attributes from another collector object, which is then directly referenced by the profile.","pos":[3905,4063]},{"pos":[4098,4132],"content":"Example 2: Good Use of Inheritance"},{"content":"Profile-A references Collector-A.","pos":[4138,4171]},{"content":"Profile-B inherits attributes from Profile-A.","pos":[4177,4222]},{"content":"You modify particular attributes in Profile-B.","pos":[4228,4274]},{"content":"This is good practice because only the profile object derives from another profile object.","pos":[4276,4366]},{"pos":[4401,4435],"content":"Example 3: Poor Use of Inheritance"},{"content":"Profile-A references Collector-A.","pos":[4441,4474]},{"content":"Collector-B inherits from Collector-A.","pos":[4480,4518]},{"content":"Profile-B inherits from Profile-A and also references Collector-B.","pos":[4524,4590]},{"content":"In this case, Profile-B references Collector-B two times: one time through inheritance by Profile-A, and one time by direct reference to Collector-B.","pos":[4592,4741]},{"content":"In this case, it is unclear how the definition for Collector-B should be evaluated; that is, which derivation should take precedence.","pos":[4742,4875]},{"content":"This example portrays a bad practice because the ordering is undefined and might lead to contradictory outcomes based on ordering of operations.","pos":[4876,5020]},{"content":"This type of inheritance should be avoided.","pos":[5021,5064]},{"content":"Related topics","pos":[5069,5083]},{"content":"Authoring Recording Profiles","pos":[5087,5115]},{"content":"WPRControlProfiles Schema","pos":[5152,5177]}],"content":"---\ntitle: Inheritance\ndescription: Inheritance\nMSHAttr:\n- 'PreferredSiteName:MSDN'\n- 'PreferredLib:/library/windows/hardware'\nms.assetid: 5caaf667-4c1a-4459-8a45-36001ce6b414\nms.prod: W10\nms.mktglfcycl: operate\nms.sitesec: msdn\n---\n\n# Inheritance\n\n\nWindows Performance Recorder (WPR) recording profiles are stored in an XML file that has a .wprp extension. WPR supports inheritance of its objects by using the **Base=””** attribute in the WPR profile XML schema. Inheritance allows you to keep, reuse, and build upon common profile definitions to record specialized scenarios. For example, you can add a provider to an existing profile and thereby change buffer sizes without altering a definition in the actual profile.\n\n**Important**  \nWhen you author WPRP profiles, you should either inherit profile data from WPR's built-in base profiles, or reuse the same session names to avoid enabling the same provider multiple times.\n\n \n\nIn this article:\n\n-   [Base Profiles](#base)\n\n-   [Example](#ex)\n\n-   [Inheritance Best Practices](#bestprac)\n\n## <a href=\"\" id=\"base\"></a>Base Profiles\n\n\nYou can use XML tags to change the content of a profile. You must use the **Operation** attribute. The possible values for the **Operation** attribute are **Set** and **Add**. In the following example, **DerivedProfile** adds the **ReadyThread** system keyword to the **CpuConfig**, **CSwitch**, and **SampledProfile** keywords that **BaseProfile** defines.\n\n``` syntax\n<SystemCollector\n  Id=\"BaseSystemCollector\" ... />\n\n<SystemProvider\n  Id=\"MainSystemProvider\">\n  <Keywords>\n    <Keyword\n      Value=\"CpuConfig\"/>\n    <Keyword\n      Value=\"CSwitch\"/>\n    <Keyword\n      Value=\"SampledProfile\"/>\n  </Keywords>\n</SystemProvider>\n\n<SystemProvider\n  Id=\"AnotherSystemProvider\">\n  <Keywords> \n    <Keyword\n      Value=\"ReadyThread\"/>\n  </Keywords>\n</SystemProvider>\n\n<Profile\n  Id=\"BaseProfile\"...>\n  ... \n  <Collectors>\n    <SystemCollectorId\n      Value=\"BaseSystemCollector\">\n      <SystemProviderId\n        Value=\"MainSystemProvider\"/>\n    </SystemCollectorId>\n  </Collectors>\n</Profile>\n\n<Profile\n  Id=\"DerivedProfile\"\n  Base=\"BaseProfile\"...>\n... \n  <Collectors Operation=\"Add\"> <!--Use \"Add\" operation to add new provider to an existing one. -->\n    <SystemCollectorId\n      Value=\"BaseSystemCollector\">\n      <SystemProviderId\n        Value=\"AnotherSystemProvider\"/> <!--Specify provider to add. --> \n    </SystemCollectorId> \n  </Collectors>\n</Profile>\n```\n\n**Note**  \nIf you do not specify the **Operation** attribute but you use inheritance, WPR uses the default value **Set**.\n\n \n\n## <a href=\"\" id=\"ex\"></a>Example\n\n\nThe following example defines a profile for file logging mode. The memory version inherits from the file version and overwrites the logging mode only.\n\n``` syntax\n<Profile\n   Id=\"SampleProfile.Verbose.File\"\n   LoggingMode = \"File\"\n   DetailLevel = \"Verbose\"\n   Name = \"SampleProfile\"\n   Description = \"A sample profile\">\n   …\n\n</Profile>\n\n<Profile\n   Id=\"SampleProfile.Verbose.Memory\"\n   Base=\"SampleProfile.Verbose.File”\n   LoggingMode = \"Memory\"\n   DetailLevel = \"Verbose\"\n   Name = \"SampleProfile\"\n   Description = \"A sample profile\"/>\n```\n\n## <a href=\"\" id=\"bestprac\"></a>Inheritance Best Practices\n\n\nPoorly architected inheritance can create unintended consequences. We recommend that you only derive collectors from collectors, or profiles from profiles. You should never combine derivations across multiple types of objects.\n\nThe following three examples describe two good ways to use inheritance; the third example describes a poor use of inheritance.\n\n### <a href=\"\" id=\"ex1inher\"></a>Example 1: Good Use of Inheritance\n\nYou want to use the specifications of Event Collector-A, with some modifications. To do so:\n\n1.  Define a second collector (Collector-B) that inherits its specifications from Collector-A.\n\n2.  Modify Collector-B.\n\n3.  Set the profile to reference Collector-B.\n\nThis is a good practice because only the collector object inherits attributes from another collector object, which is then directly referenced by the profile.\n\n### <a href=\"\" id=\"ex2inher\"></a>Example 2: Good Use of Inheritance\n\n1.  Profile-A references Collector-A.\n\n2.  Profile-B inherits attributes from Profile-A.\n\n3.  You modify particular attributes in Profile-B.\n\nThis is good practice because only the profile object derives from another profile object.\n\n### <a href=\"\" id=\"ex3inher\"></a>Example 3: Poor Use of Inheritance\n\n1.  Profile-A references Collector-A.\n\n2.  Collector-B inherits from Collector-A.\n\n3.  Profile-B inherits from Profile-A and also references Collector-B.\n\nIn this case, Profile-B references Collector-B two times: one time through inheritance by Profile-A, and one time by direct reference to Collector-B. In this case, it is unclear how the definition for Collector-B should be evaluated; that is, which derivation should take precedence. This example portrays a bad practice because the ordering is undefined and might lead to contradictory outcomes based on ordering of operations. This type of inheritance should be avoided.\n\n## Related topics\n\n\n[Authoring Recording Profiles](authoring-recording-profiles.md)\n\n[WPRControlProfiles Schema](wprcontrolprofiles-schema.md)\n\n \n\n \n\n\n\n\n\n\n\n"}