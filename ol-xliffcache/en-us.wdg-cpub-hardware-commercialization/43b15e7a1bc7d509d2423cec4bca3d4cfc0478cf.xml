{"nodes":[{"content":"Lab 1a: Create a basic image","pos":[306,334]},{"content":"Lab 1a: Create a basic image","pos":[343,371]},{"content":"This content has been tested on Windows 10 IoT Core Build 10586.","pos":[375,439]},{"content":"Some of these procedures do not yet work on newer preview builds, including Windows 10, version 1607.","pos":[440,541]},{"content":"To get started, we'll create a basic Windows 10 IoT Core (IoT Core) image, flash it to a micro SD card, and put it into a device to make sure that everything's working properly.","pos":[545,722]},{"content":"We'll create a product folder that represents our first design.","pos":[724,787]},{"content":"For our first product design, we'll customize just enough for the IoT core device to boot up and run the built-in OOBE app, which we should be able to see on an HDMI-compatible monitor.","pos":[788,973]},{"pos":[1074,1087],"content":"Prerequisites"},{"pos":[1089,1219],"content":"See <bpt id=\"p1\">[</bpt>Get the tools needed to customize Windows IoT Core<ept id=\"p1\">](set-up-your-pc-to-customize-iot-core.md)</ept> to get your technician PC ready."},{"pos":[1341,1361],"content":"Create a basic image"},{"content":"Set your OEM name (one-time only)","pos":[1365,1398]},{"content":"Open the file <bpt id=\"p1\">**</bpt>C:<ph id=\"ph1\">\\\\</ph>IoT-ADK-AddonKit<ph id=\"ph2\">\\\\</ph>Tools<ph id=\"ph3\">\\\\</ph>setOEM.cmd<ept id=\"p1\">**</ept> in Notepad, and modify it with your company name.","pos":[1406,1513]},{"content":"We've added this variable to help you create packages with names that are easy to differentiate from those provided from other manufacturers you're working with.","pos":[1514,1675]},{"content":"Start the IoT Core shell, choose your architecture, and install test certificates","pos":[1729,1810]},{"content":"In Windows Explorer, go to the folder where you installed the IoT Core ADK Add-Ons, for example, <bpt id=\"p1\">**</bpt>C:<ph id=\"ph1\">\\\\</ph>IoT-ADK-AddonKit<ept id=\"p1\">**</ept>, and open IoTCoreShell.cmd.","pos":[1818,1967]},{"content":"It should prompt you to run as an administrator.","pos":[1968,2016]},{"content":"The new value for OEM<ph id=\"ph1\">\\_</ph>NAME should appear when you start the tool.","pos":[2022,2088]},{"content":"Troubleshooting: Error: \"The system cannot find the path specified\".","pos":[2098,2166]},{"content":"If you get this, right-click the icon and modify the path in \"Target\" to the location you've chosen to install the tools.","pos":[2167,2288]},{"content":"At the <bpt id=\"p1\">**</bpt>Set Environment for Architecture<ept id=\"p1\">**</ept> prompt, select 1 for ARM or 2 for x86, based on the architecture for the boards that you'll be developing.","pos":[2294,2444]},{"content":"For example, press <bpt id=\"p1\">**</bpt>1<ept id=\"p1\">**</ept> to create an image that's compatible with the Raspberry Pi 2 or Raspberry Pi 3, or press <bpt id=\"p2\">**</bpt>2<ept id=\"p2\">**</ept> to create an image that's compatible with the Minnowboard Max.","pos":[2445,2627]},{"content":"The launch tool sets the default architecture, and sets a version number for the design, which you can use for future updates.","pos":[2633,2759]},{"content":"The first version number defaults to 10.0.0.0.","pos":[2760,2806]},{"content":"(Why a four-part version number?","pos":[2812,2844]},{"content":"Learn about versioning schemes in <bpt id=\"p1\">[</bpt>Update requirements<ept id=\"p1\">](../../service/mobile/update-requirements.md)</ept>.)","pos":[2845,2947]},{"content":"One-time tasks","pos":[2951,2965]},{"content":"These tasks only need to be done the first time you install the IoT ADK AddonKit.","pos":[2969,3050]},{"content":"Install OEM test certificates.","pos":[3056,3086]},{"content":"You'll use these to sign your test binaries.","pos":[3087,3131]},{"content":"The certificates are added to the root.","pos":[3180,3219]},{"content":"To learn more, see <bpt id=\"p1\">[</bpt>Set up the signing environment<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/hardware/dn756804)</ept>","pos":[3220,3333]},{"content":"Build all of the packages in the working folders.","pos":[3343,3392]},{"content":"Create a new test image","pos":[3445,3468]},{"content":"Create a new product folder.","pos":[3476,3504]},{"content":"This folder represents a new device we want to build, and contains sample customization files that we can use to start our project.","pos":[3505,3636]},{"content":"This creates the folder: C:<ph id=\"ph1\">\\\\</ph>IoT-ADK-AddonKit<ph id=\"ph2\">\\\\</ph>Source-<ph id=\"ph3\">&amp;lt;</ph>arch<ph id=\"ph4\">&amp;gt;\\\\</ph>Products<ph id=\"ph5\">\\\\</ph>ProductA.","pos":[3690,3777]},{"content":"Eject any removable storage drives, including the Micro SD card and any USB flash drives.","pos":[3783,3872]},{"content":"Create a flashable test image using the default files.","pos":[3878,3932]},{"content":"Test images include additional tools, and you can create test images using either signed or unsigned test packages.","pos":[3933,4048]},{"content":"This creates a FFU file with your basic image at C:<ph id=\"ph1\">\\\\</ph>IoT-ADK-AddonKit<ph id=\"ph2\">\\\\</ph>Build<ph id=\"ph3\">\\\\&amp;lt;</ph>arch<ph id=\"ph4\">&amp;gt;\\\\</ph>ProductA<ph id=\"ph5\">\\\\</ph>Test.","pos":[4108,4215]},{"content":"Troubleshooting:","pos":[4221,4237]},{"pos":[4250,4586],"content":"ERROR CODES: 0x80070005 or 0x800705b4: Reopen the IoT Core Shell as an administrator, unplug all external drives (including micro SD cards and USB thumb drives), and try again.  \nIf this doesn't work, go back to [Set up your PC and download the samples](set-up-your-pc-to-customize-iot-core.md) and make sure everything's installed.","leadings":["","    "],"nodes":[{"content":"ERROR CODES: 0x80070005 or 0x800705b4: Reopen the IoT Core Shell as an administrator, unplug all external drives (including micro SD cards and USB thumb drives), and try again.","pos":[0,176]},{"content":"If this doesn't work, go back to <bpt id=\"p1\">[</bpt>Set up your PC and download the samples<ept id=\"p1\">](set-up-your-pc-to-customize-iot-core.md)</ept> and make sure everything's installed.","pos":[179,332]}]},{"content":"Flash the image to a memory card","pos":[4590,4622]},{"pos":[4630,4671],"content":"Start the <bpt id=\"p1\">**</bpt>Windows IoT Core Dashboard<ept id=\"p1\">**</ept>."},{"content":"Plug your micro SD card into your technician PC, and select it in the tool.","pos":[4677,4752]},{"pos":[4758,4818],"content":"From <bpt id=\"p1\">**</bpt>Setup a new device<ept id=\"p1\">**</ept>, select Device Type: <bpt id=\"p2\">**</bpt>Custom<ept id=\"p2\">**</ept>."},{"pos":[4824,5028],"content":"From <bpt id=\"p1\">**</bpt>Flash the pre-downloaded file (Flash.ffu) to the SD card<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>Browse<ept id=\"p2\">**</ept>, browse to your FFU file (C:<ph id=\"ph1\">\\\\</ph>IoT-ADK-AddonKit<ph id=\"ph2\">\\\\</ph>Build<ph id=\"ph3\">\\\\&amp;lt;</ph>arch<ph id=\"ph4\">&amp;gt;\\\\</ph>ProductA<ph id=\"ph5\">\\\\</ph>Test<ph id=\"ph6\">\\\\</ph>ProductA.ffu), then click <bpt id=\"p3\">**</bpt>Next<ept id=\"p3\">**</ept>."},{"content":"Accept the license terms, and then click <bpt id=\"p1\">**</bpt>Install<ept id=\"p1\">**</ept>.","pos":[5034,5087]},{"content":"The Windows IoT Core Dashboard formats the micro SD card and installs the new image.","pos":[5088,5172]},{"content":"Boot it up","pos":[5176,5186]},{"pos":[5194,5414],"content":"Connect your IoT device, such as a Raspberry Pi 2, into a monitor using an HDMI cable.\n**Note**  When possible, use a direct connection to an HDMI port. The display may not appear when using DVI/VGA adapters or hubs.","leadings":["","    "],"nodes":[{"content":"Connect your IoT device, such as a Raspberry Pi 2, into a monitor using an HDMI cable.","pos":[0,86]},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  When possible, use a direct connection to an HDMI port.","pos":[87,152]},{"content":"The display may not appear when using DVI/VGA adapters or hubs.","pos":[153,216]}]},{"content":"Put in the micro SD card with your image.","pos":[5420,5461]},{"content":"Power it on.","pos":[5467,5479]},{"pos":[5485,5714],"content":"After a short while, the device should start automatically, and you should see the <bpt id=\"p1\">[</bpt>default app<ept id=\"p1\">](http://ms-iot.github.io/content/en-US/win10/samples/IoTDefaultApp.md)</ept> (code-named \"Bertha\"), which shows basic info about the image."},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  Some devices may be extremely slow to boot up on the first boot when using some 8GB class 10 SD cards.","pos":[5720,5832]},{"content":"Slow boot times may be over 15 minutes.","pos":[5833,5872]},{"content":"Subsequent boots will be much quicker on the affected cards.","pos":[5873,5933]},{"pos":[6025,6035],"content":"Next steps"},{"pos":[6037,6159],"content":"Leave the device on for now, and continue to <bpt id=\"p1\">[</bpt>Lab 1b: Add an app to your image<ept id=\"p1\">](deploy-your-app-with-a-standard-board.md)</ept>."}],"content":"---\nauthor: kpacquer\nDescription: 'To get started, we''ll create a basic Windows 10 IoT Core (IoT Core) image, flash it to a micro SD card, and put it into a device to make sure that everything''s working properly.'\nms.assetid: aeba79b8-d8dd-481a-a8bf-03ae28174632\nMSHAttr: 'PreferredLib:/library'\ntitle: 'Lab 1a: Create a basic image'\n---\n\n# Lab 1a: Create a basic image\n\n\\[This content has been tested on Windows 10 IoT Core Build 10586. Some of these procedures do not yet work on newer preview builds, including Windows 10, version 1607.\\]\n\nTo get started, we'll create a basic Windows 10 IoT Core (IoT Core) image, flash it to a micro SD card, and put it into a device to make sure that everything's working properly.\n\nWe'll create a product folder that represents our first design. For our first product design, we'll customize just enough for the IoT core device to boot up and run the built-in OOBE app, which we should be able to see on an HDMI-compatible monitor.\n\n## <span id=\"Prerequisites\"></span><span id=\"prerequisites\"></span><span id=\"PREREQUISITES\"></span>Prerequisites\n\nSee [Get the tools needed to customize Windows IoT Core](set-up-your-pc-to-customize-iot-core.md) to get your technician PC ready.\n\n## <span id=\"Create_a_basic_image\"></span><span id=\"create_a_basic_image\"></span><span id=\"CREATE_A_BASIC_IMAGE\"></span>Create a basic image\n\n**Set your OEM name (one-time only)**\n\n-   Open the file **C:\\\\IoT-ADK-AddonKit\\\\Tools\\\\setOEM.cmd** in Notepad, and modify it with your company name. We've added this variable to help you create packages with names that are easy to differentiate from those provided from other manufacturers you're working with.\n\n    ``` syntax\n    set OEM_NAME=Fabrikam\n    ```\n\n**Start the IoT Core shell, choose your architecture, and install test certificates**\n\n1.  In Windows Explorer, go to the folder where you installed the IoT Core ADK Add-Ons, for example, **C:\\\\IoT-ADK-AddonKit**, and open IoTCoreShell.cmd. It should prompt you to run as an administrator.\n\n    The new value for OEM\\_NAME should appear when you start the tool.\n    \n    Troubleshooting: Error: \"The system cannot find the path specified\". If you get this, right-click the icon and modify the path in \"Target\" to the location you've chosen to install the tools.\n\n2.  At the **Set Environment for Architecture** prompt, select 1 for ARM or 2 for x86, based on the architecture for the boards that you'll be developing. For example, press **1** to create an image that's compatible with the Raspberry Pi 2 or Raspberry Pi 3, or press **2** to create an image that's compatible with the Minnowboard Max.\n\n    The launch tool sets the default architecture, and sets a version number for the design, which you can use for future updates. The first version number defaults to 10.0.0.0.\n\n    (Why a four-part version number? Learn about versioning schemes in [Update requirements](../../service/mobile/update-requirements.md).)\n\n**One-time tasks**\n\nThese tasks only need to be done the first time you install the IoT ADK AddonKit.\n\n1.  Install OEM test certificates. You'll use these to sign your test binaries.\n\n    ``` syntax\n    InstallOEMCerts\n    ```\n    The certificates are added to the root. To learn more, see [Set up the signing environment](https://msdn.microsoft.com/library/windows/hardware/dn756804)\n    \n2.  Build all of the packages in the working folders.\n\n    ``` syntax\n    BuildPkg All\n    ```\n        \n**Create a new test image**\n\n1.  Create a new product folder. This folder represents a new device we want to build, and contains sample customization files that we can use to start our project.\n\n    ``` syntax\n    newproduct ProductA\n    ```\n\n    This creates the folder: C:\\\\IoT-ADK-AddonKit\\\\Source-&lt;arch&gt;\\\\Products\\\\ProductA.\n\n2.  Eject any removable storage drives, including the Micro SD card and any USB flash drives.\n\n3.  Create a flashable test image using the default files. Test images include additional tools, and you can create test images using either signed or unsigned test packages.\n\n    ``` syntax\n    createimage ProductA Test\n    ```\n\n    This creates a FFU file with your basic image at C:\\\\IoT-ADK-AddonKit\\\\Build\\\\&lt;arch&gt;\\\\ProductA\\\\Test.\n\n    Troubleshooting:\n    \n    -  ERROR CODES: 0x80070005 or 0x800705b4: Reopen the IoT Core Shell as an administrator, unplug all external drives (including micro SD cards and USB thumb drives), and try again.  \n    If this doesn't work, go back to [Set up your PC and download the samples](set-up-your-pc-to-customize-iot-core.md) and make sure everything's installed.\n\n**Flash the image to a memory card**\n\n1.  Start the **Windows IoT Core Dashboard**.\n\n2.  Plug your micro SD card into your technician PC, and select it in the tool.\n\n3.  From **Setup a new device**, select Device Type: **Custom**.\n\n4.  From **Flash the pre-downloaded file (Flash.ffu) to the SD card**, click **Browse**, browse to your FFU file (C:\\\\IoT-ADK-AddonKit\\\\Build\\\\&lt;arch&gt;\\\\ProductA\\\\Test\\\\ProductA.ffu), then click **Next**.\n\n5.  Accept the license terms, and then click **Install**. The Windows IoT Core Dashboard formats the micro SD card and installs the new image.\n\n**Boot it up**\n\n1.  Connect your IoT device, such as a Raspberry Pi 2, into a monitor using an HDMI cable.\n    **Note**  When possible, use a direct connection to an HDMI port. The display may not appear when using DVI/VGA adapters or hubs.\n\n2.  Put in the micro SD card with your image.\n\n3.  Power it on.\n\n    After a short while, the device should start automatically, and you should see the [default app](http://ms-iot.github.io/content/en-US/win10/samples/IoTDefaultApp.md) (code-named \"Bertha\"), which shows basic info about the image.\n\n    **Note**  Some devices may be extremely slow to boot up on the first boot when using some 8GB class 10 SD cards. Slow boot times may be over 15 minutes. Subsequent boots will be much quicker on the affected cards.\n\n## <span id=\"Next_steps\"></span><span id=\"next_steps\"></span><span id=\"NEXT_STEPS\"></span>Next steps\n\nLeave the device on for now, and continue to [Lab 1b: Add an app to your image](deploy-your-app-with-a-standard-board.md)."}