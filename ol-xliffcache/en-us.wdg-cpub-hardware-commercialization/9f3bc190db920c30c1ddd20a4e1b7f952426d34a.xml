{"nodes":[{"content":"You can use a feature manifest (FM) file to define specific types of image builds that contain different sets of optional packages.","pos":[18,149]},{"content":"Add a package to an OEM manifest file","pos":[240,277]},{"content":"Add a package to an OEM manifest file","pos":[303,340]},{"content":"You can use a feature manifest (FM) file to define specific types of image builds that contain different sets of optional packages.","pos":[343,474]},{"content":"To learn more about FM files, see <bpt id=\"p1\">[</bpt>Feature manifest file contents<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/hardware/dn756745)</ept>.","pos":[475,604]},{"content":"For more information about additional logic that you can add to the build system, see <bpt id=\"p1\">[</bpt>Feature groupings and constraints<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/hardware/dn756740)</ept>.","pos":[605,789]},{"pos":[791,1004],"content":"In this walkthrough, we will add the packages you created in <bpt id=\"p1\">[</bpt>Creating mobile packages<ept id=\"p1\">](creating-mobile-packages.md)</ept>, to an FM file to define new OEM features that you can later include to build a mobile OS image."},{"content":"To add a package to an FM file","pos":[1008,1038]},{"content":"Create a new FM file or modify an existing FM file to include the two packages that you created and define feature IDs for these packages.","pos":[1046,1184]},{"content":"For an example of what the FM file looks like, see %WPDKCONTENTROOT%<ph id=\"ph1\">\\\\</ph>FMFiles<ph id=\"ph2\">\\\\</ph>arm<ph id=\"ph3\">\\\\</ph>MSOptionalFeatures.xml in your kit installation folder.","pos":[1185,1324]},{"content":"The following example shows what your FM file may look like.","pos":[1330,1390]},{"pos":[2653,2833],"content":"The <bpt id=\"p1\">**</bpt>OEMDevicePlatformPackages<ept id=\"p1\">**</ept> element and <bpt id=\"p2\">**</bpt>BasePackages<ept id=\"p2\">**</ept> element are placeholders and are only there to show you what other options are available to configure in the FM file."},{"content":"For more information about creating an FM file and other elements that you may need to fully define your feature, see <bpt id=\"p1\">[</bpt>Feature manifest file contents<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/hardware/dn756745)</ept>.","pos":[2839,3052]},{"content":"For more information about additional logic that you can add to the build system, see <bpt id=\"p1\">[</bpt>Feature groupings and constraints<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/hardware/dn756740)</ept>.","pos":[3053,3237]},{"pos":[3243,3491],"content":"In the first <bpt id=\"p1\">**</bpt>PackageFile<ept id=\"p1\">**</ept> element within the <bpt id=\"p2\">**</bpt>OEM<ept id=\"p2\">**</ept> section, replace <bpt id=\"p3\">*</bpt>SourceDirectoryA<ept id=\"p3\">*</ept> with the location of the folder that contains the Echo driver package and replace <bpt id=\"p4\">*</bpt>MyEchoDriver.spkg<ept id=\"p4\">*</ept> with the real name of the .spkg containing the driver."},{"pos":[3497,3807],"content":"In the second <bpt id=\"p1\">**</bpt>PackageFile<ept id=\"p1\">**</ept> element within the <bpt id=\"p2\">**</bpt>OEM<ept id=\"p2\">**</ept> section, replace <bpt id=\"p3\">*</bpt>SourceDirectoryB<ept id=\"p3\">*</ept> with the location of the folder that contains the customization setting package and replace <bpt id=\"p4\">*</bpt>Contoso.Customization.Notifications.QuickActions.spkg<ept id=\"p4\">*</ept> with the real name of the .spkg containing the customization setting."},{"content":"Save your FM file in the %WPDKCONTENTROOT%<ph id=\"ph1\">\\\\</ph>FMFiles<ph id=\"ph2\">\\\\</ph>arm folder.","pos":[3813,3877]},{"content":"For this example, let's name the file as ContosoOptionalFeatures.xml.","pos":[3878,3947]}],"content":"---\nDescription: 'You can use a feature manifest (FM) file to define specific types of image builds that contain different sets of optional packages.'\nms.assetid: 5355eea8-550f-4ab5-ba1c-a37689a88b95\nMSHAttr: 'PreferredLib:/library'\ntitle: Add a package to an OEM manifest file\nauthor: CelesteDG\n---\n\n# Add a package to an OEM manifest file\n\n\nYou can use a feature manifest (FM) file to define specific types of image builds that contain different sets of optional packages. To learn more about FM files, see [Feature manifest file contents](https://msdn.microsoft.com/library/windows/hardware/dn756745). For more information about additional logic that you can add to the build system, see [Feature groupings and constraints](https://msdn.microsoft.com/library/windows/hardware/dn756740).\n\nIn this walkthrough, we will add the packages you created in [Creating mobile packages](creating-mobile-packages.md), to an FM file to define new OEM features that you can later include to build a mobile OS image.\n\n**To add a package to an FM file**\n\n1.  Create a new FM file or modify an existing FM file to include the two packages that you created and define feature IDs for these packages. For an example of what the FM file looks like, see %WPDKCONTENTROOT%\\\\FMFiles\\\\arm\\\\MSOptionalFeatures.xml in your kit installation folder.\n\n    The following example shows what your FM file may look like.\n\n    ```XML\n    <?xml version=\"1.0\" encoding=\"utf-8\"?>\n    <FeatureManifest \n      xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n      xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" \n      xmlns=\"http://schemas.microsoft.com/embedded/2004/10/ImageUpdate\">\n\n      <!-- Other elements that you can configure\n      <OEMDevicePlatformPackages>\n        <PackageFile Name=\"Microsoft.Fake.OEMDevicePlatform.spkg\" Path=\"$(mspackageroot)\\firmware\\Fake\\$(cputype)\\$(buildtype)\" Device=\"Fake\"/>\n      </OEMDevicePlatformPackages>\n\n      <BasePackages>\n        <PackageFile Path=\"$(mspackageroot)\\drivers\\Fake\\$(cputype)\\$(buildtype)\" Name=\"Microsoft.Fake.AX88772.spkg\"/>\n      </BasePackages>\n      -->\n\n      <Features>  \n        <OEM>  \n          <PackageFile Path=\"SourceDirectoryA\" Name=\"MyEchoDriver.spkg\">  \n            <FeatureIDs>  \n              <FeatureID>ECHO_DRIVER</FeatureID>  \n            </FeatureIDs>  \n          </PackageFile>  \n          <PackageFile Path=\"SourceDirectoryB\" Name=\"Contoso.Customization.Notifications.QuickActions.spkg\">  \n            <FeatureIDs>  \n              <FeatureID>QUICK_ACTIONS</FeatureID>  \n            </FeatureIDs>  \n          </PackageFile>  \n        </OEM>  \n      </Features> \n\n    </FeatureManifest>\n    ```\n\n    The **OEMDevicePlatformPackages** element and **BasePackages** element are placeholders and are only there to show you what other options are available to configure in the FM file.\n\n    For more information about creating an FM file and other elements that you may need to fully define your feature, see [Feature manifest file contents](https://msdn.microsoft.com/library/windows/hardware/dn756745). For more information about additional logic that you can add to the build system, see [Feature groupings and constraints](https://msdn.microsoft.com/library/windows/hardware/dn756740).\n\n2.  In the first **PackageFile** element within the **OEM** section, replace *SourceDirectoryA* with the location of the folder that contains the Echo driver package and replace *MyEchoDriver.spkg* with the real name of the .spkg containing the driver.\n\n3.  In the second **PackageFile** element within the **OEM** section, replace *SourceDirectoryB* with the location of the folder that contains the customization setting package and replace *Contoso.Customization.Notifications.QuickActions.spkg* with the real name of the .spkg containing the customization setting.\n\n4.  Save your FM file in the %WPDKCONTENTROOT%\\\\FMFiles\\\\arm folder. For this example, let's name the file as ContosoOptionalFeatures.xml.\n\n \n\n \n\n\n\n"}