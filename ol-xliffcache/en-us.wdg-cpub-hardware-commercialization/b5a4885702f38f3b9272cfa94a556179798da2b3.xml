{"nodes":[{"content":"Microsoft Manufacturing OS","pos":[34,60]},{"content":"Microsoft Manufacturing OS","pos":[167,193]},{"content":"Microsoft Manufacturing OS","pos":[201,227]},{"content":"Microsoft Manufacturing OS (MMOS), an optimized configuration of the operating system, facilitates efficient manufacturing.","pos":[230,353]},{"content":"MMOS is intended to provide the following capabilities:","pos":[354,409]},{"content":"Fast boot time resulting from a smaller image that contains only the code necessary to support manufacturing test execution.","pos":[415,539]},{"content":"The smaller OS image can be flashed quickly, accelerating the manufacturing process.","pos":[540,624]},{"content":"The ability to create an OEM-customized MMOS image that includes unique drivers and test applications.","pos":[630,732]},{"content":"Support for OEM-developed component-level testing, in addition to full-function quality and calibration testing.","pos":[738,850]},{"content":"Access to low-level native APIs for direct testing of phone hardware components.","pos":[856,936]},{"content":"The ability to create a mechanism to remotely control the test application and retrieve test logs over a USB communication channel.","pos":[942,1073]},{"content":"No dependency on display or touch hardware, to allow for headless operation.","pos":[1079,1155]},{"content":"The ability to directly boot into MMOS in a manufacturing environment.","pos":[1161,1231]},{"content":"Automated launch of OEM test applications when MMOS is booted.","pos":[1237,1299]},{"content":"The ability to write to the DPP partition to store unique, per-phone data.","pos":[1305,1379]},{"content":"Battery charging is supported in both UEFI and MMOS.","pos":[1385,1437]},{"content":"It is set using a feature setting, so partners can turn it on and off as desired.","pos":[1438,1519]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>MMOS image definition<ept id=\"p1\">](mmos-image-definition.md)</ept>.","pos":[1520,1589]},{"pos":[1702,1719],"content":"Working with MMOS"},{"content":"This section describes how to build and flash an MMOS image.","pos":[1722,1782]},{"content":"To work with MMOS, complete the following tasks:","pos":[1784,1832]},{"content":"Create your test application or other manufacturing tools as packages.","pos":[1838,1908]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Creating packages<ept id=\"p1\">](https://msdn.microsoft.com/library/dn756642)</ept>.","pos":[1909,1993]},{"content":"Create a flashing protocol and add packages to support that functionality to MMOS.","pos":[1999,2081]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Flashing tools<ept id=\"p1\">](flashing-tools.md)</ept>.","pos":[2082,2137]},{"content":"Create the MMOS image.","pos":[2143,2165]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>MMOS image definition<ept id=\"p1\">](mmos-image-definition.md)</ept>.","pos":[2166,2235]},{"content":"Flash the MMOS image to the device.","pos":[2241,2276]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Flash MMOS to the device<ept id=\"p1\">](flash-mmos-to-the-phone.md)</ept>.","pos":[2277,2351]},{"content":"Deploy manufacturing applications.","pos":[2357,2391]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Deploy and test a user-mode test application in MMOS<ept id=\"p1\">](deploy-and-test-a-user-mode-test-application-in-mmos.md)</ept>.","pos":[2392,2523]},{"content":"Evaluate if you want to create a WIM to be able to run MMOS in RAM.","pos":[2529,2596]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Working with WIM MMOS images<ept id=\"p1\">](working-with-wim-mmos-images.md)</ept>.","pos":[2597,2680]},{"pos":[2856,2894],"content":"Developing user mode test applications"},{"content":"To create a user mode test applications to test the device in manufacturing, complete the following tasks:","pos":[2897,3003]},{"content":"Develop the user mode test application using the MMOS library.","pos":[3009,3071]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Manufacturing test environment supported APIs<ept id=\"p1\">](manufacturing-test-environment-supported-apis.md)</ept> and <bpt id=\"p2\">[</bpt>Develop MMOS test applications<ept id=\"p2\">](develop-mmos-test-applications.md)</ept>.","pos":[3072,3261]},{"content":"A service can be used to start a user mode test application.","pos":[3267,3327]},{"content":"If desired, the test application can communicate with a test controller on a PC to control the testing process and to log results.","pos":[3328,3458]},{"pos":[3464,3611],"content":"To configure the service to start automatically when the OS boots, set the <bpt id=\"p1\">**</bpt>Start<ept id=\"p1\">**</ept> attribute to \"Auto\" in the service package configuration file."},{"content":"This capability is only available in MMOS.","pos":[3745,3787]},{"content":"Some apps should only be allowed to run in MMOS.","pos":[3793,3841]},{"content":"You can use an API to determine if MMOS is running or not.","pos":[3842,3900]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Determine if MMOS is running<ept id=\"p1\">](determine-if-mmos-is-running.md)</ept>.","pos":[3901,3984]},{"content":"To cause the device to enter the connected standby power state, call the SetScreenOff function.","pos":[3990,4085]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Calling SetScreenOff to enter connected standby<ept id=\"p1\">](calling-setscreenoff-to-enter-connected-standby.md)</ept>.","pos":[4086,4207]},{"pos":[4245,4259],"content":"Related topics"},{"content":"Develop MMOS test applications","pos":[4263,4293]}],"content":"---\nauthor: kpacquer\nDescription: Microsoft Manufacturing OS\nms.assetid: 8a46f749-6405-40e8-b3a5-32955e1c0070\nMSHAttr: 'PreferredLib:/library/windows/hardware'\ntitle: Microsoft Manufacturing OS\n---\n\n# Microsoft Manufacturing OS\n\n\nMicrosoft Manufacturing OS (MMOS), an optimized configuration of the operating system, facilitates efficient manufacturing. MMOS is intended to provide the following capabilities:\n\n-   Fast boot time resulting from a smaller image that contains only the code necessary to support manufacturing test execution. The smaller OS image can be flashed quickly, accelerating the manufacturing process.\n\n-   The ability to create an OEM-customized MMOS image that includes unique drivers and test applications.\n\n-   Support for OEM-developed component-level testing, in addition to full-function quality and calibration testing.\n\n-   Access to low-level native APIs for direct testing of phone hardware components.\n\n-   The ability to create a mechanism to remotely control the test application and retrieve test logs over a USB communication channel.\n\n-   No dependency on display or touch hardware, to allow for headless operation.\n\n-   The ability to directly boot into MMOS in a manufacturing environment.\n\n-   Automated launch of OEM test applications when MMOS is booted.\n\n-   The ability to write to the DPP partition to store unique, per-phone data.\n\n-   Battery charging is supported in both UEFI and MMOS. It is set using a feature setting, so partners can turn it on and off as desired. For more info, see [MMOS image definition](mmos-image-definition.md).\n\n## <span id=\"Working_with_MMOS\"></span><span id=\"working_with_mmos\"></span><span id=\"WORKING_WITH_MMOS\"></span>Working with MMOS\n\n\nThis section describes how to build and flash an MMOS image.\n\nTo work with MMOS, complete the following tasks:\n\n1.  Create your test application or other manufacturing tools as packages. For more info, see [Creating packages](https://msdn.microsoft.com/library/dn756642).\n\n2.  Create a flashing protocol and add packages to support that functionality to MMOS. For more info, see [Flashing tools](flashing-tools.md).\n\n3.  Create the MMOS image. For more info, see [MMOS image definition](mmos-image-definition.md).\n\n4.  Flash the MMOS image to the device. For more info, see [Flash MMOS to the device](flash-mmos-to-the-phone.md).\n\n5.  Deploy manufacturing applications. For more info, see [Deploy and test a user-mode test application in MMOS](deploy-and-test-a-user-mode-test-application-in-mmos.md).\n\n6.  Evaluate if you want to create a WIM to be able to run MMOS in RAM. For more info, see [Working with WIM MMOS images](working-with-wim-mmos-images.md).\n\n## <span id=\"Developing_user_mode_test_applications\"></span><span id=\"developing_user_mode_test_applications\"></span><span id=\"DEVELOPING_USER_MODE_TEST_APPLICATIONS\"></span>Developing user mode test applications\n\n\nTo create a user mode test applications to test the device in manufacturing, complete the following tasks:\n\n1.  Develop the user mode test application using the MMOS library. For more info, see [Manufacturing test environment supported APIs](manufacturing-test-environment-supported-apis.md) and [Develop MMOS test applications](develop-mmos-test-applications.md).\n\n2.  A service can be used to start a user mode test application. If desired, the test application can communicate with a test controller on a PC to control the testing process and to log results.\n\n    To configure the service to start automatically when the OS boots, set the **Start** attribute to \"Auto\" in the service package configuration file.  \n\n    ``` syntax\n      <Components>\n        <Service\n          Name=\"SampleMMOSSvc\"\n          Start=\"Auto\"\n          â€¦\n    ```\n\n    This capability is only available in MMOS.\n\n3.  Some apps should only be allowed to run in MMOS. You can use an API to determine if MMOS is running or not. For more info, see [Determine if MMOS is running](determine-if-mmos-is-running.md).\n\n4.  To cause the device to enter the connected standby power state, call the SetScreenOff function. For more info, see [Calling SetScreenOff to enter connected standby](calling-setscreenoff-to-enter-connected-standby.md).\n\n## <span id=\"related_topics\"></span>Related topics\n\n\n[Develop MMOS test applications](develop-mmos-test-applications.md)\n\n \n\n \n\n\n\n\n\n\n"}