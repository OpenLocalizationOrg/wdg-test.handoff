{"nodes":[{"content":"Supporting new callbacks for manufacturing mode","pos":[34,81]},{"content":"Supporting new callbacks for manufacturing mode","pos":[188,235]},{"content":"Supporting new callbacks for manufacturing mode","pos":[243,290]},{"content":"When running in manufacturing mode, Wi-Fi miniport drivers must add support for the following new callback.","pos":[293,400]},{"pos":[523,567],"content":"NDIS<ph id=\"ph1\">\\_</ph>STATUS<ph id=\"ph2\">\\_</ph>DOT11<ph id=\"ph3\">\\_</ph>MANUFACTURING<ph id=\"ph4\">\\_</ph>CALLBACK"},{"content":"The <bpt id=\"p1\">**</bpt>NDIS<ph id=\"ph1\">\\_</ph>STATUS<ph id=\"ph2\">\\_</ph>DOT11<ph id=\"ph3\">\\_</ph>MANUFACTURING<ph id=\"ph4\">\\_</ph>CALLBACK<ept id=\"p1\">**</ept> callback is used to indicate completion status for certain requests.","pos":[570,691]},{"content":"The data structure used for this callback is defined here.","pos":[692,750]},{"content":"dot11<ph id=\"ph1\">\\_</ph>manufacturing<ph id=\"ph2\">\\_</ph>callback<ph id=\"ph3\">\\_</ph>self<ph id=\"ph4\">\\_</ph>test<ph id=\"ph5\">\\_</ph>complete","pos":[1702,1754]},{"content":"<bpt id=\"p1\">**</bpt>dot11<ph id=\"ph1\">\\_</ph>manufacturing<ph id=\"ph2\">\\_</ph>callback<ph id=\"ph3\">\\_</ph>self<ph id=\"ph4\">\\_</ph>test<ph id=\"ph5\">\\_</ph>complete<ept id=\"p1\">**</ept> is called by the driver when a requested self-test is completed by the driver.","pos":[1759,1894]},{"content":"This callback must return the context for self-test request as well as the self-test result.","pos":[1895,1987]},{"content":"The driver then calls the <bpt id=\"p1\">**</bpt>OID<ph id=\"ph1\">\\_</ph>DOT11<ph id=\"ph2\">\\_</ph>MANUFACTURING<ph id=\"ph3\">\\_</ph>TEST<ept id=\"p1\">**</ept> OID with the <bpt id=\"p2\">**</bpt>dot11<ph id=\"ph4\">\\_</ph>manufacturing<ph id=\"ph5\">\\_</ph>test<ph id=\"ph6\">\\_</ph>self<ph id=\"ph7\">\\_</ph>query<ph id=\"ph8\">\\_</ph>result<ept id=\"p2\">**</ept> command to obtain the detailed result of the test.","pos":[1988,2165]},{"content":"dot11<ph id=\"ph1\">\\_</ph>manufacturing<ph id=\"ph2\">\\_</ph>callback<ph id=\"ph3\">\\_</ph>sleep<ph id=\"ph4\">\\_</ph>complete","pos":[2293,2340]},{"content":"<bpt id=\"p1\">**</bpt>dot11<ph id=\"ph1\">\\_</ph>manufacturing<ph id=\"ph2\">\\_</ph>callback<ph id=\"ph3\">\\_</ph>sleep<ph id=\"ph4\">\\_</ph>complete<ept id=\"p1\">**</ept> is called when a requested sleep command is executed by the driver.","pos":[2345,2464]},{"content":"This callback must return the context for the sleep request as well as the status, whether success or failure.","pos":[2465,2575]},{"content":"This callback is also called by the driver when the application sends a request to wake the driver from a sleep state.","pos":[2576,2694]},{"pos":[2732,2746],"content":"Related topics"},{"content":"Adding Wi-Fi manufacturing test support to the OID interface","pos":[2750,2810]}],"content":"---\nauthor: kpacquer\nDescription: Supporting new callbacks for manufacturing mode\nms.assetid: c94468fa-4581-4d51-9e48-e751d070db28\nMSHAttr: 'PreferredLib:/library/windows/hardware'\ntitle: Supporting new callbacks for manufacturing mode\n---\n\n# Supporting new callbacks for manufacturing mode\n\n\nWhen running in manufacturing mode, Wi-Fi miniport drivers must add support for the following new callback.\n\n## <span id=\"NDIS_STATUS_DOT11_MANUFACTURING_CALLBACK\"></span><span id=\"ndis_status_dot11_manufacturing_callback\"></span>NDIS\\_STATUS\\_DOT11\\_MANUFACTURING\\_CALLBACK\n\n\nThe **NDIS\\_STATUS\\_DOT11\\_MANUFACTURING\\_CALLBACK** callback is used to indicate completion status for certain requests. The data structure used for this callback is defined here.\n\n``` syntax\ntypedef enum _DOT11_MANUFACTURING_CALLBACK_TYPE {\n    dot11_manufacturing_callback_unknown = 0,\n    dot11_manufacturing_callback_self_test_complete = 1,\n    dot11_manufacturing_callback_sleep_complete = 2,\n    dot11_manufacturing_callback_IHV_start = 0x80000000,\n    dot11_manufacturing_callback_IHV_end = 0xffffffff\n} DOT11_MANUFACTURING_CALLBACK_TYPE, * PDOT11_MANUFACTURING_CALLBACK_TYPE;\n\ntypedef struct DOT11_MANUFACTURING_CALLBACK_PARAMETERS {\n#define DOT11_MANUFACTURING_CALLBACK_REVISION_1  1\n    NDIS_OBJECT_HEADER                Header;\n    DOT11_MANUFACTURING_CALLBACK_TYPE dot11ManufacturingCallbackType;\n    ULONG                             uStatus;\n    PVOID                             pvContext;\n} DOT11_MANUFACTURING_CALLBACK_PARAMETERS, * PDOT11_MANUFACTURING_CALLBACK_PARAMETERS;\n```\n\n<span id=\"dot11_manufacturing_callback_self_test_complete\"></span><span id=\"DOT11_MANUFACTURING_CALLBACK_SELF_TEST_COMPLETE\"></span>**dot11\\_manufacturing\\_callback\\_self\\_test\\_complete**  \n**dot11\\_manufacturing\\_callback\\_self\\_test\\_complete** is called by the driver when a requested self-test is completed by the driver. This callback must return the context for self-test request as well as the self-test result. The driver then calls the **OID\\_DOT11\\_MANUFACTURING\\_TEST** OID with the **dot11\\_manufacturing\\_test\\_self\\_query\\_result** command to obtain the detailed result of the test.\n\n<span id=\"dot11_manufacturing_callback_sleep_complete\"></span><span id=\"DOT11_MANUFACTURING_CALLBACK_SLEEP_COMPLETE\"></span>**dot11\\_manufacturing\\_callback\\_sleep\\_complete**  \n**dot11\\_manufacturing\\_callback\\_sleep\\_complete** is called when a requested sleep command is executed by the driver. This callback must return the context for the sleep request as well as the status, whether success or failure. This callback is also called by the driver when the application sends a request to wake the driver from a sleep state.\n\n## <span id=\"related_topics\"></span>Related topics\n\n\n[Adding Wi-Fi manufacturing test support to the OID interface](adding-wi-fi-manufacturing-test-support-to-the-oid-interface.md)\n\n \n\n \n\n\n\n\n\n\n"}