{"nodes":[{"content":"Add Multilingual Support to Windows Setup","pos":[34,75]},{"content":"Add Multilingual Support to Windows Setup","pos":[182,223]},{"content":"Add Multilingual Support to Windows Setup","pos":[231,272]},{"content":"This walkthrough provides steps for creating multilingual installations and distributable media.","pos":[275,371]},{"content":"In this topic:","pos":[373,387]},{"content":"Copy Windows Source Files to a Local Directory","pos":[394,440]},{"content":"Add Windows PE Setup Language Packs to the Default Boot Image","pos":[457,518]},{"content":"Add Font Support to the Default Boot Image","pos":[535,577]},{"content":"Add Windows Language Packs to the Windows Image","pos":[594,641]},{"content":"Step 5: Add Localized Windows Setup Resources to the Windows Distribution","pos":[658,731]},{"content":"Step 6: Recreate the Lang.ini","pos":[747,776]},{"content":"Step 7: Commit the changes to the Windows images","pos":[792,840]},{"content":"Step 8: Create a Boot Order File (Optional)","pos":[856,899]},{"pos":[1009,1022],"content":"Prerequisites"},{"content":"To complete this walkthrough, you need the following:","pos":[1025,1078]},{"content":"A technician computer that has the Windows Assessment and Deployment Kit (Windows ADK) installed.","pos":[1084,1181]},{"content":"Windows product DVD.","pos":[1187,1207]},{"pos":[1262,1322],"content":"Step 1: Copy Windows Distribution Files to a Local Directory"},{"content":"In this step, you copy the contents of your Windows product media to a local hard drive.","pos":[1325,1413]},{"content":"You must use the Windows media that corresponds to the version of the customized image that you are building.","pos":[1414,1523]},{"content":"For example, if you are building a custom Windows 8 setup image, you must use the original Windows 8 product media.","pos":[1524,1639]},{"content":"On your technician computer, create a new directory for your Windows distribution and copy the Windows media content to that directory.","pos":[1645,1780]},{"content":"For example:","pos":[1781,1793]},{"pos":[1927,1983],"content":"Where <bpt id=\"p1\">*</bpt>D:<ept id=\"p1\">*</ept> is the location of the Windows product media."},{"pos":[2038,2107],"content":"Step 2: Add Windows PE Setup Language Packs to the Default Boot Image"},{"content":"In this step, you add language support and the Windows Setup optional components to the second image (index 2) in the default Boot.wim.","pos":[2110,2245]},{"content":"On your technician computer: Click <bpt id=\"p1\">**</bpt>Start<ept id=\"p1\">**</ept>, and type <bpt id=\"p2\">**</bpt>deployment<ept id=\"p2\">**</ept>.","pos":[2251,2321]},{"content":"Right-click <bpt id=\"p1\">**</bpt>Deployment and Imaging Tools Environment<ept id=\"p1\">**</ept> and then select <bpt id=\"p2\">**</bpt>Run as administrator<ept id=\"p2\">**</ept>.","pos":[2322,2420]},{"content":"Mount the second image (index 2) in Boot.wim to a local mount directory using the <bpt id=\"p1\">**</bpt>Dism /Mount-Image<ept id=\"p1\">**</ept> command.","pos":[2426,2538]},{"content":"For example:","pos":[2539,2551]},{"pos":[2683,2844],"content":"Add Windows PE Setup optional component and language packs into your mounted image using the <bpt id=\"p1\">**</bpt>Dism /Add-Package<ept id=\"p1\">**</ept> command for each language you want to support."},{"content":"Windows PE language packs are available in the Windows ADK.","pos":[2850,2909]},{"content":"For example:","pos":[2915,2927]},{"pos":[3576,3706],"content":"**Important**  \nFor Windows Server® 2012, you must use the WinPE-Setup-Server optional component and associated language pack.","leadings":["","    "],"nodes":[{"content":"Important","pos":[2,11]},{"content":"For Windows Server® 2012, you must use the WinPE-Setup-Server optional component and associated language pack.","pos":[16,126]}]},{"content":"For Japanese (ja-JP), Korean (ko-KR), and Chinese (zh-HK, zh-CN, zh-TW), you must add additional font support to your image.","pos":[3719,3843]},{"content":"For example, to add Japanese font support, enter the following command.","pos":[3844,3915]},{"pos":[4153,4263],"content":"Recreate the Lang.ini file to reflect the additional language support using the <bpt id=\"p1\">**</bpt>Dism /Gen-LangINI<ept id=\"p1\">**</ept> command."},{"content":"Change the Windows Setup default language by using DISM.","pos":[4369,4425]},{"content":"For example,","pos":[4426,4438]},{"pos":[4559,4802],"content":"For more information about specifying different international settings for input locale, and other items see <bpt id=\"p1\">[</bpt>DISM Languages and International Servicing Command-Line Options<ept id=\"p1\">](dism-languages-and-international-servicing-command-line-options.md)</ept>."},{"pos":[4808,4896],"content":"Save your changes back into the image using the <bpt id=\"p1\">**</bpt>Dism /Unmount–Image /Commit<ept id=\"p1\">**</ept> command."},{"pos":[5031,5081],"content":"Step 3: Add Font Support to the Default Boot Image"},{"content":"If you added font support for Japanese (ja-JP), Korean (ko-KR), or Chinese (zh-HK, zh-CN, zh-TW) to the default boot.wim image, you must also add font support to the first image (index 1) in the Boot.wim file.","pos":[5084,5293]},{"content":"On your technician computer: Click <bpt id=\"p1\">**</bpt>Start<ept id=\"p1\">**</ept>, and type <bpt id=\"p2\">**</bpt>deployment<ept id=\"p2\">**</ept>.","pos":[5299,5369]},{"content":"Right-click <bpt id=\"p1\">**</bpt>Deployment and Imaging Tools Environment<ept id=\"p1\">**</ept> and then select <bpt id=\"p2\">**</bpt>Run as administrator<ept id=\"p2\">**</ept>.","pos":[5370,5468]},{"content":"Use the <bpt id=\"p1\">**</bpt>Dism /Mount-Image<ept id=\"p1\">**</ept> command to mount the first image (index 1) in the Boot.wim file to a local mount directory.","pos":[5474,5595]},{"content":"For example:","pos":[5596,5608]},{"content":"Add the same font support you added to the boot.wim default boot image in the previous step.","pos":[5763,5855]},{"content":"For example, to add Japanese font support, enter the following command.","pos":[5856,5927]},{"pos":[6166,6254],"content":"Save your changes back into the image using the <bpt id=\"p1\">**</bpt>Dism /Unmount-Image /Commit<ept id=\"p1\">**</ept> command."},{"pos":[6390,6437],"content":"Step 4: Add Language Packs to the Windows Image"},{"content":"You must add the same language support to your Windows image file, Install.wim, as you did for the Boot.wim file.","pos":[6440,6553]},{"content":"The setup process requires that both images contain the same set of language packs.","pos":[6554,6637]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Add and Remove Language Packs Offline Using DISM<ept id=\"p1\">](add-and-remove-language-packs-offline-using-dism.md)</ept>.","pos":[6638,6768]},{"content":"Mount the Windows image by using DISM","pos":[6774,6811]},{"pos":[6954,7013],"content":"Where <bpt id=\"p1\">*</bpt>1<ept id=\"p1\">*</ept> is the index of the image that you want to mount."},{"content":"Add one or more language packs to the Windows image.","pos":[7019,7071]},{"content":"The same set of languages must also be added to the Windows Recovery Environment image (winre.wim).","pos":[7189,7288]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Customize Windows RE<ept id=\"p1\">](customize-windows-re.md)</ept>.","pos":[7289,7363]},{"pos":[7440,7513],"content":"Step 5: Add Localized Windows Setup Resources to the Windows Distribution"},{"content":"In this step you copy the language-specific Setup resources from each language specific Windows distribution to the Sources folder in your Windows distribution.","pos":[7516,7676]},{"content":"For example, insert the Windows DVD for Fr-FR in your DVD drive (E:) and copy the Fr-FR sources folder to your Windows distribution.","pos":[7677,7809]},{"content":"Copy the localized Windows setup files to your Windows distribution.","pos":[7815,7883]},{"pos":[7983,8090],"content":"Where <bpt id=\"p1\">*</bpt>E:<ept id=\"p1\">*</ept> is the location of the Windows distribution that contains the localized Windows Setup resources."},{"pos":[8167,8196],"content":"Step 6: Recreate the Lang.ini"},{"content":"In this step you recreate the Lang.ini file and specify the default language settings.","pos":[8199,8285]},{"pos":[8291,8393],"content":"Recreate the Lang.ini file to reflect the additional language using the <bpt id=\"p1\">**</bpt>Dism /Gen-LangINI<ept id=\"p1\">**</ept> command."},{"content":"Change the Windows Setup default language by using DISM.","pos":[8502,8558]},{"content":"For example,","pos":[8559,8571]},{"pos":[8690,8933],"content":"For more information about specifying different international settings for input locale, and other items see <bpt id=\"p1\">[</bpt>DISM Languages and International Servicing Command-Line Options<ept id=\"p1\">](dism-languages-and-international-servicing-command-line-options.md)</ept>."},{"content":"Copy the lang.ini file in the Windows distribution to the boot.wim file.","pos":[8939,9011]},{"pos":[9189,9237],"content":"Step 7: Commit the Changes to the Windows Images"},{"content":"In this step you commit the changes to all of the Windows images you have updated","pos":[9240,9321]},{"content":"Use DISM to unmount and commit the changes to the Windows images.","pos":[9327,9392]},{"pos":[9609,9652],"content":"Step 8: Create a Boot Order File (Optional)"},{"content":"In this step, you create a boot order file.","pos":[9655,9698]},{"content":"Due to the size of the image, you must do so before you create an .iso file.","pos":[9699,9775]},{"content":"Create a boot order file (Bootorder.txt).","pos":[9781,9822]},{"content":"For example:","pos":[9823,9835]},{"content":"where Bootorder.txt contains the following list of files:","pos":[9966,10023]},{"pos":[10471,10481],"content":"Next Steps"},{"content":"You can now use the multilingual image to create media for distribution.","pos":[10484,10556]},{"content":"To create bootable media such as a USB flash drive, see <bpt id=\"p1\">[</bpt>WinPE: Create USB Bootable drive<ept id=\"p1\">](winpe-create-usb-bootable-drive.md)</ept>.","pos":[10557,10684]},{"content":"You can also create a bootable CD or DVD.","pos":[10685,10726]},{"content":"However, due to the size of a multilingual image, you must first create a boot order file before you create a bootable image (.iso) file on CD or DVD.","pos":[10727,10877]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Oscdimg Command-Line Options<ept id=\"p1\">](oscdimg-command-line-options.md)</ept>.","pos":[10878,10968]},{"pos":[11006,11020],"content":"Related topics"},{"content":"Windows Setup Technical Reference","pos":[11024,11057]},{"content":"DISM Image Management Command-Line Options","pos":[11099,11141]},{"content":"DISM Windows PE Servicing Command-Line Options","pos":[11196,11242]},{"content":"Oscdimg Command-Line Options","pos":[11297,11325]},{"content":"WinPE: Mount and Customize","pos":[11362,11388]},{"content":"WinPE: Install on a Hard Drive (Flat Boot or Non-RAM)","pos":[11422,11475]}],"content":"---\nauthor: Justinha\nDescription: Add Multilingual Support to Windows Setup\nms.assetid: 242b963c-79fc-450b-90d7-c736965797b7\nMSHAttr: 'PreferredLib:/library/windows/hardware'\ntitle: Add Multilingual Support to Windows Setup\n---\n\n# Add Multilingual Support to Windows Setup\n\n\nThis walkthrough provides steps for creating multilingual installations and distributable media.\n\nIn this topic:\n\n-   [Copy Windows Source Files to a Local Directory](#bkmk-1)\n\n-   [Add Windows PE Setup Language Packs to the Default Boot Image](#bkmk-2)\n\n-   [Add Font Support to the Default Boot Image](#bkmk-3)\n\n-   [Add Windows Language Packs to the Windows Image](#bkmk-4)\n\n-   [Step 5: Add Localized Windows Setup Resources to the Windows Distribution](#step5)\n\n-   [Step 6: Recreate the Lang.ini](#step6)\n\n-   [Step 7: Commit the changes to the Windows images](#step7)\n\n-   [Step 8: Create a Boot Order File (Optional)](#step8)\n\n## <span id=\"Prerequisites\"></span><span id=\"prerequisites\"></span><span id=\"PREREQUISITES\"></span>Prerequisites\n\n\nTo complete this walkthrough, you need the following:\n\n-   A technician computer that has the Windows Assessment and Deployment Kit (Windows ADK) installed.\n\n-   Windows product DVD.\n\n## <span id=\"bkmk_1\"></span><span id=\"BKMK_1\"></span>Step 1: Copy Windows Distribution Files to a Local Directory\n\n\nIn this step, you copy the contents of your Windows product media to a local hard drive. You must use the Windows media that corresponds to the version of the customized image that you are building. For example, if you are building a custom Windows 8 setup image, you must use the original Windows 8 product media.\n\n-   On your technician computer, create a new directory for your Windows distribution and copy the Windows media content to that directory. For example:\n\n    ``` syntax\n    md C:\\my_distribution\n    xcopy D: C:\\my_distribution\n    md C:\\mount\\boot \n    md C:\\mount\\windows\n    ```\n\n    Where *D:* is the location of the Windows product media.\n\n## <span id=\"bkmk_2\"></span><span id=\"BKMK_2\"></span>Step 2: Add Windows PE Setup Language Packs to the Default Boot Image\n\n\nIn this step, you add language support and the Windows Setup optional components to the second image (index 2) in the default Boot.wim.\n\n1.  On your technician computer: Click **Start**, and type **deployment**. Right-click **Deployment and Imaging Tools Environment** and then select **Run as administrator**.\n\n2.  Mount the second image (index 2) in Boot.wim to a local mount directory using the **Dism /Mount-Image** command. For example:\n\n    ``` syntax\n    Dism /mount-image /imagefile:C:\\my_distribution\\sources\\boot.wim /index:2 /mountdir:C:\\Mount\\boot\n    ```\n\n3.  Add Windows PE Setup optional component and language packs into your mounted image using the **Dism /Add-Package** command for each language you want to support.\n\n    Windows PE language packs are available in the Windows ADK.\n\n    For example:\n\n    ``` syntax\n\n    Dism /image:C:\\mount\\boot /add-package /packagepath:\"C:\\Program Files (x86)\\Windows Kits\\8.0\\Assessment and Deployment Kit\\Windows Preinstallation Environment\\amd64\\WinPE_OCs\\fr-fr\\lp.cab\"\n\n    Dism /image:C:\\mount\\boot /add-package /packagepath:\"C:\\Program Files (x86)\\Windows Kits\\8.0\\Assessment and Deployment Kit\\Windows Preinstallation Environment\\amd64\\WinPE_OCs\\fr-fr\\WinPE-Setup_fr-fr.cab\"\n\n    Dism /image:C:\\mount\\boot /add-package /packagepath:\"C:\\Program Files (x86)\\Windows Kits\\8.0\\Assessment and Deployment Kit\\Windows Preinstallation Environment\\amd64\\WinPE_OCs\\fr-fr\\WinPE-Setup-Client_fr-fr.cab\"\n    ```\n\n    **Important**  \n    For Windows Server® 2012, you must use the WinPE-Setup-Server optional component and associated language pack.\n\n     \n\n4.  For Japanese (ja-JP), Korean (ko-KR), and Chinese (zh-HK, zh-CN, zh-TW), you must add additional font support to your image. For example, to add Japanese font support, enter the following command.\n\n    ``` syntax\n    Dism /image:C:\\mount\\boot /add-package /packagepath:\"C:\\Program Files (x86)\\Windows Kits\\8.0\\Assessment and Deployment Kit\\Windows Preinstallation Environment\\amd64\\WinPE_OCs\\WinPE-FontSupport-JA-JP.cab\"\n    ```\n\n5.  Recreate the Lang.ini file to reflect the additional language support using the **Dism /Gen-LangINI** command.\n\n    ``` syntax\n    Dism /image:C:\\mount\\boot /gen-langINI /distribution:C:\\my_distribution\n    ```\n\n6.  Change the Windows Setup default language by using DISM. For example,\n\n    ``` syntax\n    Dism /image:C:\\mount\\boot /Set-SetupUILang:fr-FR /distribution:C:\\windows_distribution\n    ```\n\n    For more information about specifying different international settings for input locale, and other items see [DISM Languages and International Servicing Command-Line Options](dism-languages-and-international-servicing-command-line-options.md).\n\n7.  Save your changes back into the image using the **Dism /Unmount–Image /Commit** command.\n\n    ``` syntax\n    Dism /unmount-image /mountdir:C:\\mount\\boot /commit\n    ```\n\n## <span id=\"bkmk_3\"></span><span id=\"BKMK_3\"></span>Step 3: Add Font Support to the Default Boot Image\n\n\nIf you added font support for Japanese (ja-JP), Korean (ko-KR), or Chinese (zh-HK, zh-CN, zh-TW) to the default boot.wim image, you must also add font support to the first image (index 1) in the Boot.wim file.\n\n1.  On your technician computer: Click **Start**, and type **deployment**. Right-click **Deployment and Imaging Tools Environment** and then select **Run as administrator**.\n\n2.  Use the **Dism /Mount-Image** command to mount the first image (index 1) in the Boot.wim file to a local mount directory. For example:\n\n    ``` syntax\n    Md C:\\mount\\boot1\n    Dism /mount-image /imagefile:C:\\my_distribution\\sources\\boot.wim /index:1 /mountdir:C:\\Mount\\boot1\n    ```\n\n3.  Add the same font support you added to the boot.wim default boot image in the previous step. For example, to add Japanese font support, enter the following command.\n\n    ``` syntax\n    Dism /image:C:\\mount\\boot1 /add-package /packagepath:\"C:\\Program Files (x86)\\Windows Kits\\8.0\\Assessment and Deployment Kit\\Windows Preinstallation Environment\\amd64\\WinPE_OCs\\WinPE-FontSupport-JA-JP.cab\"\n    ```\n\n4.  Save your changes back into the image using the **Dism /Unmount-Image /Commit** command.\n\n    ``` syntax\n    Dism /unmount-image /mountdir:C:\\mount\\boot1 /commit\n    ```\n\n## <span id=\"bkmk_4\"></span><span id=\"BKMK_4\"></span>Step 4: Add Language Packs to the Windows Image\n\n\nYou must add the same language support to your Windows image file, Install.wim, as you did for the Boot.wim file. The setup process requires that both images contain the same set of language packs. For more information, see [Add and Remove Language Packs Offline Using DISM](add-and-remove-language-packs-offline-using-dism.md).\n\n-   Mount the Windows image by using DISM\n\n    ``` syntax\n    Dism /mount-image /imagefile:\"C:\\my_distribution\\sources\\install.wim\" /index: 1 /mountdir:\"C:\\mount\\windows\"\n    ```\n\n    Where *1* is the index of the image that you want to mount.\n\n    Add one or more language packs to the Windows image.\n\n    ``` syntax\n    Dism /image:C:\\mount\\windows /add-package /packagepath:\"C:\\LanguagePacks\\fr-FR\\lp.cab\" \n    ```\n\nThe same set of languages must also be added to the Windows Recovery Environment image (winre.wim). For more information, see [Customize Windows RE](customize-windows-re.md).\n\n## <span id=\"Step5\"></span><span id=\"step5\"></span><span id=\"STEP5\"></span>Step 5: Add Localized Windows Setup Resources to the Windows Distribution\n\n\nIn this step you copy the language-specific Setup resources from each language specific Windows distribution to the Sources folder in your Windows distribution. For example, insert the Windows DVD for Fr-FR in your DVD drive (E:) and copy the Fr-FR sources folder to your Windows distribution.\n\n-   Copy the localized Windows setup files to your Windows distribution.\n\n    ``` syntax\n    xcopy E:\\sources\\fr-fr C:\\my_distribution\\sources\\fr-fr /cherkyi \n    ```\n\n    Where *E:* is the location of the Windows distribution that contains the localized Windows Setup resources.\n\n## <span id=\"Step6\"></span><span id=\"step6\"></span><span id=\"STEP6\"></span>Step 6: Recreate the Lang.ini\n\n\nIn this step you recreate the Lang.ini file and specify the default language settings.\n\n1.  Recreate the Lang.ini file to reflect the additional language using the **Dism /Gen-LangINI** command.\n\n    ``` syntax\n    Dism /image:C:\\mount\\windows /gen-langINI /distribution:C:\\my_distribution\n    ```\n\n2.  Change the Windows Setup default language by using DISM. For example,\n\n    ``` syntax\n    Dism /image:C:\\mount\\windows /Set-SetupUILang:fr-FR /distribution:C:\\my_distribution\n    ```\n\n    For more information about specifying different international settings for input locale, and other items see [DISM Languages and International Servicing Command-Line Options](dism-languages-and-international-servicing-command-line-options.md).\n\n3.  Copy the lang.ini file in the Windows distribution to the boot.wim file.\n\n    ``` syntax\n    Xcopy C:\\my_distribution\\sources\\lang.ini C:\\mount\\boot\\sources\\lang.ini\n    ```\n\n## <span id=\"Step7\"></span><span id=\"step7\"></span><span id=\"STEP7\"></span>Step 7: Commit the Changes to the Windows Images\n\n\nIn this step you commit the changes to all of the Windows images you have updated\n\n-   Use DISM to unmount and commit the changes to the Windows images.\n\n    ``` syntax\n    Dism /unmount-image /mountdir:C:\\mount\\boot /commit \n    Dism /unmount-image /mountdir:C:\\mount\\windows /commit\n    ```\n\n## <span id=\"Step8\"></span><span id=\"step8\"></span><span id=\"STEP8\"></span>Step 8: Create a Boot Order File (Optional)\n\n\nIn this step, you create a boot order file. Due to the size of the image, you must do so before you create an .iso file.\n\n-   Create a boot order file (Bootorder.txt). For example:\n\n    ``` syntax\n    Oscdimg -m -n -yoC:\\temp\\bootOrder.txt -bC:\\winpe_amd64\\Efisys.bin C:\\winpe_amd64\\winpeamd64.iso\n    ```\n\n    where Bootorder.txt contains the following list of files:\n\n    ``` syntax\n    boot\\bcd\n    boot\\boot.sdi\n    boot\\bootfix.bin\n    boot\\bootsect.exe\n    boot\\etfsboot.com\n    boot\\memtest.efi\n    boot\\memtest.exe\n    boot\\en-us\\bootsect.exe.mui\n    boot\\fonts\\chs_boot.ttf\n    boot\\fonts\\cht_boot.ttf\n    boot\\fonts\\jpn_boot.ttf\n    boot\\fonts\\kor_boot.ttf\n    boot\\fonts\\wgl4_boot.ttf\n    sources\\boot.wim\n    ```\n\n## <span id=\"Next_Steps\"></span><span id=\"next_steps\"></span><span id=\"NEXT_STEPS\"></span>Next Steps\n\n\nYou can now use the multilingual image to create media for distribution. To create bootable media such as a USB flash drive, see [WinPE: Create USB Bootable drive](winpe-create-usb-bootable-drive.md). You can also create a bootable CD or DVD. However, due to the size of a multilingual image, you must first create a boot order file before you create a bootable image (.iso) file on CD or DVD. For more information, see [Oscdimg Command-Line Options](oscdimg-command-line-options.md).\n\n## <span id=\"related_topics\"></span>Related topics\n\n\n[Windows Setup Technical Reference](windows-setup-technical-reference.md)\n\n[DISM Image Management Command-Line Options](dism-image-management-command-line-options-s14.md)\n\n[DISM Windows PE Servicing Command-Line Options](dism-windows-pe-servicing-command-line-options.md)\n\n[Oscdimg Command-Line Options](oscdimg-command-line-options.md)\n\n[WinPE: Mount and Customize](winpe-mount-and-customize.md)\n\n[WinPE: Install on a Hard Drive (Flat Boot or Non-RAM)](winpe-install-on-a-hard-drive--flat-boot-or-non-ram.md)\n\n \n\n \n\n\n\n\n\n\n"}