{"nodes":[{"content":"Buffers","pos":[11,18]},{"content":"Buffers","pos":[32,39]},{"content":"Buffers","pos":[228,235]},{"pos":[238,452],"content":"Describes either the number of buffers to be allocated when starting a session or the percentage of total memory to be allocated for the session, depending on the value of the <bpt id=\"p1\">**</bpt>PercentageOfTotalMemory<ept id=\"p1\">**</ept> attribute."},{"content":"Element Hierarchy","pos":[457,474]},{"pos":[482,508],"content":"WindowsPerformanceRecorder"},{"content":"Syntax","pos":[1318,1324]},{"content":"Attributes and Elements","pos":[1509,1532]},{"content":"Attributes","pos":[1539,1549]},{"content":"Attribute","pos":[1714,1723]},{"content":"Description","pos":[1733,1744]},{"content":"Data type","pos":[1754,1763]},{"content":"Required","pos":[1773,1781]},{"content":"Default","pos":[1791,1798]},{"content":"Operation","pos":[1859,1868]},{"content":"Indicates whether buffers should be set or added.","pos":[1894,1943]},{"content":"This attribute can have one of the following values:","pos":[1960,2012]},{"content":"Set","pos":[2029,2032]},{"content":"Add","pos":[2049,2052]},{"content":"Remove","pos":[2069,2075]},{"content":"No","pos":[2103,2105]},{"content":"Set","pos":[2122,2125]},{"content":"Value","pos":[2174,2179]},{"content":"Indicates the number of buffers, or if <ph id=\"ph1\">&lt;strong&gt;</ph>PercentageOfTotalMemory<ph id=\"ph2\">&lt;/strong&gt;</ph> is set to <ph id=\"ph3\">&amp;quot;</ph>true<ph id=\"ph4\">&amp;quot;</ph>, the percentage of memory for the buffers.","pos":[2205,2354]},{"content":"unsignedLong","pos":[2371,2383]},{"content":"Yes","pos":[2400,2403]},{"content":"PercentageOfTotalMemory","pos":[2468,2491]},{"content":"When set to <ph id=\"ph1\">&amp;quot;</ph>true<ph id=\"ph2\">&amp;quot;</ph>, limits the amount of memory that can be consumed to the value of <ph id=\"ph3\">&lt;strong&gt;</ph>Value<ph id=\"ph4\">&lt;/strong&gt;</ph>.","pos":[2517,2635]},{"content":"boolean","pos":[2652,2659]},{"content":"No","pos":[2676,2678]},{"content":"false","pos":[2695,2700]},{"content":"Child Elements","pos":[2742,2756]},{"content":"None.","pos":[2758,2763]},{"content":"Parent Elements","pos":[2769,2784]},{"content":"Element","pos":[2889,2896]},{"content":"Description","pos":[2906,2917]},{"content":"EventCollector","pos":[2971,2985]},{"content":"Represents an event collector.","pos":[3022,3052]},{"content":"EventCollectorId","pos":[3094,3110]},{"content":"Represents an event collector identifier.","pos":[3149,3190]},{"content":"HeapEventCollector","pos":[3231,3249]},{"content":"Represents a heap event collector.","pos":[3290,3324]},{"content":"HeapEventCollectorId","pos":[3366,3386]},{"content":"Represents a heap event collector identifier.","pos":[3429,3474]},{"content":"SystemCollector","pos":[3515,3530]},{"content":"Represents a system collector.","pos":[3568,3598]},{"content":"SystemCollectorId","pos":[3640,3657]},{"content":"Represents a system collector identifier.","pos":[3697,3738]},{"content":"Remarks","pos":[3779,3786]},{"content":"This element is used only for in-memory capture.","pos":[3789,3837]},{"content":"Example","pos":[3842,3849]},{"content":"The following examples show how this element is used in system collector and event collector definitions.","pos":[3852,3957]},{"content":"The first example sets the buffer size to 512 KB and limits the total amount of memory consumed to 3 percent.","pos":[3959,4068]},{"content":"The second example sets 64 buffers of 128 KB each.","pos":[4069,4119]},{"content":"Related topics","pos":[4531,4545]},{"content":"Elements","pos":[4549,4557]},{"content":"BufferSize","pos":[4574,4584]},{"content":"SystemCollector","pos":[4603,4618]},{"content":"EventCollector","pos":[4642,4656]},{"content":"HeapEventCollector","pos":[4679,4697]}],"content":"---\ntitle: Buffers\ndescription: Buffers\nMSHAttr:\n- 'PreferredSiteName:MSDN'\n- 'PreferredLib:/library/windows/hardware'\nms.assetid: 8f60d3e3-cb32-4879-8ac2-80ceaea945d3\nms.prod: W10\nms.mktglfcycl: operate\nms.sitesec: msdn\n---\n\n# Buffers\n\n\nDescribes either the number of buffers to be allocated when starting a session or the percentage of total memory to be allocated for the session, depending on the value of the **PercentageOfTotalMemory** attribute.\n\n## Element Hierarchy\n\n\n&lt;[WindowsPerformanceRecorder](windowsperformancerecorder.md)&gt;\n\n     &lt;[Profiles](profiles.md)&gt;\n\n          &lt;[SystemCollector](systemcollector.md)&gt;\n\n               &lt;**Buffers**&gt;\n\n          &lt;[EventCollector](eventcollector.md)&gt;\n\n               &lt;**Buffers**&gt;\n\n          &lt;[HeapEventCollector](heapeventcollector.md)\n\n               &lt;**Buffers**&gt;\n\n          &lt;[Profile](profile-wpr.md)&gt;\n\n               &lt;[Collectors](collectors.md)&gt;\n\n                    &lt;[SystemCollectorId](systemcollectorid.md)&gt;\n\n                         &lt;**Buffers**&gt;\n\n                    &lt;[EventCollectorId](eventcollectorid.md)&gt;\n\n                         &lt;**Buffers**&gt;\n\n                    &lt;[HeapEventCollectorId](heapeventcollectorid.md)&gt;\n\n                         &lt;**Buffers**&gt;\n\n## Syntax\n\n\n``` syntax\n<Buffers Operation               = \"Set\" | \"Add\" | “Remove”\n         Value                   = unsignedLong\n         PercentageOfTotalMemory = boolean>\n</Buffers>\n```\n\n## Attributes and Elements\n\n\n### Attributes\n\n<table>\n<colgroup>\n<col width=\"20%\" />\n<col width=\"20%\" />\n<col width=\"20%\" />\n<col width=\"20%\" />\n<col width=\"20%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th>Attribute</th>\n<th>Description</th>\n<th>Data type</th>\n<th>Required</th>\n<th>Default</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td><p><strong>Operation</strong></p></td>\n<td><p>Indicates whether buffers should be set or added.</p></td>\n<td><p>This attribute can have one of the following values:</p>\n<ul>\n<li><p>Set</p></li>\n<li><p>Add</p></li>\n<li><p>Remove</p></li>\n</ul></td>\n<td><p>No</p></td>\n<td><p>Set</p></td>\n</tr>\n<tr class=\"even\">\n<td><p><strong>Value</strong></p></td>\n<td><p>Indicates the number of buffers, or if <strong>PercentageOfTotalMemory</strong> is set to &quot;true&quot;, the percentage of memory for the buffers.</p></td>\n<td><p>unsignedLong</p></td>\n<td><p>Yes</p></td>\n<td><p></p></td>\n</tr>\n<tr class=\"odd\">\n<td><p><strong>PercentageOfTotalMemory</strong></p></td>\n<td><p>When set to &quot;true&quot;, limits the amount of memory that can be consumed to the value of <strong>Value</strong>.</p></td>\n<td><p>boolean</p></td>\n<td><p>No</p></td>\n<td><p>false</p></td>\n</tr>\n</tbody>\n</table>\n\n \n\n### Child Elements\n\nNone.\n\n### Parent Elements\n\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th>Element</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td><p>[EventCollector](eventcollector.md)</p></td>\n<td><p>Represents an event collector.</p></td>\n</tr>\n<tr class=\"even\">\n<td><p>[EventCollectorId](eventcollectorid.md)</p></td>\n<td><p>Represents an event collector identifier.</p></td>\n</tr>\n<tr class=\"odd\">\n<td><p>[HeapEventCollector](heapeventcollector.md)</p></td>\n<td><p>Represents a heap event collector.</p></td>\n</tr>\n<tr class=\"even\">\n<td><p>[HeapEventCollectorId](heapeventcollectorid.md)</p></td>\n<td><p>Represents a heap event collector identifier.</p></td>\n</tr>\n<tr class=\"odd\">\n<td><p>[SystemCollector](systemcollector.md)</p></td>\n<td><p>Represents a system collector.</p></td>\n</tr>\n<tr class=\"even\">\n<td><p>[SystemCollectorId](systemcollectorid.md)</p></td>\n<td><p>Represents a system collector identifier.</p></td>\n</tr>\n</tbody>\n</table>\n\n \n\n## Remarks\n\n\nThis element is used only for in-memory capture.\n\n## Example\n\n\nThe following examples show how this element is used in system collector and event collector definitions.\n\nThe first example sets the buffer size to 512 KB and limits the total amount of memory consumed to 3 percent. The second example sets 64 buffers of 128 KB each.\n\n``` syntax\n<SystemCollector\n  Id=\"WPRSystemCollector\"\n  Name=\"NT Kernel Logger\"\n  FileName=\"WPRKernel.etl\">\n  <BufferSize\n    Value=\"512\"/> \n  <Buffers\n    Value=\"3\"\n    PercentageOfTotalMemory=\"true\"/>\n</SystemCollector>\n\n<EventCollector\n  Id=\"WPREventCollector\"\n  Name=\"WPR Event Collector\"\n  FileName=\"somefilename.etl\">\n  <BufferSize\n    Value=\"128\"/>\n  <Buffers\n    Value=\"64\"/>\n</EventCollector>\n```\n\n## Related topics\n\n\n[Elements](elements.md)\n\n[BufferSize](buffersize.md)\n\n[SystemCollector](systemcollector.md)\n\n[EventCollector](eventcollector.md)\n\n[HeapEventCollector](heapeventcollector.md)\n\n \n\n \n\n\n\n\n\n\n\n"}