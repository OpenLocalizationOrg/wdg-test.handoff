{"nodes":[{"content":"Create a WIM for Multiple Architecture Types Using DISM","pos":[34,89]},{"content":"Create a WIM for Multiple Architecture Types Using DISM","pos":[196,251]},{"content":"Create a WIM for Multiple Architecture Types Using DISM","pos":[259,314]},{"content":"When you plan your deployment scenarios, consider how you will deploy and maintain your images for different architecture types.","pos":[317,445]},{"content":"There are several ways you can manage multiple Windows® images for multiple architecture types.","pos":[446,541]},{"content":"Because you can deploy both 32-bit and 64-bit Windows images from a 32-bit preinstallation environment, you can maintain 32-bit and 64-bit Windows images in the same Windows image (.wim) file or separate .wim files.","pos":[542,757]},{"content":"Because you can store multiple Windows images in a single .wim file, you can create architecture-specific .wim files or a single .wim file that contains images for multiple architecture types.","pos":[759,951]},{"content":"32-bit images only","pos":[957,975]},{"content":"You can create a .wim file that contains Windows images for a single architecture type.","pos":[981,1068]},{"content":"In this scenario, you build a .wim file that contains one or more Windows images for 32-bit systems only.","pos":[1069,1174]},{"content":"You create separate .wim files for different architecture types.","pos":[1175,1239]},{"content":"64-bit images only","pos":[1245,1263]},{"content":"You can create a .wim file that contains one or more of the 64-bit Windows images that you deploy.","pos":[1269,1367]},{"content":"32-bit and 64-bit images","pos":[1373,1397]},{"content":"You can create a.wim file that contains multiple Windows editions for multiple architecture types.","pos":[1403,1501]},{"content":"For example, you can create a Windows image that contains two versions of Windows, one for 32-bit architectures, and one for 64-bit architectures.","pos":[1502,1648]},{"pos":[1881,1938],"content":"To Create a Windows Image for Multiple Architecture Types"},{"content":"You can create a single .wim file that includes both 32-bit and 64-bit Windows images.","pos":[1941,2027]},{"content":"You must have both a 32-bit Windows distribution and a 64-bit Install.wim file.","pos":[2028,2107]},{"content":"(A Windows distribution is the collection of files on the Windows installation media that includes not only the Install.wim file, but the additional files and directories that are required for Setup.) Cross-platform deployment is supported only from 32-bit Windows Setup.","pos":[2108,2379]},{"content":"Copy the entire 32-bit Windows distribution to a temporary directory on the local computer.","pos":[2385,2476]},{"content":"Copy the 64-bit Install.wim file to a separate temporary directory on the local computer.","pos":[2482,2571]},{"pos":[2577,2711],"content":"At a command prompt, use the <bpt id=\"p1\">**</bpt>Dism<ept id=\"p1\">**</ept> command to export the 64-bit Windows images to the Install.wim file in the Windows distribution."},{"pos":[2717,2838],"content":"Repeat the <bpt id=\"p1\">**</bpt>Dism /Export-Image<ept id=\"p1\">**</ept> command for each 64-bit Windows image that you want to add to the Windows distribution."},{"content":"For example, if you copy the distribution to C:<ph id=\"ph1\">\\\\</ph>WindowsDistribution and the 64-bit Install.wim file to C:<ph id=\"ph2\">\\\\</ph>Windows64-bit, you would use the following at a command prompt.","pos":[2840,3011]},{"content":"Note","pos":[3217,3221]},{"content":"It is important to add the name of the Windows image to indicate that it is for 64-bit computers only.","pos":[3226,3328]},{"content":"The 64-bit Windows image and all accompanying metadata are copied to the Install.wim file to a new index during the export process.","pos":[3333,3464]},{"content":"When you have added all Windows images to the Install.wim file, your Windows distribution is ready to be used in your environment.","pos":[3465,3595]},{"content":"During attended installations, users will be prompted to select which architecture-specific Windows image to install (x86 or x64 images).","pos":[3597,3734]},{"pos":[3736,3959],"content":"In unattended installations, if you store multiple Windows editions for multiple architecture types in a single .wim file, you must explicitly specify which image to install during Windows Setup with the <ph id=\"ph1\">`MetaData`</ph> setting."},{"pos":[3997,4011],"content":"Related topics"},{"content":"DISM Image Management Command-Line Options","pos":[4015,4057]},{"content":"Windows Setup Supported Platforms and Cross-Platform Deployments","pos":[4112,4176]}],"content":"---\nauthor: Justinha\nDescription: Create a WIM for Multiple Architecture Types Using DISM\nms.assetid: fcb1b461-72c1-40c5-8405-38a5db05dd34\nMSHAttr: 'PreferredLib:/library/windows/hardware'\ntitle: Create a WIM for Multiple Architecture Types Using DISM\n---\n\n# Create a WIM for Multiple Architecture Types Using DISM\n\n\nWhen you plan your deployment scenarios, consider how you will deploy and maintain your images for different architecture types. There are several ways you can manage multiple Windows® images for multiple architecture types. Because you can deploy both 32-bit and 64-bit Windows images from a 32-bit preinstallation environment, you can maintain 32-bit and 64-bit Windows images in the same Windows image (.wim) file or separate .wim files.\n\nBecause you can store multiple Windows images in a single .wim file, you can create architecture-specific .wim files or a single .wim file that contains images for multiple architecture types.\n\n-   32-bit images only\n\n    You can create a .wim file that contains Windows images for a single architecture type. In this scenario, you build a .wim file that contains one or more Windows images for 32-bit systems only. You create separate .wim files for different architecture types.\n\n-   64-bit images only\n\n    You can create a .wim file that contains one or more of the 64-bit Windows images that you deploy.\n\n-   32-bit and 64-bit images\n\n    You can create a.wim file that contains multiple Windows editions for multiple architecture types. For example, you can create a Windows image that contains two versions of Windows, one for 32-bit architectures, and one for 64-bit architectures.\n\n## <span id=\"To_Create_a_Windows_Image_for_Multiple_Architecture_Types\"></span><span id=\"to_create_a_windows_image_for_multiple_architecture_types\"></span><span id=\"TO_CREATE_A_WINDOWS_IMAGE_FOR_MULTIPLE_ARCHITECTURE_TYPES\"></span>To Create a Windows Image for Multiple Architecture Types\n\n\nYou can create a single .wim file that includes both 32-bit and 64-bit Windows images. You must have both a 32-bit Windows distribution and a 64-bit Install.wim file. (A Windows distribution is the collection of files on the Windows installation media that includes not only the Install.wim file, but the additional files and directories that are required for Setup.) Cross-platform deployment is supported only from 32-bit Windows Setup.\n\n1.  Copy the entire 32-bit Windows distribution to a temporary directory on the local computer.\n\n2.  Copy the 64-bit Install.wim file to a separate temporary directory on the local computer.\n\n3.  At a command prompt, use the **Dism** command to export the 64-bit Windows images to the Install.wim file in the Windows distribution.\n\n4.  Repeat the **Dism /Export-Image** command for each 64-bit Windows image that you want to add to the Windows distribution.\n\nFor example, if you copy the distribution to C:\\\\WindowsDistribution and the 64-bit Install.wim file to C:\\\\Windows64-bit, you would use the following at a command prompt.\n\n``` syntax\nDism /Export-Image /SourceImageFile:c:\\windows64-bit\\install.wim /SourceIndex:1 /DestinationImageFile:c:\\windowsdistribution\\sources\\install.wim /DestinationName:\"Fabrikam 64-bit Image\"\n```\n\n**Note**  \nIt is important to add the name of the Windows image to indicate that it is for 64-bit computers only.\n\n \n\nThe 64-bit Windows image and all accompanying metadata are copied to the Install.wim file to a new index during the export process. When you have added all Windows images to the Install.wim file, your Windows distribution is ready to be used in your environment.\n\nDuring attended installations, users will be prompted to select which architecture-specific Windows image to install (x86 or x64 images).\n\nIn unattended installations, if you store multiple Windows editions for multiple architecture types in a single .wim file, you must explicitly specify which image to install during Windows Setup with the `MetaData` setting.\n\n## <span id=\"related_topics\"></span>Related topics\n\n\n[DISM Image Management Command-Line Options](dism-image-management-command-line-options-s14.md)\n\n[Windows Setup Supported Platforms and Cross-Platform Deployments](windows-setup-supported-platforms-and-cross-platform-deployments.md)\n\n \n\n \n\n\n\n\n\n\n"}