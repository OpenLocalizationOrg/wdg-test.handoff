{"nodes":[{"content":"Configure a Windows Repair Source","pos":[34,67]},{"content":"Configure a Windows Repair Source","pos":[174,207]},{"content":"Configure a Windows Repair Source","pos":[215,248]},{"content":"You can use Group Policy to specify a Windows image repair source to use within your network.","pos":[251,344]},{"content":"The repair source can be used to restore Windows features or to repair a corrupted Windows image.","pos":[345,442]},{"content":"Features on demand enables you to remove an optional feature from a Windows® image and then restore it later.","pos":[444,553]},{"content":"You can disable optional features and remove files associated with those features from a Windows image using the Deployment Image Servicing and Management (DISM) tools.","pos":[554,722]},{"content":"When you use the <bpt id=\"p1\">**</bpt>/Remove<ept id=\"p1\">**</ept> argument with the DISM <bpt id=\"p2\">**</bpt>/Disable-Feature<ept id=\"p2\">**</ept> option, the manifest files for the feature or Server role is maintained in the image.","pos":[723,881]},{"content":"However, all other files for the feature are removed.","pos":[882,935]},{"content":"This enables you to store, download, and deploy smaller images without losing features.","pos":[936,1023]},{"content":"Once the image has been deployed, users can enable the feature on their computers at any time by using features on demand to retrieve the required files from the repair source.","pos":[1024,1200]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Enable or Disable Windows Features Using DISM<ept id=\"p1\">](enable-or-disable-windows-features-using-dism.md)</ept>.","pos":[1201,1325]},{"content":"Automatic corruption repair provides files to repair Windows if the operating system has become corrupted.","pos":[1327,1433]},{"content":"Users can also use a specified repair source on your network or use Windows Update to retrieve the source files that are required to enable a feature or to repair a Windows image.","pos":[1434,1613]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Repair a Windows Image<ept id=\"p1\">](repair-a-windows-image.md)</ept>.","pos":[1614,1692]},{"content":"In this section:","pos":[1694,1710]},{"content":"Choose a Repair Source","pos":[1717,1739]},{"content":"Set Group Policy","pos":[1762,1778]},{"content":"Maintain a Repair Source","pos":[1800,1824]},{"pos":[1939,1961],"content":"Choose a Repair Source"},{"content":"You can use Windows Update to provide the files that are required to restore a Windows feature or repair a corrupted operating system.","pos":[1964,2098]},{"content":"You can also configure Group Policy to gather the required files from a network location.","pos":[2099,2188]},{"content":"Multiple source locations can be specified in the Group Policy.","pos":[2189,2252]},{"content":"To use Windows Update to restore optional features and repair Windows images","pos":[2256,2332]},{"content":"Windows Update will be used by default if it is allowed by the policy settings on the computer.","pos":[2340,2435]},{"content":"If you want to use Windows Update as a primary or backup source for files that are used to restore optional features or repair Windows images, you should make sure that your firewall is configured to allow access to Windows Update.","pos":[2441,2672]},{"content":"To use a network location to restore optional features and repair Windows images","pos":[2676,2756]},{"content":"You can use a mounted Windows image from a WIM file as a source to restore optional features and repair a corrupted operating system.","pos":[2764,2897]},{"content":"For example, c:<ph id=\"ph1\">\\\\</ph>test<ph id=\"ph2\">\\\\</ph>mount<ph id=\"ph3\">\\\\</ph>Windows.","pos":[2898,2936]},{"content":"For more information about capturing a Windows image as a WIM file, see <bpt id=\"p1\">[</bpt>Capture Images of Hard Disk Partitions Using DISM<ept id=\"p1\">](capture-images-of-hard-disk-partitions-using-dism.md)</ept>.","pos":[2937,3115]},{"content":"You can use a running Windows installation as a source to restore optional features by sharing the c:<ph id=\"ph1\">\\\\</ph>Windows folder on your network.","pos":[3121,3255]},{"content":"You can use a Windows side-by-side folder from a network share or from a removable media, such as the Windows DVD, as the source of the files.","pos":[3261,3403]},{"content":"For example, z:<ph id=\"ph1\">\\\\</ph>sources<ph id=\"ph2\">\\\\</ph>SxS.","pos":[3404,3434]},{"content":"You can use a Windows image (.wim) file on a network share as a source to restore optional features.","pos":[3440,3540]},{"content":"You must specify the index of the Windows image in the .wim file that you want to use and you must use a <ph id=\"ph1\">`Wim:`</ph> prefix in the path to identify this file format.","pos":[3541,3701]},{"content":"For example, to specify index 3 in a file named contoso.wim, type: Wim:<ph id=\"ph1\">\\\\\\\\</ph>network<ph id=\"ph2\">\\\\</ph>images<ph id=\"ph3\">\\\\</ph>contoso.wim:3.","pos":[3702,3808]},{"pos":[3903,3919],"content":"Set Group Policy"},{"content":"You can use Group Policy to specify when to use Windows Update, or a network location as a repair source for features on demand and automatic corruption repair.","pos":[3922,4082]},{"content":"To configure Group Policy for Feature on Demand","pos":[4086,4133]},{"content":"Open the group policy editor.","pos":[4141,4170]},{"content":"For example, on a computer that is running Windows 10, from the <bpt id=\"p1\">**</bpt>Start<ept id=\"p1\">**</ept> screen, type <bpt id=\"p2\">**</bpt>Edit Group Policy<ept id=\"p2\">**</ept>, and then select <bpt id=\"p3\">**</bpt>Edit Group Policy<ept id=\"p3\">**</ept> to open the Group Policy Editor.","pos":[4171,4351]},{"pos":[4357,4557],"content":"Click <bpt id=\"p1\">**</bpt>Computer Configuration<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>Administrative Templates<ept id=\"p2\">**</ept>, click <bpt id=\"p3\">**</bpt>System<ept id=\"p3\">**</ept>, and then double-click the <bpt id=\"p4\">**</bpt>Specify settings for optional component installation and component repair<ept id=\"p4\">**</ept> setting."},{"content":"Select the settings that you want to use for Features on Demand.","pos":[4563,4627]},{"pos":[4728,4755],"content":"Maintaining a Repair Source"},{"content":"If you do not use Windows Update as the repair source for features on demand and automatic corruption repair, you should consider the following guidelines for maintaining a repair source.","pos":[4758,4945]},{"pos":[5059,5076],"content":"Servicing updates"},{"content":"You should keep any repair source current with the latest servicing updates.","pos":[5078,5154]},{"content":"If you are using an image from a WIM file for features on demand, you can use the DISM tool to service the image.","pos":[5155,5268]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Mount and Modify a Windows Image Using DISM<ept id=\"p1\">](mount-and-modify-a-windows-image-using-dism.md)</ept>.","pos":[5269,5389]},{"content":"If you are using an online Windows installation shared on your local network as a repair image, you should make sure that the computer has access to Windows Update.","pos":[5390,5554]},{"pos":[5674,5693],"content":"Multilingual images"},{"content":"You must include all of the relevant language packs with your repair source files for the locales that your image supports.","pos":[5695,5818]},{"content":"If you try to restore a feature without all of the localization components that the Windows installation requires for that feature, the installation will fail.","pos":[5819,5978]},{"content":"You can install additional language packs after a feature is restored.","pos":[5980,6050]},{"pos":[6088,6102],"content":"Related topics"},{"content":"What is DISM?","pos":[6106,6119]},{"content":"Enable or Disable Windows Features Using DISM","pos":[6140,6185]},{"content":"Repair a Windows Image","pos":[6239,6261]},{"content":"DISM Operating System Package Servicing Command-Line Options","pos":[6292,6352]}],"content":"---\nauthor: Justinha\nDescription: Configure a Windows Repair Source\nms.assetid: 00c879d8-5c56-4e96-9c44-df0c2fc4371d\nMSHAttr: 'PreferredLib:/library/windows/hardware'\ntitle: Configure a Windows Repair Source\n---\n\n# Configure a Windows Repair Source\n\n\nYou can use Group Policy to specify a Windows image repair source to use within your network. The repair source can be used to restore Windows features or to repair a corrupted Windows image.\n\nFeatures on demand enables you to remove an optional feature from a Windows® image and then restore it later. You can disable optional features and remove files associated with those features from a Windows image using the Deployment Image Servicing and Management (DISM) tools. When you use the **/Remove** argument with the DISM **/Disable-Feature** option, the manifest files for the feature or Server role is maintained in the image. However, all other files for the feature are removed. This enables you to store, download, and deploy smaller images without losing features. Once the image has been deployed, users can enable the feature on their computers at any time by using features on demand to retrieve the required files from the repair source. For more information, see [Enable or Disable Windows Features Using DISM](enable-or-disable-windows-features-using-dism.md).\n\nAutomatic corruption repair provides files to repair Windows if the operating system has become corrupted. Users can also use a specified repair source on your network or use Windows Update to retrieve the source files that are required to enable a feature or to repair a Windows image. For more information, see [Repair a Windows Image](repair-a-windows-image.md).\n\nIn this section:\n\n-   [Choose a Repair Source](#bkmk-specify)\n\n-   [Set Group Policy](#bkmk-setgpo)\n\n-   [Maintain a Repair Source](#bkmk-maintain)\n\n## <span id=\"BKMK_Specify\"></span><span id=\"bkmk_specify\"></span><span id=\"BKMK_SPECIFY\"></span>Choose a Repair Source\n\n\nYou can use Windows Update to provide the files that are required to restore a Windows feature or repair a corrupted operating system. You can also configure Group Policy to gather the required files from a network location. Multiple source locations can be specified in the Group Policy.\n\n**To use Windows Update to restore optional features and repair Windows images**\n\n1.  Windows Update will be used by default if it is allowed by the policy settings on the computer.\n\n2.  If you want to use Windows Update as a primary or backup source for files that are used to restore optional features or repair Windows images, you should make sure that your firewall is configured to allow access to Windows Update.\n\n**To use a network location to restore optional features and repair Windows images**\n\n1.  You can use a mounted Windows image from a WIM file as a source to restore optional features and repair a corrupted operating system. For example, c:\\\\test\\\\mount\\\\Windows. For more information about capturing a Windows image as a WIM file, see [Capture Images of Hard Disk Partitions Using DISM](capture-images-of-hard-disk-partitions-using-dism.md).\n\n2.  You can use a running Windows installation as a source to restore optional features by sharing the c:\\\\Windows folder on your network.\n\n3.  You can use a Windows side-by-side folder from a network share or from a removable media, such as the Windows DVD, as the source of the files. For example, z:\\\\sources\\\\SxS.\n\n4.  You can use a Windows image (.wim) file on a network share as a source to restore optional features. You must specify the index of the Windows image in the .wim file that you want to use and you must use a `Wim:` prefix in the path to identify this file format. For example, to specify index 3 in a file named contoso.wim, type: Wim:\\\\\\\\network\\\\images\\\\contoso.wim:3.\n\n## <span id=\"BKMK_SetGPO\"></span><span id=\"bkmk_setgpo\"></span><span id=\"BKMK_SETGPO\"></span>Set Group Policy\n\n\nYou can use Group Policy to specify when to use Windows Update, or a network location as a repair source for features on demand and automatic corruption repair.\n\n**To configure Group Policy for Feature on Demand**\n\n1.  Open the group policy editor. For example, on a computer that is running Windows 10, from the **Start** screen, type **Edit Group Policy**, and then select **Edit Group Policy** to open the Group Policy Editor.\n\n2.  Click **Computer Configuration**, click **Administrative Templates**, click **System**, and then double-click the **Specify settings for optional component installation and component repair** setting.\n\n3.  Select the settings that you want to use for Features on Demand.\n\n## <span id=\"BKMK_Maintain\"></span><span id=\"bkmk_maintain\"></span><span id=\"BKMK_MAINTAIN\"></span>Maintaining a Repair Source\n\n\nIf you do not use Windows Update as the repair source for features on demand and automatic corruption repair, you should consider the following guidelines for maintaining a repair source.\n\n### <span id=\"Servicing_updates\"></span><span id=\"servicing_updates\"></span><span id=\"SERVICING_UPDATES\"></span>Servicing updates\n\nYou should keep any repair source current with the latest servicing updates. If you are using an image from a WIM file for features on demand, you can use the DISM tool to service the image. For more information, see [Mount and Modify a Windows Image Using DISM](mount-and-modify-a-windows-image-using-dism.md). If you are using an online Windows installation shared on your local network as a repair image, you should make sure that the computer has access to Windows Update.\n\n### <span id=\"Multilingual_images\"></span><span id=\"multilingual_images\"></span><span id=\"MULTILINGUAL_IMAGES\"></span>Multilingual images\n\nYou must include all of the relevant language packs with your repair source files for the locales that your image supports. If you try to restore a feature without all of the localization components that the Windows installation requires for that feature, the installation will fail.\n\nYou can install additional language packs after a feature is restored.\n\n## <span id=\"related_topics\"></span>Related topics\n\n\n[What is DISM?](what-is-dism.md)\n\n[Enable or Disable Windows Features Using DISM](enable-or-disable-windows-features-using-dism.md)\n\n[Repair a Windows Image](repair-a-windows-image.md)\n\n[DISM Operating System Package Servicing Command-Line Options](dism-operating-system-package-servicing-command-line-options.md)\n\n \n\n \n\n\n\n\n\n\n"}