{"nodes":[{"content":"Hard Drives and Partitions","pos":[34,60]},{"content":"Hard Drives and Partitions","pos":[167,193]},{"content":"Hard Drives and Partitions","pos":[201,227]},{"content":"In this section, you will learn methods to deploy Windows to different drives, including hard drives, solid-state drives (SSDs), or virtual hard drives (VHDs).","pos":[230,389]},{"content":"You will also learn about factors that you must consider when you deploy Windows.","pos":[390,471]},{"pos":[605,629],"content":"What's new in Windows 10"},{"pos":[636,778],"content":"Use Compact OS and single-sourcing to save more space on the hard drive: <bpt id=\"p1\">[</bpt>Compact OS, single-sourcing, and image optimization<ept id=\"p1\">](compact-os.md)</ept>."},{"pos":[783,942],"content":"Use the FFU image format to apply images faster to your devices: <bpt id=\"p1\">[</bpt>Deploy Windows using Full Flash Update (FFU)<ept id=\"p1\">](deploy-windows-using-full-flash-update--ffu.md)</ept>"},{"content":"In Windows 10 for desktop editions (Home, Pro, Enterprise, and Education), we've changed the partition layout.","pos":[947,1057]},{"content":"While we still use a separate recovery tools image, Windows no longer needs a separate full-system recovery image to use push-button reset features.","pos":[1058,1206]},{"content":"This can save several GB of drive space.","pos":[1207,1247]},{"content":"We now recommend that you place the Windows recovery tools partition immediately after the Windows partition.","pos":[1253,1362]},{"content":"This allows Windows to modify and recreate the partition later if future updates require a larger recovery image.","pos":[1363,1476]},{"content":"If you use scripts to deploy Windows, check out the new sample scripts we've created for different device firmware types (the newer UEFI-based BIOS, or the legacy BIOS).","pos":[1482,1651]},{"content":"To learn more, see <bpt id=\"p1\">[</bpt>UEFI/GPT-based hard drive partitions<ept id=\"p1\">](configure-uefigpt-based-hard-drive-partitions.md)</ept> and <bpt id=\"p2\">[</bpt>BIOS/MBR-based hard drive partitions<ept id=\"p2\">](configure-biosmbr-based-hard-drive-partitions.md)</ept>.","pos":[1652,1853]},{"content":"It's no longer necessary to run the Windows System Assessment Tests (WinSAT) on SSD drives.","pos":[1859,1950]},{"content":"Windows detects SSD drives and tunes itself accordingly.","pos":[1951,2007]},{"pos":[2012,2165],"content":"On <bpt id=\"p1\">[</bpt>UEFI/GPT-based drives<ept id=\"p1\">](configure-uefigpt-based-hard-drive-partitions.md)</ept>, we've reduced the recommended size of the MSR partition from 128MB to 16MB."},{"pos":[2254,2265],"content":"Drive types"},{"content":"You can install Windows to a hard drive, such as a hard disk drive or a solid-state drive.","pos":[2268,2358]},{"content":"For additional security, you can use hard drives that the factory has pre-encrypted.","pos":[2359,2443]},{"content":"A single computer may contain multiple drives.","pos":[2444,2490]},{"pos":[2565,2583],"content":"Solid-state drives"},{"content":"A solid-state drive (SSD) is a hard drive that uses solid-state memory to store persistent data.","pos":[2585,2681]},{"content":"An SSD must have a minimum of 16 gigabytes (GB) of space to install Windows.","pos":[2682,2758]},{"content":"For more information about drive space and RAM considerations, see <bpt id=\"p1\">[</bpt>Compact OS, single-sourcing, and image optimization<ept id=\"p1\">](compact-os.md)</ept>.","pos":[2759,2895]},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>   It's no longer necessary to run the Windows System Assessment Tests (WinSAT) on SSD drives.","pos":[2897,2999]},{"content":"Windows now detects SSD drives and will tune itself accordingly.","pos":[3000,3064]},{"pos":[3172,3194],"content":"Advanced format drives"},{"content":"You can use some Advanced Format Drives to provide additional drive space.","pos":[3196,3270]},{"content":"Advanced Format 512 emulation (512e) drives are supported on either BIOS-based or UEFI-based computers.","pos":[3272,3375]},{"content":"Advanced Format 4K Native (4Kn) drives are supported on UEFI-based computers only.","pos":[3377,3459]},{"content":"Warning","pos":[3463,3470]},{"content":"For Advanced Format 4K Native drives (4-KB-per-sector) drives, the minimum partition size is 260 MB, due to a limitation of the FAT32 file format.","pos":[3475,3621]},{"content":"The minimum partition size of FAT32 drives is calculated as sector size (4KB) x 65527 = 256 MB.","pos":[3622,3717]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Configure UEFI/GPT-Based Hard Drive Partitions<ept id=\"p1\">](configure-uefigpt-based-hard-drive-partitions.md)</ept>.","pos":[3718,3843]},{"pos":[3990,4019],"content":"Factory-encrypted hard drives"},{"content":"To help protect your deployment environment, you can use a factory pre-encrypted hard drive to prevent unauthorized access before you install Windows or any other software.","pos":[4021,4193]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Factory Encrypted Drives<ept id=\"p1\">](factory-encrypted-drives.md)</ept>.","pos":[4194,4276]},{"pos":[4390,4410],"content":"Multiple hard drives"},{"content":"If you install Windows on a device that has multiple hard drives, you can use the disk location path to make sure that your images are applied to the intended drives.","pos":[4412,4578]},{"content":"To do this, use the <ph id=\"ph1\">`diskpart SELECT DISK=&lt;disk location path&gt;`</ph> command to select each drive.","pos":[4580,4673]},{"content":"For example:","pos":[4674,4686]},{"content":"Note","pos":[4741,4745]},{"content":"The system drive might not appear as disk 0 in the DiskPart tool.","pos":[4750,4815]},{"content":"The system might assign different numbers to drives when you reboot.","pos":[4816,4884]},{"content":"Different computers that have the same drive configuration can have different disk numbers.","pos":[4885,4976]},{"pos":[4978,5137],"content":"To learn more, see <bpt id=\"p1\">[</bpt>Configure Multiple Hard Drives<ept id=\"p1\">](configure-multiple-hard-drives.md)</ept> and <bpt id=\"p2\">[</bpt>Hard Disk Location Path Format<ept id=\"p2\">](hard-disk-location-path-format.md)</ept>."},{"pos":[5232,5242],"content":"Partitions"},{"content":"You can divide your hard drive into multiple partitions.","pos":[5245,5301]},{"content":"You can create separate system, recovery, Windows, or data partitions.","pos":[5302,5372]},{"content":"To enhance the security of the Windows partition or a data partition, you can use BitLocker to encrypt the partition.","pos":[5374,5491]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>BitLocker Drive Encryption<ept id=\"p1\">](bitlocker-drive-encryption.md)</ept>.","pos":[5492,5578]},{"content":"The partition types must match the firmware of the computer.","pos":[5580,5640]},{"content":"You can install Windows on hard drives that are based on any of the following types of firmware:","pos":[5641,5737]},{"content":"<bpt id=\"p1\">**</bpt>Basic Input/Output System (BIOS)<ept id=\"p1\">**</ept>.","pos":[5743,5780]},{"content":"Uses the Master Boot Record (MBR) partition structure.","pos":[5781,5835]},{"pos":[5841,5948],"content":"<bpt id=\"p1\">**</bpt>Extensible Firmware Interface (EFI) (Class 1)<ept id=\"p1\">**</ept>: Uses the GUID Partition Table (GPT) partition structure."},{"content":"<bpt id=\"p1\">**</bpt>Unified Extensible Firmware Interface (UEFI) Class 2<ept id=\"p1\">**</ept>: Uses the GPT partition structure.","pos":[5954,6045]},{"content":"Also includes a compatibility support module (CSM) that enables you to use BIOS functions, including the MBR partition structure.","pos":[6046,6175]},{"content":"This module can be enabled or disabled in the firmware.","pos":[6176,6231]},{"pos":[6237,6328],"content":"<bpt id=\"p1\">**</bpt>Unified Extensible Firmware Interface (UEFI) Class 3<ept id=\"p1\">**</ept>: Uses the GPT partition structure."},{"content":"To determine your system type, consult your hardware manufacturer.","pos":[6330,6396]},{"pos":[6504,6533],"content":"System and utility partitions"},{"pos":[6535,6645],"content":"A <bpt id=\"p1\">*</bpt>system partition<ept id=\"p1\">*</ept> is a partition that contains the hardware-specific files that are needed to load Windows."},{"content":"By default, during Windows Setup, Windows stores these hardware-specific files in a separate partition.","pos":[6647,6750]},{"content":"This enables the computer to use the following:","pos":[6751,6798]},{"content":"<bpt id=\"p1\">**</bpt>Security tools<ept id=\"p1\">**</ept>.","pos":[6804,6823]},{"content":"Some security tools, such as BitLocker, require a separate system partition.","pos":[6824,6900]},{"content":"<bpt id=\"p1\">**</bpt>Recovery tools<ept id=\"p1\">**</ept>.","pos":[6906,6925]},{"content":"Some recovery tools, such as Windows Recovery Environment (Windows RE), require a separate system partition.","pos":[6926,7034]},{"content":"<bpt id=\"p1\">**</bpt>Multiple operating systems<ept id=\"p1\">**</ept>.","pos":[7040,7071]},{"content":"If a computer has multiple operating systems, such as Windows 10 for desktop editions and Windows 7, the computer displays a list of operating systems.","pos":[7072,7223]},{"content":"The user can then select which operating system to boot.","pos":[7224,7280]},{"content":"When the system boot files are on a separate partition, it is easier to remove a Windows partition or replace the partition with a new copy of Windows.","pos":[7281,7432]},{"content":"We recommend adding system utility partitions before the Windows partition, because in the event that a full-system recovery is needed, this partition order helps to prevent the recovery tools from overwriting the system and utility partitions.","pos":[7434,7678]},{"pos":[7680,7887],"content":"For information about how to configure system partitions while you apply images, see <bpt id=\"p1\">[</bpt>Capture and Apply Windows, System, and Recovery Partitions<ept id=\"p1\">](capture-and-apply-windows-system-and-recovery-partitions.md)</ept>."},{"pos":[8031,8065],"content":"Microsoft reserved partition (MSR)"},{"content":"The MSR is used on UEFI/GPT systems, to support software components that formerly used hidden sectors.","pos":[8067,8169]},{"pos":[8171,8329],"content":"For more information about configuring MSR partitions, see <bpt id=\"p1\">[</bpt>Configure UEFI/GPT-Based Hard Drive Partitions<ept id=\"p1\">](configure-uefigpt-based-hard-drive-partitions.md)</ept>."},{"pos":[8331,8446],"content":"For more information about MSR partitions, see <bpt id=\"p1\">[</bpt>Windows and GPT FAQ<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=267523)</ept>"},{"pos":[8560,8579],"content":"Recovery partitions"},{"content":"We recommend adding a separate partition for the Windows Recovery Environment (Windows RE) at the end of the hard drive.","pos":[8581,8701]},{"content":"With this partition order, if future updates require adding to or replacing the Windows RE tools partition, Windows will be able to manage the partition size automatically.","pos":[8702,8874]},{"content":"For BIOS/MBR-based systems, it's still possible to combine the Windows RE tools partition with the system partition.","pos":[8876,8992]},{"content":"To save drive space, consider creating logical partitions to get around the four-partition limit.","pos":[8993,9090]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Configure more than four partitions on a BIOS/MBR-based hard disk<ept id=\"p1\">](configure-more-than-four-partitions-on-a-biosmbr-based-hard-disk.md)</ept>.","pos":[9091,9247]},{"content":"For Windows 10 for desktop editions, it's no longer necessary to create and maintain a separate full-system recovery image.","pos":[9249,9372]},{"content":"Windows can perform a refresh or reset using built-in tools.","pos":[9373,9433]},{"pos":[9535,9550],"content":"Data partitions"},{"content":"A data partition is a partition that stores user data.","pos":[9552,9606]},{"content":"A separate data partition can enable easier maintenance for situations where either the primary operating system is likely to be replaced, or when multiple operating systems exist on the same device, such as Windows 10 and Windows 7.","pos":[9607,9840]},{"content":"When a device has multiple hard drives, a data partition may be stored on another drive.","pos":[9841,9929]},{"content":"Warning","pos":[9933,9940]},{"content":"For typical single-drive configurations, we do not recommend that you use a separate data partition.","pos":[9945,10045]},{"content":"There are two main reasons:","pos":[10046,10073]},{"content":"The partition may not automatically protect data that is stored outside the user profile folders.","pos":[10079,10176]},{"content":"For example, a guest user might have access to files in an unprotected data partition.","pos":[10177,10263]},{"content":"If you change the default location of the user profile folders to any volume other than the system volume, you cannot service your image.","pos":[10268,10405]},{"content":"The computer may not apply updates, fixes, or service packs to the installation.","pos":[10406,10486]},{"content":"For a list of known issues related to changing the default folder locations, see <bpt id=\"p1\">[</bpt>Description of known issues with the FolderLocation settings<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=142275)</ept>.","pos":[10487,10678]},{"pos":[10744,10752],"content":"See also"},{"content":"Content type","pos":[10871,10883]},{"content":"References","pos":[10906,10916]},{"content":"Deployment","pos":[10990,11000]},{"content":"<bpt id=\"p1\">[</bpt>Configure UEFI/GPT-Based Hard Drive Partitions<ept id=\"p1\">](configure-uefigpt-based-hard-drive-partitions.md)</ept><ph id=\"ph1\"> | </ph><bpt id=\"p2\">[</bpt>Configure BIOS/MBR-Based Hard Drive Partitions<ept id=\"p2\">](configure-biosmbr-based-hard-drive-partitions.md)</ept><ph id=\"ph2\"> | </ph><bpt id=\"p3\">[</bpt>Configure More than Four Partitions on a BIOS/MBR-Based Hard Disk<ept id=\"p3\">](configure-more-than-four-partitions-on-a-biosmbr-based-hard-disk.md)</ept>","pos":[11039,11377]},{"content":"Multiple drives","pos":[11439,11454]},{"content":"<bpt id=\"p1\">[</bpt>Configure Multiple Hard Drives<ept id=\"p1\">](configure-multiple-hard-drives.md)</ept><ph id=\"ph1\"> | </ph><bpt id=\"p2\">[</bpt>Hard Disk Location Path Format<ept id=\"p2\">](hard-disk-location-path-format.md)</ept><ph id=\"ph2\"> | </ph><bpt id=\"p3\">[</bpt>Internal and External SATA Port Configuration<ept id=\"p3\">](http://go.microsoft.com/fwlink/p/?LinkId=321830)</ept><ph id=\"ph3\"> | </ph><bpt id=\"p4\">[</bpt>Configuring Disk Mirroring<ept id=\"p4\">](http://go.microsoft.com/fwlink/?LinkId=733824)</ept>","pos":[11493,11807]},{"content":"Using smaller drives","pos":[11868,11888]},{"content":"Compact OS, single-sourcing, and image optimization","pos":[11928,11979]},{"content":"Operations","pos":[12057,12067]},{"content":"<bpt id=\"p1\">[</bpt>Capture and Apply Windows, System, and Recovery Partitions<ept id=\"p1\">](capture-and-apply-windows-system-and-recovery-partitions.md)</ept><ph id=\"ph1\"> | </ph><bpt id=\"p2\">[</bpt>Deploy Windows using Full Flash Update (FFU)<ept id=\"p2\">](deploy-windows-using-full-flash-update--ffu.md)</ept><ph id=\"ph2\"> | </ph><bpt id=\"p3\">[</bpt>Deploy Windows on a VHD (Native Boot)<ept id=\"p3\">](deploy-windows-on-a-vhd--native-boot.md)</ept><ph id=\"ph3\"> | </ph><bpt id=\"p4\">[</bpt>Factory Encrypted Drives<ept id=\"p4\">](factory-encrypted-drives.md)</ept><ph id=\"ph4\"> | </ph><bpt id=\"p5\">[</bpt>BitLocker Drive Encryption<ept id=\"p5\">](bitlocker-drive-encryption.md)</ept>","pos":[12106,12527]},{"content":"Troubleshooting","pos":[12588,12603]},{"content":"Repair the boot menu on a dual-boot PC","pos":[12643,12681]},{"content":"Tools and settings","pos":[12787,12805]},{"content":"<bpt id=\"p1\">[</bpt>UEFI Firmware<ept id=\"p1\">](uefi-firmware.md)</ept><ph id=\"ph1\"> | </ph><bpt id=\"p2\">[</bpt>The Windows and GPT FAQ<ept id=\"p2\">](http://go.microsoft.com/fwlink/?LinkId=88211)</ept><ph id=\"ph2\"> | </ph><bpt id=\"p3\">[</bpt>BCDboot Command-Line Options<ept id=\"p3\">](bcdboot-command-line-options-techref-di.md)</ept><ph id=\"ph3\"> | </ph><bpt id=\"p4\">[</bpt>DiskPart Command line syntax<ept id=\"p4\">](http://go.microsoft.com/fwlink/?LinkId=128458)</ept><ph id=\"ph4\"> | </ph><bpt id=\"p5\">[</bpt>WIM vs. VHD vs. FFU: comparing image file formats<ept id=\"p5\">](wim-vs-ffu-image-file-formats.md)</ept>","pos":[12844,13196]}],"content":"---\nauthor: Justinha\nDescription: Hard Drives and Partitions\nms.assetid: bb453d9d-e819-4301-834d-09486d3e64e9\nMSHAttr: 'PreferredLib:/library/windows/hardware'\ntitle: Hard Drives and Partitions\n---\n\n# Hard Drives and Partitions\n\n\nIn this section, you will learn methods to deploy Windows to different drives, including hard drives, solid-state drives (SSDs), or virtual hard drives (VHDs). You will also learn about factors that you must consider when you deploy Windows.\n\n## <span id=\"What_s_new_in_Windows_10\"></span><span id=\"what_s_new_in_windows_10\"></span><span id=\"WHAT_S_NEW_IN_WINDOWS_10\"></span>What's new in Windows 10\n\n\n-   Use Compact OS and single-sourcing to save more space on the hard drive: [Compact OS, single-sourcing, and image optimization](compact-os.md).\n-   Use the FFU image format to apply images faster to your devices: [Deploy Windows using Full Flash Update (FFU)](deploy-windows-using-full-flash-update--ffu.md)\n-   In Windows 10 for desktop editions (Home, Pro, Enterprise, and Education), we've changed the partition layout. While we still use a separate recovery tools image, Windows no longer needs a separate full-system recovery image to use push-button reset features. This can save several GB of drive space.\n\n    We now recommend that you place the Windows recovery tools partition immediately after the Windows partition. This allows Windows to modify and recreate the partition later if future updates require a larger recovery image.\n\n    If you use scripts to deploy Windows, check out the new sample scripts we've created for different device firmware types (the newer UEFI-based BIOS, or the legacy BIOS). To learn more, see [UEFI/GPT-based hard drive partitions](configure-uefigpt-based-hard-drive-partitions.md) and [BIOS/MBR-based hard drive partitions](configure-biosmbr-based-hard-drive-partitions.md).\n\n-   It's no longer necessary to run the Windows System Assessment Tests (WinSAT) on SSD drives. Windows detects SSD drives and tunes itself accordingly.\n-   On [UEFI/GPT-based drives](configure-uefigpt-based-hard-drive-partitions.md), we've reduced the recommended size of the MSR partition from 128MB to 16MB.\n\n## <span id=\"HardDisks\"></span><span id=\"harddisks\"></span><span id=\"HARDDISKS\"></span>Drive types\n\n\nYou can install Windows to a hard drive, such as a hard disk drive or a solid-state drive. For additional security, you can use hard drives that the factory has pre-encrypted. A single computer may contain multiple drives.\n\n### <span id=\"SSDs\"></span><span id=\"ssds\"></span><span id=\"SSDS\"></span>Solid-state drives\n\nA solid-state drive (SSD) is a hard drive that uses solid-state memory to store persistent data. An SSD must have a minimum of 16 gigabytes (GB) of space to install Windows. For more information about drive space and RAM considerations, see [Compact OS, single-sourcing, and image optimization](compact-os.md).\n\n**Note**   It's no longer necessary to run the Windows System Assessment Tests (WinSAT) on SSD drives. Windows now detects SSD drives and will tune itself accordingly.\n\n \n\n### <span id=\"AdvancedFormat\"></span><span id=\"advancedformat\"></span><span id=\"ADVANCEDFORMAT\"></span>Advanced format drives\n\nYou can use some Advanced Format Drives to provide additional drive space.\n\nAdvanced Format 512 emulation (512e) drives are supported on either BIOS-based or UEFI-based computers.\n\nAdvanced Format 4K Native (4Kn) drives are supported on UEFI-based computers only.\n\n**Warning**  \nFor Advanced Format 4K Native drives (4-KB-per-sector) drives, the minimum partition size is 260 MB, due to a limitation of the FAT32 file format. The minimum partition size of FAT32 drives is calculated as sector size (4KB) x 65527 = 256 MB. For more information, see [Configure UEFI/GPT-Based Hard Drive Partitions](configure-uefigpt-based-hard-drive-partitions.md).\n\n \n\n### <span id=\"EncryptedDisksAndPartitions\"></span><span id=\"encrypteddisksandpartitions\"></span><span id=\"ENCRYPTEDDISKSANDPARTITIONS\"></span>Factory-encrypted hard drives\n\nTo help protect your deployment environment, you can use a factory pre-encrypted hard drive to prevent unauthorized access before you install Windows or any other software. For more information, see [Factory Encrypted Drives](factory-encrypted-drives.md).\n\n### <span id=\"MultipleHardDisks\"></span><span id=\"multipleharddisks\"></span><span id=\"MULTIPLEHARDDISKS\"></span>Multiple hard drives\n\nIf you install Windows on a device that has multiple hard drives, you can use the disk location path to make sure that your images are applied to the intended drives.\n\nTo do this, use the `diskpart SELECT DISK=<disk location path>` command to select each drive. For example:\n\n`SELECT DISK=PCIROOT(0)#PCI(0100)#ATA(C00T00L00)`\n\n**Note**  \nThe system drive might not appear as disk 0 in the DiskPart tool. The system might assign different numbers to drives when you reboot. Different computers that have the same drive configuration can have different disk numbers.\n\nTo learn more, see [Configure Multiple Hard Drives](configure-multiple-hard-drives.md) and [Hard Disk Location Path Format](hard-disk-location-path-format.md).\n\n \n\n## <span id=\"Partitions\"></span><span id=\"partitions\"></span><span id=\"PARTITIONS\"></span>Partitions\n\n\nYou can divide your hard drive into multiple partitions. You can create separate system, recovery, Windows, or data partitions.\n\nTo enhance the security of the Windows partition or a data partition, you can use BitLocker to encrypt the partition. For more information, see [BitLocker Drive Encryption](bitlocker-drive-encryption.md).\n\nThe partition types must match the firmware of the computer. You can install Windows on hard drives that are based on any of the following types of firmware:\n\n-   **Basic Input/Output System (BIOS)**. Uses the Master Boot Record (MBR) partition structure.\n\n-   **Extensible Firmware Interface (EFI) (Class 1)**: Uses the GUID Partition Table (GPT) partition structure.\n\n-   **Unified Extensible Firmware Interface (UEFI) Class 2**: Uses the GPT partition structure. Also includes a compatibility support module (CSM) that enables you to use BIOS functions, including the MBR partition structure. This module can be enabled or disabled in the firmware.\n\n-   **Unified Extensible Firmware Interface (UEFI) Class 3**: Uses the GPT partition structure.\n\nTo determine your system type, consult your hardware manufacturer.\n\n### <span id=\"SystemPartition\"></span><span id=\"systempartition\"></span><span id=\"SYSTEMPARTITION\"></span>System and utility partitions\n\nA *system partition* is a partition that contains the hardware-specific files that are needed to load Windows.\n\nBy default, during Windows Setup, Windows stores these hardware-specific files in a separate partition. This enables the computer to use the following:\n\n-   **Security tools**. Some security tools, such as BitLocker, require a separate system partition.\n\n-   **Recovery tools**. Some recovery tools, such as Windows Recovery Environment (Windows RE), require a separate system partition.\n\n-   **Multiple operating systems**. If a computer has multiple operating systems, such as Windows 10 for desktop editions and Windows 7, the computer displays a list of operating systems. The user can then select which operating system to boot. When the system boot files are on a separate partition, it is easier to remove a Windows partition or replace the partition with a new copy of Windows.\n\nWe recommend adding system utility partitions before the Windows partition, because in the event that a full-system recovery is needed, this partition order helps to prevent the recovery tools from overwriting the system and utility partitions.\n\nFor information about how to configure system partitions while you apply images, see [Capture and Apply Windows, System, and Recovery Partitions](capture-and-apply-windows-system-and-recovery-partitions.md).\n\n### <span id=\"MicrosoftRecoveryPartitions\"></span><span id=\"microsoftrecoverypartitions\"></span><span id=\"MICROSOFTRECOVERYPARTITIONS\"></span>Microsoft reserved partition (MSR)\n\nThe MSR is used on UEFI/GPT systems, to support software components that formerly used hidden sectors.\n\nFor more information about configuring MSR partitions, see [Configure UEFI/GPT-Based Hard Drive Partitions](configure-uefigpt-based-hard-drive-partitions.md).\n\nFor more information about MSR partitions, see [Windows and GPT FAQ](http://go.microsoft.com/fwlink/?LinkId=267523)\n\n### <span id=\"RecoveryPartition\"></span><span id=\"recoverypartition\"></span><span id=\"RECOVERYPARTITION\"></span>Recovery partitions\n\nWe recommend adding a separate partition for the Windows Recovery Environment (Windows RE) at the end of the hard drive. With this partition order, if future updates require adding to or replacing the Windows RE tools partition, Windows will be able to manage the partition size automatically.\n\nFor BIOS/MBR-based systems, it's still possible to combine the Windows RE tools partition with the system partition. To save drive space, consider creating logical partitions to get around the four-partition limit. For more info, see [Configure more than four partitions on a BIOS/MBR-based hard disk](configure-more-than-four-partitions-on-a-biosmbr-based-hard-disk.md).\n\nFor Windows 10 for desktop editions, it's no longer necessary to create and maintain a separate full-system recovery image. Windows can perform a refresh or reset using built-in tools.\n\n### <span id=\"DataPartition\"></span><span id=\"datapartition\"></span><span id=\"DATAPARTITION\"></span>Data partitions\n\nA data partition is a partition that stores user data. A separate data partition can enable easier maintenance for situations where either the primary operating system is likely to be replaced, or when multiple operating systems exist on the same device, such as Windows 10 and Windows 7. When a device has multiple hard drives, a data partition may be stored on another drive.\n\n**Warning**  \nFor typical single-drive configurations, we do not recommend that you use a separate data partition. There are two main reasons:\n\n-   The partition may not automatically protect data that is stored outside the user profile folders. For example, a guest user might have access to files in an unprotected data partition.\n-   If you change the default location of the user profile folders to any volume other than the system volume, you cannot service your image. The computer may not apply updates, fixes, or service packs to the installation. For a list of known issues related to changing the default folder locations, see [Description of known issues with the FolderLocation settings](http://go.microsoft.com/fwlink/?LinkId=142275).\n\n \n\n## <span id=\"BKMK_LINKS\"></span><span id=\"bkmk_links\"></span>See also\n\n\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th align=\"left\">Content type</th>\n<th align=\"left\">References</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td align=\"left\"><p><strong>Deployment</strong></p></td>\n<td align=\"left\"><p>[Configure UEFI/GPT-Based Hard Drive Partitions](configure-uefigpt-based-hard-drive-partitions.md) | [Configure BIOS/MBR-Based Hard Drive Partitions](configure-biosmbr-based-hard-drive-partitions.md) | [Configure More than Four Partitions on a BIOS/MBR-Based Hard Disk](configure-more-than-four-partitions-on-a-biosmbr-based-hard-disk.md)</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p><strong>Multiple drives</strong></p></td>\n<td align=\"left\"><p>[Configure Multiple Hard Drives](configure-multiple-hard-drives.md) | [Hard Disk Location Path Format](hard-disk-location-path-format.md) | [Internal and External SATA Port Configuration](http://go.microsoft.com/fwlink/p/?LinkId=321830) | [Configuring Disk Mirroring](http://go.microsoft.com/fwlink/?LinkId=733824)</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p><strong>Using smaller drives</strong></p></td>\n<td align=\"left\"><p>[Compact OS, single-sourcing, and image optimization](compact-os.md)</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p><strong>Operations</strong></p></td>\n<td align=\"left\"><p>[Capture and Apply Windows, System, and Recovery Partitions](capture-and-apply-windows-system-and-recovery-partitions.md) | [Deploy Windows using Full Flash Update (FFU)](deploy-windows-using-full-flash-update--ffu.md) | [Deploy Windows on a VHD (Native Boot)](deploy-windows-on-a-vhd--native-boot.md) | [Factory Encrypted Drives](factory-encrypted-drives.md) | [BitLocker Drive Encryption](bitlocker-drive-encryption.md)</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><p><strong>Troubleshooting</strong></p></td>\n<td align=\"left\"><p>[Repair the boot menu on a dual-boot PC](repair-the-boot-menu-on-a-dual-boot-pc.md)</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><p><strong>Tools and settings</strong></p></td>\n<td align=\"left\"><p>[UEFI Firmware](uefi-firmware.md) | [The Windows and GPT FAQ](http://go.microsoft.com/fwlink/?LinkId=88211) | [BCDboot Command-Line Options](bcdboot-command-line-options-techref-di.md) | [DiskPart Command line syntax](http://go.microsoft.com/fwlink/?LinkId=128458) | [WIM vs. VHD vs. FFU: comparing image file formats](wim-vs-ffu-image-file-formats.md)</p></td>\n</tr>\n</tbody>\n</table>\n\n \n\n \n\n \n\n\n\n\n\n\n"}