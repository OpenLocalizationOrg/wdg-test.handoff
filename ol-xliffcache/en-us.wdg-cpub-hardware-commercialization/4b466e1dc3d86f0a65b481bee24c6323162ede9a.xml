{"nodes":[{"content":"WinPE: Create USB Bootable drive","pos":[35,67]},{"content":"WinPE: Create USB Bootable drive","pos":[176,208]},{"content":"WinPE: Create USB Bootable drive","pos":[217,249]},{"content":"Create a Windows PE (WinPE) bootable USB flash drive or an external USB hard drive.","pos":[252,335]},{"content":"The default installation runs from memory (RAM disk), so you can remove the drive while Windows PE is running.","pos":[337,447]},{"content":"Install the Windows ADK","pos":[451,474]},{"pos":[482,615],"content":"Install the following features from the <bpt id=\"p1\">[</bpt>Windows Assessment and Deployment Kit (ADK)<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=526803)</ept>:"},{"pos":[625,705],"content":"<bpt id=\"p1\">**</bpt>Deployment Tools<ept id=\"p1\">**</ept>: includes the <bpt id=\"p2\">**</bpt>Deployment and Imaging Tools Environment<ept id=\"p2\">**</ept>."},{"pos":[715,803],"content":"<bpt id=\"p1\">**</bpt>Windows Preinstallation Environment<ept id=\"p1\">**</ept> : includes the files used to install Windows PE."},{"content":"Install Windows PE","pos":[807,825]},{"pos":[833,912],"content":"Start the <bpt id=\"p1\">**</bpt>Deployment and Imaging Tools Environment<ept id=\"p1\">**</ept> as an <bpt id=\"p2\">**</bpt>administrator<ept id=\"p2\">**</ept>."},{"content":"Create a working copy of the Windows PE files.","pos":[918,964]},{"content":"Specify either x86, amd64, or arm:","pos":[965,999]},{"content":"Install Windows PE to the USB flash drive, specifying the drive letter:","pos":[1061,1132]},{"pos":[1204,1255],"content":"**Warning**  \nThis command reformats the drive.","leadings":["","    "],"nodes":[{"content":"Warning","pos":[2,9]},{"content":"This command reformats the drive.","pos":[14,47]}]},{"content":"Boot to Windows PE","pos":[1266,1284]},{"content":"Connect the USB device to the PC you want to work on.","pos":[1292,1345]},{"content":"Turn on the PC, and press the key that opens the firmware boot menus.","pos":[1351,1420]},{"content":"Select the USB drive.","pos":[1426,1447]},{"content":"Windows PE starts automatically.","pos":[1448,1480]},{"content":"After the command window appears, the <ph id=\"ph1\">`wpeinit`</ph> command runs, which sets up the system.","pos":[1486,1573]},{"content":"This might take a few minutes.","pos":[1574,1604]},{"content":"Troubleshooting","pos":[1608,1623]},{"pos":[1631,1794],"content":"If the <ph id=\"ph1\">`copype`</ph> command isn't recognized, make sure you're running the command from the Deployment and Imaging Tools Environment, which is part of the Windows ADK."},{"content":"If Windows PE doesn't appear, try the following workarounds, rebooting the PC each time:","pos":[1800,1888]},{"content":"To boot a PC that supports UEFI mode, in the firmware boot menus, try manually selecting the boot files: <ph id=\"ph1\">\\\\</ph>EFI<ph id=\"ph2\">\\\\</ph>BOOT<ph id=\"ph3\">\\\\</ph>BOOTX64.EFI.","pos":[1898,2028]},{"content":"Try a different USB port.","pos":[2038,2063]},{"content":"Avoid hubs or cables.","pos":[2064,2085]},{"content":"Avoid USB 3.0 ports if the firmware doesn't contain native support for USB 3.0.","pos":[2095,2174]},{"content":"Clean the USB flash drive, and then reinstall Windows PE.","pos":[2184,2241]},{"content":"This can help remove extra boot partitions or other boot software.","pos":[2242,2308]},{"content":"Try booting Windows PE from a DVD instead.","pos":[2615,2657]},{"content":"Create an ISO file that you can burn onto a DVD:","pos":[2658,2706]},{"content":"In File Explorer, navigate to C:<ph id=\"ph1\">\\\\</ph>winpe<ph id=\"ph2\">\\_</ph>amd64, right-click <bpt id=\"p1\">**</bpt>winpe.iso<ept id=\"p1\">**</ept>, and select <bpt id=\"p2\">**</bpt>Burn to disc<ept id=\"p2\">**</ept>.","pos":[2816,2919]},{"content":"Follow the prompts to create a DVD.","pos":[2920,2955]},{"content":"If your PC requires storage or video drivers to boot, try adding those same drivers to the Windows PE image.","pos":[2965,3073]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>WinPE: Mount and Customize<ept id=\"p1\">](winpe-mount-and-customize.md)</ept>.","pos":[3074,3152]},{"content":"Update the firmware of the PC to the latest version.","pos":[3162,3214]},{"pos":[3220,3387],"content":"If the PC doesn't connect to network locations, see <bpt id=\"p1\">[</bpt>WinPE Network Drivers: Initializing and adding drivers<ept id=\"p1\">](winpe-network-drivers-initializing-and-adding-drivers.md)</ept>."},{"content":"Storing Windows Images on the Windows PE Drive","pos":[3391,3437]},{"content":"Typically you won't be able to store or capture Windows images on a Windows PE USB flash drive.","pos":[3445,3540]},{"content":"Most USB flash drives support only a single drive partition.","pos":[3546,3606]},{"content":"The <ph id=\"ph1\">`MakeWinPEMedia`</ph> command formats the drive as FAT32, which supports booting both BIOS-based and UEFI-based PCs.","pos":[3607,3722]},{"content":"This file format only supports file sizes up to 4 GB.","pos":[3723,3776]},{"content":"For external USB hard drives, you can create a separate NTFS partition that can handle larger file sizes:","pos":[3782,3887]},{"pos":[4403,4417],"content":"Related topics"},{"content":"WinPE for Windows 10","pos":[4421,4441]},{"content":"WinPE: Create a Boot CD, DVD, ISO, or VHD","pos":[4461,4502]},{"content":"WinPE: Install on a Hard Drive (Flat Boot or Non-RAM)","pos":[4548,4601]},{"content":"WinPE: Mount and Customize","pos":[4661,4687]},{"content":"WinPE: Boot in UEFI or legacy BIOS mode","pos":[4721,4760]},{"content":"Windows Setup Supported Platforms and Cross-Platform Deployments","pos":[4807,4871]}],"content":"---\nauthor: Justinha\nDescription: 'WinPE: Create USB Bootable drive'\nms.assetid: 9e7216ed-5a12-4f26-a0cb-da303589c806\nMSHAttr: 'PreferredLib:/library/windows/hardware'\ntitle: 'WinPE: Create USB Bootable drive'\n---\n\n# WinPE: Create USB Bootable drive\n\n\nCreate a Windows PE (WinPE) bootable USB flash drive or an external USB hard drive.\n\nThe default installation runs from memory (RAM disk), so you can remove the drive while Windows PE is running.\n\n**Install the Windows ADK**\n\n-   Install the following features from the [Windows Assessment and Deployment Kit (ADK)](http://go.microsoft.com/fwlink/?LinkId=526803):\n\n    -   **Deployment Tools**: includes the **Deployment and Imaging Tools Environment**.\n\n    -   **Windows Preinstallation Environment** : includes the files used to install Windows PE.\n\n**Install Windows PE**\n\n1.  Start the **Deployment and Imaging Tools Environment** as an **administrator**.\n\n2.  Create a working copy of the Windows PE files. Specify either x86, amd64, or arm:\n\n    ``` syntax\n    copype amd64 C:\\WinPE_amd64\n    ```\n\n3.  Install Windows PE to the USB flash drive, specifying the drive letter:\n\n    ``` syntax\n    MakeWinPEMedia /UFD C:\\WinPE_amd64 F:\n    ```\n\n    **Warning**  \n    This command reformats the drive.\n\n     \n\n**Boot to Windows PE**\n\n1.  Connect the USB device to the PC you want to work on.\n\n2.  Turn on the PC, and press the key that opens the firmware boot menus.\n\n3.  Select the USB drive. Windows PE starts automatically.\n\n    After the command window appears, the `wpeinit` command runs, which sets up the system. This might take a few minutes.\n\n**Troubleshooting**\n\n1.  If the `copype` command isn't recognized, make sure you're running the command from the Deployment and Imaging Tools Environment, which is part of the Windows ADK.\n\n2.  If Windows PE doesn't appear, try the following workarounds, rebooting the PC each time:\n\n    -   To boot a PC that supports UEFI mode, in the firmware boot menus, try manually selecting the boot files: \\\\EFI\\\\BOOT\\\\BOOTX64.EFI.\n\n    -   Try a different USB port. Avoid hubs or cables.\n\n    -   Avoid USB 3.0 ports if the firmware doesn't contain native support for USB 3.0.\n\n    -   Clean the USB flash drive, and then reinstall Windows PE. This can help remove extra boot partitions or other boot software.\n\n        ``` syntax\n        diskpart\n          list disk\n          select disk <disk number>\n          clean\n          create partition primary\n          format quick fs=fat32 label=\"Windows PE\"\n          assign letter=\"F\"\n          exit\n\n        MakeWinPEMedia /UFD C:\\winpe_amd64 F:\n        ```\n\n    -   Try booting Windows PE from a DVD instead. Create an ISO file that you can burn onto a DVD:\n\n        ``` syntax\n        MakeWinPEMedia /ISO C:\\winpe_amd64 c:\\winpe_amd64\\winpe.iso\n        ```\n\n        In File Explorer, navigate to C:\\\\winpe\\_amd64, right-click **winpe.iso**, and select **Burn to disc**. Follow the prompts to create a DVD.\n\n    -   If your PC requires storage or video drivers to boot, try adding those same drivers to the Windows PE image. For more info, see [WinPE: Mount and Customize](winpe-mount-and-customize.md).\n\n    -   Update the firmware of the PC to the latest version.\n\n3.  If the PC doesn't connect to network locations, see [WinPE Network Drivers: Initializing and adding drivers](winpe-network-drivers-initializing-and-adding-drivers.md).\n\n**Storing Windows Images on the Windows PE Drive**\n\n1.  Typically you won't be able to store or capture Windows images on a Windows PE USB flash drive.\n\n    Most USB flash drives support only a single drive partition. The `MakeWinPEMedia` command formats the drive as FAT32, which supports booting both BIOS-based and UEFI-based PCs. This file format only supports file sizes up to 4 GB.\n\n2.  For external USB hard drives, you can create a separate NTFS partition that can handle larger file sizes:\n\n    ``` syntax\n    diskpart\n      list disk\n      select <disk number>\n      clean\n      rem === Create the Windows PE partition. ===\n      create partition primary size=2000\n      format quick fs=fat32 label=\"Windows PE\"\n      assign letter=P\n      active\n      rem === Create a data partition. ===\n      create partition primary\n      format fs=ntfs quick label=\"Other files\"\n      assign letter=O\n      list vol\n      exit\n\n    MakeWinPEMedia /UFD C:\\WinPE_amd64 P:\n    ```\n\n## <span id=\"related_topics\"></span>Related topics\n\n\n[WinPE for Windows 10](winpe-intro.md)\n\n[WinPE: Create a Boot CD, DVD, ISO, or VHD](winpe-create-a-boot-cd-dvd-iso-or-vhd.md)\n\n[WinPE: Install on a Hard Drive (Flat Boot or Non-RAM)](winpe-install-on-a-hard-drive--flat-boot-or-non-ram.md)\n\n[WinPE: Mount and Customize](winpe-mount-and-customize.md)\n\n[WinPE: Boot in UEFI or legacy BIOS mode](winpe-boot-in-uefi-or-legacy-bios-mode.md)\n\n[Windows Setup Supported Platforms and Cross-Platform Deployments](windows-setup-supported-platforms-and-cross-platform-deployments.md)\n\n \n\n \n\n\n\n\n\n\n"}