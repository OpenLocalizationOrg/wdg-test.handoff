{"nodes":[{"content":"Exercise 1 - Evaluate Fast Startup Using the Assessment Toolkit","pos":[11,74]},{"content":"Boot time is a common benchmark that is often used to measure Windows performance.","pos":[88,170]},{"content":"Over the lifetime of a system, longer boot times can be an indicator of system problems such as inefficient configuration, device conflicts, and malware.","pos":[171,324]},{"content":"Exercise 1 - Evaluate Fast Startup Using the Assessment Toolkit","pos":[513,576]},{"content":"Boot time is a common benchmark that is often used to measure Windows performance.","pos":[579,661]},{"content":"Over the lifetime of a system, longer boot times can be an indicator of system problems such as inefficient configuration, device conflicts, and malware.","pos":[662,815]},{"content":"Step 1: Collect data using the Windows Assessment Tookit","pos":[820,876]},{"content":"The Windows Assessment Toolkit contains a test to measure the Fast Startup time.","pos":[879,959]},{"content":"You can use this assessment to understand the impact drivers, devices, and the software preload have on the Fast Startup time.","pos":[960,1086]},{"content":"Fast Startup time can be negatively affected by processes and services that are loaded in memory at startup, processes and services that run in the background, or resources that are used to initialize devices.","pos":[1087,1296]},{"pos":[1302,1368],"content":"Open <bpt id=\"p1\">**</bpt>Windows Assessment Console (WAC)<ept id=\"p1\">**</ept> from the <bpt id=\"p2\">**</bpt>Start<ept id=\"p2\">**</ept> menu."},{"pos":[1374,1423],"content":"Open the <bpt id=\"p1\">**</bpt>Options<ept id=\"p1\">**</ept> menu and select <bpt id=\"p2\">**</bpt>New Job…<ept id=\"p2\">**</ept>"},{"pos":[1474,1516],"content":"Enter <bpt id=\"p1\">**</bpt>FastStartupTest<ept id=\"p1\">**</ept> as the job name."},{"pos":[1526,1557],"content":"Select <bpt id=\"p1\">**</bpt>Create a custom job.<ept id=\"p1\">**</ept>"},{"pos":[1563,1592],"content":"Click on <bpt id=\"p1\">**</bpt>Add Assessments.<ept id=\"p1\">**</ept>"},{"pos":[1602,1687],"content":"Add the <bpt id=\"p1\">**</bpt>Boot Performance (Fast Startup)<ept id=\"p1\">**</ept> assessment by clicking on the “+” symbol."},{"pos":[1693,1797],"content":"Click on the newly added <bpt id=\"p1\">**</bpt>Boot Performance (Fast Startup)<ept id=\"p1\">**</ept> assessment to enter the test configuration."},{"pos":[1803,1907],"content":"Unselect <bpt id=\"p1\">**</bpt>Use recommended settings<ept id=\"p1\">**</ept> and select <bpt id=\"p2\">**</bpt>Enable Hiberfile Diagnostics<ept id=\"p2\">**</ept> for the configuration."},{"pos":[1917,2060],"content":"<bpt id=\"p1\">**</bpt>Enable Hiberfile Diagnostics<ept id=\"p1\">**</ept> allows you to analyze the contents of the hiberfile and identify the memory pages that contribute to its size."},{"content":"You have two options:","pos":[2066,2087]},{"content":"<bpt id=\"p1\">**</bpt>Package<ept id=\"p1\">**</ept> the job in order to create a folder with all the test resources and copy it on another test system.","pos":[2097,2208]},{"content":"(Click on the <bpt id=\"p1\">**</bpt>Package…<ept id=\"p1\">**</ept>","pos":[2209,2235]},{"content":"button in the bottom right corner to choose this option.)","pos":[2236,2293]},{"content":"<bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> the job directly on the system.","pos":[2303,2342]},{"content":"(Click on the <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> button in the bottom right corner to choose this option.)","pos":[2343,2422]},{"content":"This restarts the system to gather a trace.","pos":[2436,2479]},{"content":"This test can take 30 minutes to complete.","pos":[2493,2535]},{"pos":[2541,2568],"content":"We want the <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> option."},{"content":"Step 2: Visualize the assessment results using WAC","pos":[2620,2670]},{"pos":[2673,2816],"content":"Once the assessment execution is completed, you can open the resultant XML report with <bpt id=\"p1\">**</bpt>WAC<ept id=\"p1\">**</ept> and start evaluating the <bpt id=\"p2\">**</bpt>Fast Startup<ept id=\"p2\">**</ept> times."},{"content":"This step uses two XML reports:","pos":[2818,2849]},{"pos":[2855,3096],"content":"<bpt id=\"p1\">**</bpt>Baseline report<ept id=\"p1\">**</ept> (<bpt id=\"p2\">**</bpt>FastStartup<ph id=\"ph1\">\\_</ph>Baseline.xml<ept id=\"p2\">**</ept>): The Baseline report is a pre-generated XML report that can be downloaded <bpt id=\"p3\">[</bpt>here<ept id=\"p3\">](http://download.microsoft.com/download/3/6/F/36FDC105-5ECC-4C8A-98E4-385B940F74B5/FastStartup_Baseline.xml)</ept>."},{"content":"It was generated by executing the <bpt id=\"p1\">**</bpt>Fast Startup<ept id=\"p1\">**</ept> assessment on a clean Windows retail image with a full set of drivers.","pos":[3102,3223]},{"content":"A baseline enables you to understand the best case scenario for a system without any added 3rd party apps.","pos":[3224,3330]},{"content":"<bpt id=\"p1\">**</bpt>Local report<ept id=\"p1\">**</ept>: This is the report that you generated in Step 1.","pos":[3336,3402]},{"content":"The delta between the baseline report and this report allows you to quantify the impact that added apps have on boot times.","pos":[3403,3526]},{"pos":[3532,3626],"content":"In <bpt id=\"p1\">**</bpt>WAC<ept id=\"p1\">**</ept>, in the upper-right corner, open the <bpt id=\"p2\">**</bpt>Options<ept id=\"p2\">**</ept> menu and select <bpt id=\"p3\">**</bpt>Open Results…<ept id=\"p3\">**</ept>."},{"pos":[3636,3682],"content":"You can also press <bpt id=\"p1\">**</bpt>CTRL+R<ept id=\"p1\">**</ept> on the keyboard."},{"content":"Click on the <bpt id=\"p1\">**</bpt>Browse…<ept id=\"p1\">**</ept>","pos":[3688,3712]},{"content":"button and navigate to the folder where you saved the two XML reports.","pos":[3713,3783]},{"pos":[3789,3894],"content":"Select both <bpt id=\"p1\">**</bpt>FastStartup<ph id=\"ph1\">\\_</ph>Baseline.xml<ept id=\"p1\">**</ept> and your <bpt id=\"p2\">**</bpt>Local report<ept id=\"p2\">**</ept> at the same time, and click <bpt id=\"p3\">**</bpt>Open<ept id=\"p3\">**</ept>."},{"content":"The two results open side-by-side in the Windows Assessment Console.","pos":[3900,3968]},{"content":"Your console should look something like this:","pos":[3969,4014]},{"content":"Note","pos":[4061,4065]},{"content":"Because your <bpt id=\"p1\">**</bpt>Local report<ept id=\"p1\">**</ept> was generated on a different system from the one used to generate the <bpt id=\"p2\">**</bpt>Local reports<ept id=\"p2\">**</ept> shown in the screenshots throughout this exercise, the specific entries shown in the screenshots will probably differ from the ones you see on your machine.","pos":[4070,4344]},{"content":"Step 3: Review the Fast Startup report","pos":[4352,4390]},{"content":"The assessment results section provides the data you will use to understand how a system is performing and to identify issues.","pos":[4393,4519]},{"content":"Most metric values are numbers you can use to compare against other metrics or computers.","pos":[4520,4609]},{"content":"Phase","pos":[4613,4618]},{"content":"Description","pos":[4658,4669]},{"content":"Shutdown Duration (seconds)","pos":[5053,5080]},{"content":"The time the computer takes to shut down.","pos":[5096,5137]},{"content":"You can expand this node to expose additional metrics for deeper understanding and investigation.","pos":[5138,5235]},{"content":"BIOS Initialization Duration (seconds)","pos":[5272,5310]},{"content":"The time the BIOS takes to initialize.","pos":[5315,5353]},{"content":"The assessment does not offer analysis and remediation information for this metric.","pos":[5354,5437]},{"content":"Total Boot (seconds)","pos":[5491,5511]},{"content":"The time the computer takes to boot after the BIOS phase has completed.","pos":[5534,5605]},{"content":"You can expand this node to expose additional metrics for deeper understanding and investigation.","pos":[5606,5703]},{"content":"User Tip:","pos":[5712,5721]},{"content":"<bpt id=\"p1\">**</bpt>Assessments<ept id=\"p1\">**</ept> often run workloads or scenarios multiple times.","pos":[5727,5791]},{"content":"We refer to each of these runs as an “iteration,” and the values collected are averaged across multiple iterations.","pos":[5792,5907]},{"content":"For example, <bpt id=\"p1\">**</bpt>Fast Startup<ept id=\"p1\">**</ept> has three iterations by default.","pos":[5908,5970]},{"content":"To view the individual iteration’s values, right-click the computer name in the top column heading and then select <bpt id=\"p1\">**</bpt>Show Iterations<ept id=\"p1\">**</ept>.","pos":[5971,6106]},{"content":"The Boot Performance (Fast Startup) assessment provides boot metrics in a number of phases and components.","pos":[6151,6257]},{"content":"In the <bpt id=\"p1\">**</bpt>WAC<ept id=\"p1\">**</ept>, find the <bpt id=\"p2\">**</bpt>Total Boot <ph id=\"ph1\">\\[</ph>Excluding BIOS<ph id=\"ph2\">\\]</ph> Duration (Seconds)<ept id=\"p2\">**</ept> metric, and compare the baseline and local results.","pos":[6263,6392]},{"content":"You may see a large (i.e. greater than 18 seconds) regression time between the two.","pos":[6393,6476]},{"content":"Click the chevron next to this metric to show the sub-metrics.","pos":[6482,6544]},{"pos":[6554,6705],"content":"<bpt id=\"p1\">**</bpt>Main Path Boot Duration<ept id=\"p1\">**</ept>: Shows the time Windows takes to resume from the end of <bpt id=\"p2\">**</bpt>BIOS Initialization<ept id=\"p2\">**</ept> to when the desktop is visible to the user."},{"pos":[6715,6827],"content":"<bpt id=\"p1\">**</bpt>Post On/Off Duration<ept id=\"p1\">**</ept>: Shows the time Windows takes to complete all startup tasks after the desktop appeared."},{"pos":[6833,6993],"content":"The other metric areas (<bpt id=\"p1\">**</bpt>Resource Consumption<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Resume Process Details<ept id=\"p2\">**</ept>) provide CPU and disk usage data and will not be investigated within this guide."},{"pos":[7110,7153],"content":"Step 4: Examine the Resume Devices Duration"},{"content":"Device drivers may become a source of boot delays.","pos":[7156,7206]},{"content":"To identify drivers that have issues, drill down into the <bpt id=\"p1\">**</bpt>Resume Devices Duration<ept id=\"p1\">**</ept> metrics to find problems.","pos":[7207,7318]},{"pos":[7324,7395],"content":"Click the chevron next to the <bpt id=\"p1\">**</bpt>Main Path Boot Duration<ept id=\"p1\">**</ept> to expand it."},{"pos":[7401,7561],"content":"Find the <bpt id=\"p1\">**</bpt>Resume Devices Duration<ept id=\"p1\">**</ept> metric, expand the node by clicking on the chevron, and then view the sub-metrics under the <bpt id=\"p2\">**</bpt>Processes Per Phase<ept id=\"p2\">**</ept> metric."},{"content":"Right-click the computer name column header of the test results column and then select <bpt id=\"p1\">**</bpt>Sort Descending<ept id=\"p1\">**</ept>.","pos":[7567,7674]},{"content":"This sorts the data so that the largest numbers are at the top.","pos":[7675,7738]},{"content":"This allows you to focus on the tasks that have the longest duration.","pos":[7739,7808]},{"content":"Each row represents the amount of time a device took to resume to an active power state.","pos":[7814,7902]},{"content":"Step 5: Determine the Hiberfile size","pos":[7954,7990]},{"pos":[7997,8068],"content":"Click the chevron next to the <bpt id=\"p1\">**</bpt>Hiberfile Read Duration<ept id=\"p1\">**</ept> to expand it."},{"pos":[8074,8209],"content":"The <bpt id=\"p1\">**</bpt>Hiberfile size<ept id=\"p1\">**</ept> metric represents the amount of data read from disk to restore the system context through the hibernation stack."},{"content":"The larger the size of the file, the longer it takes for the system to boot.","pos":[8219,8295]},{"content":"The size of the file is directly impacted by memory usage from services and drivers.","pos":[8296,8380]},{"content":"To get an estimate of the disk read throughput (in MB/s), you can divide <bpt id=\"p1\">**</bpt>Hiberfile size<ept id=\"p1\">**</ept> by the <bpt id=\"p2\">**</bpt>Hiberfile Read Duration<ept id=\"p2\">**</ept> metric.","pos":[8390,8524]},{"content":"If there’s a significant discrepancy between this throughput and the drive’s specification, this might indicate a problem with the driver or the BIOS storage read routines.","pos":[8525,8697]},{"content":"To analyze the content of the hiberfile and determine what software components contribute to its size, expand the <bpt id=\"p1\">**</bpt>Hiberfile Diagnostic<ept id=\"p1\">**</ept> metric.","pos":[8703,8849]},{"content":"Two types of memory contribute to the hiberfile size:","pos":[8850,8903]},{"content":"Driver non-paged pool memory","pos":[8913,8941]},{"content":"Process working sets","pos":[8951,8971]},{"content":"Step 6: Examine the Post On/Off Duration","pos":[9019,9059]},{"content":"The <bpt id=\"p1\">**</bpt>Post On/Off Duration<ept id=\"p1\">**</ept> value represents the time it takes for the computer to reach an idle state after the desktop is displayed to the user.","pos":[9062,9209]},{"content":"During this time, user responsiveness can be affected because system startup is completing in the background.","pos":[9210,9319]},{"content":"The <bpt id=\"p1\">**</bpt>Post On/Off<ept id=\"p1\">**</ept> process completes after five seconds of low priority CPU and storage usage are accumulated.","pos":[9320,9431]},{"pos":[9437,9493],"content":"Expand the <bpt id=\"p1\">**</bpt>Post On/Off Duration (Milliseconds)<ept id=\"p1\">**</ept> node."},{"pos":[9499,9654],"content":"Expand the <bpt id=\"p1\">**</bpt>Processes Per Phase<ept id=\"p1\">**</ept> node to display a sub-table with metrics on the individual apps and services that use CPU and storage during this phase."},{"pos":[9660,9747],"content":"Right-click the last column heading of that table, and then select <bpt id=\"p1\">**</bpt>Sort descending<ept id=\"p1\">**</ept>."},{"content":"You can now identify processes that contribute to the phase duration.","pos":[9792,9861]},{"content":"The more resources the process consumes, the more likely it affects the phase duration and should be investigated further.","pos":[9862,9984]},{"content":"Step 7: Open Fast Startup trace with WPA","pos":[9989,10029]},{"pos":[10032,10107],"content":"The <bpt id=\"p1\">**</bpt>Fast Startup<ept id=\"p1\">**</ept> assessment generates three types of iterations traces:"},{"content":"Iteration Type","pos":[10111,10125]},{"content":"Description","pos":[10128,10139]},{"content":"Training","pos":[10547,10555]},{"content":"The assessment reboots the system six times to make sure that all OS components involved in the boot process are optimized (prefetcher, superfetch, etc.).","pos":[10564,10718]},{"content":"Timing","pos":[10765,10771]},{"content":"These traces (gathered) are used to compute the average measurement displayed in the XML report.","pos":[10782,10878]},{"content":"The default number of iterations is three, but can be adjusted though the assessment configuration.","pos":[10879,10978]},{"content":"Analysis","pos":[10983,10991]},{"content":"A single trace is captured that contains detailed events and stacks in order to allow deep dive investigation into performance issues.","pos":[11000,11134]},{"content":"The trace is larger in size.","pos":[11135,11163]},{"content":"If you want to open one of the traces generated by the assessment, follow these steps:","pos":[11203,11289]},{"content":"Click on the report table header cell.","pos":[11295,11333]},{"pos":[11339,11441],"content":"The right pane in the <bpt id=\"p1\">**</bpt>WAC<ept id=\"p1\">**</ept> UI updates and shows links to the ETL traces captured by the assessment."},{"pos":[11495,11532],"content":"Click on the <bpt id=\"p1\">**</bpt>Analysis trace<ept id=\"p1\">**</ept> link."},{"content":"<bpt id=\"p1\">**</bpt>WPA<ept id=\"p1\">**</ept> automatically opens the trace so you can start your investigations.","pos":[11538,11613]},{"content":"Exercise 2 of this guide will walk you through some analysis methodologies.","pos":[11614,11689]}],"content":"---\ntitle: Exercise 1 - Evaluate Fast Startup Using the Assessment Toolkit\ndescription: Boot time is a common benchmark that is often used to measure Windows performance. Over the lifetime of a system, longer boot times can be an indicator of system problems such as inefficient configuration, device conflicts, and malware.\nMSHAttr:\n- 'PreferredSiteName:MSDN'\n- 'PreferredLib:/library/windows/hardware'\nms.assetid: C5CD3A7D-5306-44A5-B2C3-E5D3BC42DA56\nms.prod: W10\nms.mktglfcycl: operate\nms.sitesec: msdn\n---\n\n# Exercise 1 - Evaluate Fast Startup Using the Assessment Toolkit\n\n\nBoot time is a common benchmark that is often used to measure Windows performance. Over the lifetime of a system, longer boot times can be an indicator of system problems such as inefficient configuration, device conflicts, and malware.\n\n## Step 1: Collect data using the Windows Assessment Tookit\n\n\nThe Windows Assessment Toolkit contains a test to measure the Fast Startup time. You can use this assessment to understand the impact drivers, devices, and the software preload have on the Fast Startup time. Fast Startup time can be negatively affected by processes and services that are loaded in memory at startup, processes and services that run in the background, or resources that are used to initialize devices.\n\n1.  Open **Windows Assessment Console (WAC)** from the **Start** menu.\n\n2.  Open the **Options** menu and select **New Job…**![](images/optimizingperformancelab2.png)\n\n    1.  Enter **FastStartupTest** as the job name.\n\n    2.  Select **Create a custom job.**\n\n3.  Click on **Add Assessments.**\n\n    -   Add the **Boot Performance (Fast Startup)** assessment by clicking on the “+” symbol.\n\n4.  Click on the newly added **Boot Performance (Fast Startup)** assessment to enter the test configuration.\n\n5.  Unselect **Use recommended settings** and select **Enable Hiberfile Diagnostics** for the configuration.\n\n    -   **Enable Hiberfile Diagnostics** allows you to analyze the contents of the hiberfile and identify the memory pages that contribute to its size.\n\n6.  You have two options:\n\n    1.  **Package** the job in order to create a folder with all the test resources and copy it on another test system. (Click on the **Package…** button in the bottom right corner to choose this option.)\n\n    2.  **Run** the job directly on the system. (Click on the **Run** button in the bottom right corner to choose this option.)\n\n        -   This restarts the system to gather a trace.\n\n        -   This test can take 30 minutes to complete.\n\n    We want the **Run** option.\n\n    ![](images/optimizingperformancelab3.png)\n\n## Step 2: Visualize the assessment results using WAC\n\n\nOnce the assessment execution is completed, you can open the resultant XML report with **WAC** and start evaluating the **Fast Startup** times.\n\nThis step uses two XML reports:\n\n-   **Baseline report** (**FastStartup\\_Baseline.xml**): The Baseline report is a pre-generated XML report that can be downloaded [here](http://download.microsoft.com/download/3/6/F/36FDC105-5ECC-4C8A-98E4-385B940F74B5/FastStartup_Baseline.xml).\n\n    It was generated by executing the **Fast Startup** assessment on a clean Windows retail image with a full set of drivers. A baseline enables you to understand the best case scenario for a system without any added 3rd party apps.\n\n-   **Local report**: This is the report that you generated in Step 1. The delta between the baseline report and this report allows you to quantify the impact that added apps have on boot times.\n\n1.  In **WAC**, in the upper-right corner, open the **Options** menu and select **Open Results…**.\n\n    -   You can also press **CTRL+R** on the keyboard.\n\n2.  Click on the **Browse…** button and navigate to the folder where you saved the two XML reports.\n\n3.  Select both **FastStartup\\_Baseline.xml** and your **Local report** at the same time, and click **Open**.\n\n    The two results open side-by-side in the Windows Assessment Console. Your console should look something like this:\n\n![](images/optimizingperformancelab4.png)\n\n**Note**  \nBecause your **Local report** was generated on a different system from the one used to generate the **Local reports** shown in the screenshots throughout this exercise, the specific entries shown in the screenshots will probably differ from the ones you see on your machine.\n\n \n\n## Step 3: Review the Fast Startup report\n\n\nThe assessment results section provides the data you will use to understand how a system is performing and to identify issues. Most metric values are numbers you can use to compare against other metrics or computers.\n\n| Phase                                      | Description                                                                                                                                                               |\n|--------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| **Shutdown Duration (seconds)**            | The time the computer takes to shut down. You can expand this node to expose additional metrics for deeper understanding and investigation.                               |\n| **BIOS Initialization Duration (seconds)** | The time the BIOS takes to initialize. The assessment does not offer analysis and remediation information for this metric.                                                |\n| **Total Boot (seconds)**                   | The time the computer takes to boot after the BIOS phase has completed. You can expand this node to expose additional metrics for deeper understanding and investigation. |\n\n \n\n**User Tip:  **\n\n**Assessments** often run workloads or scenarios multiple times. We refer to each of these runs as an “iteration,” and the values collected are averaged across multiple iterations. For example, **Fast Startup** has three iterations by default. To view the individual iteration’s values, right-click the computer name in the top column heading and then select **Show Iterations**.\n\n![](images/optimizingperformancelab5.png)\n\nThe Boot Performance (Fast Startup) assessment provides boot metrics in a number of phases and components.\n\n1.  In the **WAC**, find the **Total Boot \\[Excluding BIOS\\] Duration (Seconds)** metric, and compare the baseline and local results. You may see a large (i.e. greater than 18 seconds) regression time between the two.\n\n2.  Click the chevron next to this metric to show the sub-metrics.\n\n    -   **Main Path Boot Duration**: Shows the time Windows takes to resume from the end of **BIOS Initialization** to when the desktop is visible to the user.\n\n    -   **Post On/Off Duration**: Shows the time Windows takes to complete all startup tasks after the desktop appeared.\n\n    The other metric areas (**Resource Consumption** and **Resume Process Details**) provide CPU and disk usage data and will not be investigated within this guide.\n\n    ![](images/optimizingperformancelab6.png)\n\n## <a href=\"\" id=\"step-4--examine-the-resume-devices-duration-\"></a>Step 4: Examine the Resume Devices Duration\n\n\nDevice drivers may become a source of boot delays. To identify drivers that have issues, drill down into the **Resume Devices Duration** metrics to find problems.\n\n1.  Click the chevron next to the **Main Path Boot Duration** to expand it.\n\n2.  Find the **Resume Devices Duration** metric, expand the node by clicking on the chevron, and then view the sub-metrics under the **Processes Per Phase** metric.\n\n3.  Right-click the computer name column header of the test results column and then select **Sort Descending**. This sorts the data so that the largest numbers are at the top. This allows you to focus on the tasks that have the longest duration.\n\n4.  Each row represents the amount of time a device took to resume to an active power state.\n\n    ![](images/optimizingperformancelab7.png)\n\n## Step 5: Determine the Hiberfile size\n\n\n1.  Click the chevron next to the **Hiberfile Read Duration** to expand it.\n\n    The **Hiberfile size** metric represents the amount of data read from disk to restore the system context through the hibernation stack.\n\n    -   The larger the size of the file, the longer it takes for the system to boot. The size of the file is directly impacted by memory usage from services and drivers.\n\n    -   To get an estimate of the disk read throughput (in MB/s), you can divide **Hiberfile size** by the **Hiberfile Read Duration** metric. If there’s a significant discrepancy between this throughput and the drive’s specification, this might indicate a problem with the driver or the BIOS storage read routines.\n\n2.  To analyze the content of the hiberfile and determine what software components contribute to its size, expand the **Hiberfile Diagnostic** metric. Two types of memory contribute to the hiberfile size:\n\n    -   Driver non-paged pool memory\n\n    -   Process working sets\n\n![](images/optimizingperformancelab8.png)\n\n## Step 6: Examine the Post On/Off Duration\n\n\nThe **Post On/Off Duration** value represents the time it takes for the computer to reach an idle state after the desktop is displayed to the user. During this time, user responsiveness can be affected because system startup is completing in the background. The **Post On/Off** process completes after five seconds of low priority CPU and storage usage are accumulated.\n\n1.  Expand the **Post On/Off Duration (Milliseconds)** node.\n\n2.  Expand the **Processes Per Phase** node to display a sub-table with metrics on the individual apps and services that use CPU and storage during this phase.\n\n3.  Right-click the last column heading of that table, and then select **Sort descending**.\n\n![](images/optimizingperformancelab9.png)\n\nYou can now identify processes that contribute to the phase duration. The more resources the process consumes, the more likely it affects the phase duration and should be investigated further.\n\n## Step 7: Open Fast Startup trace with WPA\n\n\nThe **Fast Startup** assessment generates three types of iterations traces:\n\n| Iteration Type | Description                                                                                                                                                                                          |\n|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Training       | The assessment reboots the system six times to make sure that all OS components involved in the boot process are optimized (prefetcher, superfetch, etc.).                                           |\n| Timing         | These traces (gathered) are used to compute the average measurement displayed in the XML report. The default number of iterations is three, but can be adjusted though the assessment configuration. |\n| Analysis       | A single trace is captured that contains detailed events and stacks in order to allow deep dive investigation into performance issues. The trace is larger in size.                                  |\n\n \n\nIf you want to open one of the traces generated by the assessment, follow these steps:\n\n1.  Click on the report table header cell.\n\n    The right pane in the **WAC** UI updates and shows links to the ETL traces captured by the assessment.\n\n    ![](images/optimizingperformancelab10.png)\n\n2.  Click on the **Analysis trace** link.\n\n    **WPA** automatically opens the trace so you can start your investigations. Exercise 2 of this guide will walk you through some analysis methodologies.\n\n \n\n \n\n\n\n\n\n\n"}