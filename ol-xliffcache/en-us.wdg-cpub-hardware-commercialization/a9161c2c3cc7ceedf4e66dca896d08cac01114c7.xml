{"nodes":[{"content":"Exercise 2 - Manually Collect ETW Logs for Media Scenarios Using WPR","pos":[11,79]},{"content":"Automated tests are great for verifying the audio or temporal video quality of a device for a specific automated scenario; however, if an audio or video glitch occurs during a manual test, then the Windows Performance Recorder (WPR) tool can be used to manually collect an Event Tracing for Windows (ETW) trace during a repro of the problem.","pos":[93,434]},{"content":"Exercise 2 - Manually Collect ETW Logs for Media Scenarios Using WPR","pos":[570,638]},{"pos":[641,986],"content":"Automated tests are great for verifying the audio or temporal video quality of a device for a specific automated scenario; however, if an audio or video glitch occurs during a manual test, then the <bpt id=\"p1\">**</bpt>Windows Performance Recorder (WPR)<ept id=\"p1\">**</ept> tool can be used to manually collect an Event Tracing for Windows (ETW) trace during a repro of the problem."},{"content":"Step 1: Collect an ETW trace using WPR","pos":[991,1029]},{"pos":[1036,1110],"content":"Right-click on the <bpt id=\"p1\">**</bpt>Start<ept id=\"p1\">**</ept> menu and click on <bpt id=\"p2\">**</bpt>Command Prompt (Admin)<ept id=\"p2\">**</ept>."},{"pos":[1116,1172],"content":"Navigate to the folder where you have <bpt id=\"p1\">**</bpt>WPR<ept id=\"p1\">**</ept> installed."},{"content":"Run the following command:","pos":[1178,1204]},{"content":"Run the following command:","pos":[1250,1276]},{"content":"Run a workload such as video playback or a real time communications scenario.","pos":[1342,1419]},{"content":"Run the following command:","pos":[1425,1451]},{"content":"Step 2: Visualize the ETW trace in MXA","pos":[1504,1542]},{"pos":[1549,1676],"content":"Install the <bpt id=\"p1\">**</bpt>Media eXperience Analyzer (MXA)<ept id=\"p1\">**</ept> which can be downloaded <bpt id=\"p2\">[</bpt>here<ept id=\"p2\">](https://go.microsoft.com/fwlink/?linkid=525711)</ept>."},{"pos":[1682,1756],"content":"Right-click on the <bpt id=\"p1\">**</bpt>Start<ept id=\"p1\">**</ept> menu and click on <bpt id=\"p2\">**</bpt>Command Prompt (Admin)<ept id=\"p2\">**</ept>."},{"pos":[1762,1813],"content":"Navigate to the folder where you installed <bpt id=\"p1\">**</bpt>MXA<ept id=\"p1\">**</ept>."},{"content":"Run the following command:","pos":[1819,1845]},{"content":"For example, if Media.etl were located at C:<ph id=\"ph1\">\\\\</ph>Performance<ph id=\"ph2\">\\\\</ph>Media, you would type the following command:","pos":[1916,2019]},{"pos":[2090,2154],"content":"Press the <bpt id=\"p1\">**</bpt>Turn Symbols Off<ept id=\"p1\">**</ept> button to turn off symbol lookup."},{"content":"Explore the various media related datasets and providers enabled in the trace.","pos":[2160,2238]}],"content":"---\ntitle: Exercise 2 - Manually Collect ETW Logs for Media Scenarios Using WPR\ndescription: Automated tests are great for verifying the audio or temporal video quality of a device for a specific automated scenario; however, if an audio or video glitch occurs during a manual test, then the Windows Performance Recorder (WPR) tool can be used to manually collect an Event Tracing for Windows (ETW) trace during a repro of the problem.\nMSHAttr:\n- 'PreferredSiteName:MSDN'\n- 'PreferredLib:/library/windows/hardware'\nms.assetid: 89203B18-8C1F-40ED-9DF5-B68F2995BFD9\n---\n\n# Exercise 2 - Manually Collect ETW Logs for Media Scenarios Using WPR\n\n\nAutomated tests are great for verifying the audio or temporal video quality of a device for a specific automated scenario; however, if an audio or video glitch occurs during a manual test, then the **Windows Performance Recorder (WPR)** tool can be used to manually collect an Event Tracing for Windows (ETW) trace during a repro of the problem.\n\n## Step 1: Collect an ETW trace using WPR\n\n\n1.  Right-click on the **Start** menu and click on **Command Prompt (Admin)**.\n\n2.  Navigate to the folder where you have **WPR** installed.\n\n3.  Run the following command:\n\n    ``` syntax\n    wpr -cancel\n    ```\n\n4.  Run the following command:\n\n    ``` syntax\n    wpr -start Media.wprp -filemode\n    ```\n\n5.  Run a workload such as video playback or a real time communications scenario.\n\n6.  Run the following command:\n\n    ``` syntax\n    wpr -stop Media.etl\n    ```\n\n## Step 2: Visualize the ETW trace in MXA\n\n\n1.  Install the **Media eXperience Analyzer (MXA)** which can be downloaded [here](https://go.microsoft.com/fwlink/?linkid=525711).\n\n2.  Right-click on the **Start** menu and click on **Command Prompt (Admin)**.\n\n3.  Navigate to the folder where you installed **MXA**.\n\n4.  Run the following command:\n\n    ``` syntax\n    xa -i <Media.etl location>\\Media.etl\n    ```\n\n    For example, if Media.etl were located at C:\\\\Performance\\\\Media, you would type the following command:\n\n    ``` syntax\n    xa -i C:\\Performance\\Media\\Media.etl\n    ```\n\n5.  Press the **Turn Symbols Off** button to turn off symbol lookup.\n\n6.  Explore the various media related datasets and providers enabled in the trace.\n\n \n\n \n\n\n\n\n\n\n"}