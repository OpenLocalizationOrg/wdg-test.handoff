{"nodes":[{"content":"OEM and enterprise customers using Windows 10 IoT Core Pro (IoT Core Pro) can take advantage of device management configuration service providers (CSPs) that allow some control over the device update process.","pos":[35,243]},{"content":"Manage IoT Core device updates","pos":[351,381]},{"content":"Manage IoT Core device updates","pos":[389,419]},{"content":"OEM and enterprise customers using Windows 10 IoT Core Pro (IoT Core Pro) can take advantage of device management configuration service providers (CSPs) that allow some control over the device update process.","pos":[422,630]},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  Windows 10 IoT Core (IoT Core) update management only applies to Windows 10 IoT Core Pro.","pos":[632,731]},{"content":"For more information about licensing Windows 10 IoT Core Pro, see <bpt id=\"p1\">[</bpt>Microsoft Commercial Terms of Use for Windows 10 IoT Core<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkID=614849)</ept>.","pos":[732,905]},{"content":"Device Management Policy can be set using either the Windows Imaging and Configuration Designer (ICD) tool or a mobile device management (MDM) service.","pos":[910,1061]},{"content":"See <bpt id=\"p1\">[</bpt>Mobile Device Management<ept id=\"p1\">](https://msdn.microsoft.com/windows/hardware/dn914769.aspx )</ept> for more detail about device management protocols.","pos":[1062,1203]},{"pos":[1388,1429],"content":"AllowAutoUpdate to turn updates on or off"},{"content":"Updates for IoT Core Pro can be turned off by setting the AllowAutoUpdate policy.","pos":[1432,1513]},{"content":"If the AllowAutoUpdate policy is not configured, devices will get IoT Core updates as usual at 3am.","pos":[1519,1618]},{"pos":[1623,1713],"content":"If the AllowAutoUpdate policy set to <bpt id=\"p1\">**</bpt>5<ept id=\"p1\">**</ept>, automatic updates for IoT Core are turned off."},{"content":"allowautoupdate5","pos":[1717,1733]},{"pos":[1918,1952],"content":"AllowAutoUpdate to control updates"},{"content":"The AllowAutoUpdate policy can also control the timing of updates for IoT Core:","pos":[1955,2034]},{"content":"If the AllowAutoUpdate policy is set to <bpt id=\"p1\">**</bpt>4<ept id=\"p1\">**</ept>, IoT Core updates will automatically install and the device will restart at a specified time.","pos":[2036,2175]},{"content":"An IT administrator specifies the install day/time (i.e., every Sunday at 3am).","pos":[2176,2255]},{"content":"If no day/time is specified, the install time defaults to 3 AM daily.","pos":[2256,2325]},{"content":"All end-user updated related notifications are suppressed as well.","pos":[2326,2392]},{"content":"View the set time in <ph id=\"ph1\">` &lt;LocURI&gt;./Vendor/MSFT/PolicyManager/Device/Update/ScheduledInstallDay&lt;/LocURI&gt;`</ph> or <ph id=\"ph2\">` &lt;LocURI&gt;./Vendor/MSFT/PolicyManager/Device/Update/ScheduledInstallTime&lt;/LocURI&gt;`</ph> in <bpt id=\"p1\">**</bpt>syncml<ept id=\"p1\">**</ept>.","pos":[2393,2596]},{"content":"allowautoupdate4","pos":[2600,2616]},{"pos":[2750,2767],"content":"Deferring updates"},{"content":"The AllowAutoUpdate policy can also control the timing of updates for IoT Core:","pos":[2770,2849]},{"content":"Non-critical updates for IoT Core can be deferred for a maximum of 120 days by using Windows Server Update Services (WSUS).","pos":[2851,2974]},{"content":"In this process, the devices are configured to use the WSUS server for update service instead of Windows Update.","pos":[2975,3087]},{"content":"The IT admin gets IoT Core updates from the Microsoft Update Catalog and downloads the updates for later deployment.","pos":[3088,3204]},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  When a WSUS server is configured on an IoT Core device, the trigger to ping the server for updates is suppressed.","pos":[3205,3328]},{"content":"To configure WSUS on an IoT Core image:","pos":[3333,3372]},{"pos":[3378,3462],"content":"On the <bpt id=\"p1\">**</bpt>Windows ICD Start Page<ept id=\"p1\">**</ept>, select the IoT Core project you’d like to modify."},{"pos":[3467,3574],"content":"Under <bpt id=\"p1\">**</bpt>Available Customizations<ept id=\"p1\">**</ept>, expand to <bpt id=\"p2\">**</bpt>Runtime settings<ept id=\"p2\">**</ept>, then <bpt id=\"p3\">**</bpt>Policies<ept id=\"p3\">**</ept>, and then <bpt id=\"p4\">**</bpt>Update<ept id=\"p4\">**</ept>."},{"pos":[3579,3701],"content":"In the <bpt id=\"p1\">**</bpt>Policies/Update<ept id=\"p1\">**</ept> info pane, change the <bpt id=\"p2\">**</bpt>UpdateServiceURL<ept id=\"p2\">**</ept> to the address of the WSUS server that will be used."},{"content":"updateserviceurl","pos":[3705,3721]},{"content":"To select IoT Core updates in the WSUS catalog site:","pos":[3746,3798]},{"pos":[3804,3909],"content":"In the WSUS administrative console, select <bpt id=\"p1\">**</bpt>Updates<ept id=\"p1\">**</ept>, and in the Actions pane click <bpt id=\"p2\">**</bpt>Import Updates<ept id=\"p2\">**</ept>."},{"content":"A browser window will open at the Microsoft Update Catalog Web site.","pos":[3914,3982]},{"content":"You can search this site for IoT Core updates by device, OEM, and firmware.","pos":[3987,4062]},{"content":"When you find the ones you need, add them to your basket.","pos":[4063,4120]},{"content":"Go to the basket and click <bpt id=\"p1\">**</bpt>Import<ept id=\"p1\">**</ept> to import your updates to the server.","pos":[4125,4200]},{"content":"To download the updates directly without importing them, clear the <bpt id=\"p1\">**</bpt>Import directly into Windows Server Update Services<ept id=\"p1\">**</ept> checkbox and save the download.","pos":[4201,4355]},{"pos":[4462,4477],"content":"OS updates only"},{"content":"An IoT Core device can be set to receive OS updates from Microsoft and not OEM updates by editing the device's feature manifest file.","pos":[4480,4613]},{"content":"To configure a device to receive only OS updates, you must edit the OEM Feature Manifest XML for the device.","pos":[4615,4723]},{"content":"The feature manifest for supported devices can be found at the following directory locations on the device:","pos":[4724,4831]},{"pos":[4839,4855],"content":"MinnowBoard Max:"},{"pos":[4927,4942],"content":"Raspberry Pi 2:"},{"pos":[5015,5036],"content":"Qualcomm DragonBoard:"},{"content":"In the <bpt id=\"p1\">**</bpt><ph id=\"ph1\">&amp;lt;</ph>DeviceLayoutPackages<ph id=\"ph2\">&amp;gt;</ph><ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt><ph id=\"ph3\">&amp;lt;</ph>Features<ph id=\"ph4\">&amp;gt;</ph><ept id=\"p2\">**</ept>sections, remove the device identifier and replace with <bpt id=\"p3\">**</bpt>Generic<ept id=\"p3\">**</ept>.","pos":[5109,5241]},{"content":"For example <bpt id=\"p1\">**</bpt>Intel.MBM.DeviceInfo.cab<ept id=\"p1\">**</ept> becomes <bpt id=\"p2\">**</bpt>Intel.Generic.DeviceInfo.cab<ept id=\"p2\">**</ept>.","pos":[5242,5324]},{"content":"generic pop on mbm","pos":[5327,5345]}],"content":"---\nauthor: kpacquer\nDescription: 'OEM and enterprise customers using Windows 10 IoT Core Pro (IoT Core Pro) can take advantage of device management configuration service providers (CSPs) that allow some control over the device update process.'\nms.assetid: c25c6a6a-9965-40d6-b1da-725e45d2f00a\nMSHAttr: 'PreferredLib:/library/windows/hardware'\ntitle: Manage IoT Core device updates\n---\n\n# Manage IoT Core device updates\n\n\nOEM and enterprise customers using Windows 10 IoT Core Pro (IoT Core Pro) can take advantage of device management configuration service providers (CSPs) that allow some control over the device update process.\n\n**Note**  Windows 10 IoT Core (IoT Core) update management only applies to Windows 10 IoT Core Pro. For more information about licensing Windows 10 IoT Core Pro, see [Microsoft Commercial Terms of Use for Windows 10 IoT Core](http://go.microsoft.com/fwlink/?LinkID=614849).\n\n \n\nDevice Management Policy can be set using either the Windows Imaging and Configuration Designer (ICD) tool or a mobile device management (MDM) service. See [Mobile Device Management](https://msdn.microsoft.com/windows/hardware/dn914769.aspx ) for more detail about device management protocols.\n\n## <span id=\"AllowAutoUpdate_to_turn_updates_on_or_off\"></span><span id=\"allowautoupdate_to_turn_updates_on_or_off\"></span><span id=\"ALLOWAUTOUPDATE_TO_TURN_UPDATES_ON_OR_OFF\"></span>AllowAutoUpdate to turn updates on or off\n\n\nUpdates for IoT Core Pro can be turned off by setting the AllowAutoUpdate policy.\n\n-   If the AllowAutoUpdate policy is not configured, devices will get IoT Core updates as usual at 3am.\n-   If the AllowAutoUpdate policy set to **5**, automatic updates for IoT Core are turned off.\n\n![allowautoupdate5](images/policy1.png)\n\n## <span id=\"AllowAutoUpdate_to_control_updates\"></span><span id=\"allowautoupdate_to_control_updates\"></span><span id=\"ALLOWAUTOUPDATE_TO_CONTROL_UPDATES\"></span>AllowAutoUpdate to control updates\n\n\nThe AllowAutoUpdate policy can also control the timing of updates for IoT Core:\n\nIf the AllowAutoUpdate policy is set to **4**, IoT Core updates will automatically install and the device will restart at a specified time. An IT administrator specifies the install day/time (i.e., every Sunday at 3am). If no day/time is specified, the install time defaults to 3 AM daily. All end-user updated related notifications are suppressed as well.\nView the set time in ` <LocURI>./Vendor/MSFT/PolicyManager/Device/Update/ScheduledInstallDay</LocURI>` or ` <LocURI>./Vendor/MSFT/PolicyManager/Device/Update/ScheduledInstallTime</LocURI>` in **syncml**.\n\n![allowautoupdate4](images/policy2.png)\n\n## <span id=\"Deferring_updates\"></span><span id=\"deferring_updates\"></span><span id=\"DEFERRING_UPDATES\"></span>Deferring updates\n\n\nThe AllowAutoUpdate policy can also control the timing of updates for IoT Core:\n\nNon-critical updates for IoT Core can be deferred for a maximum of 120 days by using Windows Server Update Services (WSUS). In this process, the devices are configured to use the WSUS server for update service instead of Windows Update. The IT admin gets IoT Core updates from the Microsoft Update Catalog and downloads the updates for later deployment.\n**Note**  When a WSUS server is configured on an IoT Core device, the trigger to ping the server for updates is suppressed.\n\n \n\nTo configure WSUS on an IoT Core image:\n\n1.  On the **Windows ICD Start Page**, select the IoT Core project you’d like to modify.\n2.  Under **Available Customizations**, expand to **Runtime settings**, then **Policies**, and then **Update**.\n3.  In the **Policies/Update** info pane, change the **UpdateServiceURL** to the address of the WSUS server that will be used.\n\n![updateserviceurl](images/updateurl.png)\n\nTo select IoT Core updates in the WSUS catalog site:\n\n1.  In the WSUS administrative console, select **Updates**, and in the Actions pane click **Import Updates**.\n2.  A browser window will open at the Microsoft Update Catalog Web site.\n3.  You can search this site for IoT Core updates by device, OEM, and firmware. When you find the ones you need, add them to your basket.\n4.  Go to the basket and click **Import** to import your updates to the server. To download the updates directly without importing them, clear the **Import directly into Windows Server Update Services** checkbox and save the download.\n\n## <span id=\"OS_updates_only\"></span><span id=\"os_updates_only\"></span><span id=\"OS_UPDATES_ONLY\"></span>OS updates only\n\n\nAn IoT Core device can be set to receive OS updates from Microsoft and not OEM updates by editing the device's feature manifest file.\n\nTo configure a device to receive only OS updates, you must edit the OEM Feature Manifest XML for the device. The feature manifest for supported devices can be found at the following directory locations on the device:\n\n-   **MinnowBoard Max:**` C:\\Program Files (x86)\\Windows Kits\\10\\FMFiles\\x86\\MBMFM.xml`\n-   **Raspberry Pi 2:**` C:\\Program Files (x86)\\Windows Kits\\10\\FMFiles\\arm\\RPi2FM.xml`\n-   **Qualcomm DragonBoard:** ` C:\\Program Files (x86)\\Windows Kits\\10\\FMFiles\\arm\\QCDB410CFM.xml`\n\nIn the **&lt;DeviceLayoutPackages&gt;** and **&lt;Features&gt;**sections, remove the device identifier and replace with **Generic**. For example **Intel.MBM.DeviceInfo.cab** becomes **Intel.Generic.DeviceInfo.cab**.\n![generic pop on mbm](images/genericpop.png)\n\n \n\n \n\n\n\n\n\n"}