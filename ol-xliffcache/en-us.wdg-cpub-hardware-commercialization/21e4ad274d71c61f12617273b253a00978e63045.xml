{"nodes":[{"content":"Ingestion Client for Windows Phone","pos":[34,68]},{"content":"Ingestion Client for Windows Phone","pos":[175,209]},{"content":"Ingestion Client for Windows Phone","pos":[217,251]},{"pos":[254,486],"content":"The ingestion client is a set of <bpt id=\"p1\">[</bpt>Windows PowerShell<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=389794)</ept> cmdlets that are used to communicate with services to retrieve and submit code-signing and update requests to and from Microsoft."},{"content":"Initialize-FirmwareSubmission cmdlet","pos":[493,529]},{"content":"New-FirmwareSubmission cmdlet","pos":[578,607]},{"content":"Get-SignedFirmwareSubmission cmdlet","pos":[649,684]},{"content":"New-RequestForUpdate cmdlet","pos":[732,759]},{"content":"New-RequestForMicrosoftUpdate cmdlet","pos":[799,835]},{"content":"Get-RequestForUpdate cmdlet","pos":[884,911]},{"content":"Request-UpdateCancellation cmdlet","pos":[951,984]},{"content":"To use the ingestion client, the following tasks that are elaborated further in this topic must be completed.","pos":[1018,1127]},{"pos":[1133,1365],"content":"Follow the instructions in the <bpt id=\"p1\">[</bpt>Sign up for retail package signing and updates<ept id=\"p1\">](#provision-certs)</ept> section later in this topic to send the OEM x.509 certificates and manage the public and private key associated with each certificate."},{"pos":[1371,1546],"content":"Follow the instructions in the <bpt id=\"p1\">[</bpt>Install the prerequisite software<ept id=\"p1\">](#install-pre)</ept> section later in this topic to install the pre-requisite software to use the ingestion client."},{"pos":[1552,1777],"content":"Follow the instructions in the <bpt id=\"p1\">[</bpt>Install the ingestion client<ept id=\"p1\">](#install)</ept> section later in this topic to install the ingestion client and configure the ingestion client to use the provisioned certificate from the previous step."},{"pos":[1850,1907],"content":"Sign up for retail package signing and update submissions"},{"content":"This section reviews the steps that you must perform to sign up for retail package signing and updates.","pos":[1910,2013]},{"content":"When this process is complete, you will be able to submit packages and updates to Microsoft for retail signing.","pos":[2014,2125]},{"content":"For general info about retail and test code signing, see <bpt id=\"p1\">[</bpt>Code signing<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/hardware/dn756634)</ept>.","pos":[2126,2260]},{"content":"To ensure that the communication between OEMs and Microsoft is secure, the ingestion client uses X.509 certificates for authentication.","pos":[2262,2397]},{"content":"As part of signing up, the OEM is required to send a valid X.509 certificate public key to Microsoft before it can use the ingestion client.","pos":[2398,2538]},{"content":"This allows Microsoft to identify the user of the client, and authorize corresponding access to their data.","pos":[2539,2646]},{"content":"The private key is retained by the OEM and used to access the update server.","pos":[2647,2723]},{"content":"To sign up for package and update signing, submit a request via e-mail to <bpt id=\"p1\">&lt;</bpt>WPSignOB@Microsoft.com<ept id=\"p1\">&gt;</ept> with a subject title of \"Onboarding Request for <ph id=\"ph1\">\\[</ph>Your OEM Company Name<ph id=\"ph2\">\\]</ph>\".","pos":[2725,2899]},{"content":"This e-mail must include the following attachments:","pos":[2900,2951]},{"content":"The OEM onboarding form that you can download from <bpt id=\"p1\">[</bpt>here<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=394161)</ept>.","pos":[2957,3064]},{"content":"For step-by-step guidance, see <bpt id=\"p1\">[</bpt>Walkthrough for Onboarding for Code Signing and Updates<ept id=\"p1\">](http://cmsresources.windowsphone.com/devcenter/oem/downloads/Onboarding-for-Code-Signing-and-Updates.pptx)</ept>.","pos":[3065,3261]},{"content":"One or more code signing authentication certificates.","pos":[3267,3320]},{"content":"For each certificate, include:","pos":[3321,3351]},{"content":"The public portion of the key attached as a .CER file.","pos":[3361,3415]},{"content":"The certificate provisioning request form.","pos":[3425,3467]},{"content":"The form includes details about the certificate requirements, and information about how to fill out the form.","pos":[3468,3577]},{"content":"You can download the certificate provisioning request form from <bpt id=\"p1\">[</bpt>here<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=394159)</ept>.","pos":[3578,3698]},{"content":"It typically takes about one business week to complete these requests.","pos":[3700,3770]},{"content":"Once you are onboarded, you will receive an e-mail that will include instructions about how to download the signing tools and documentation, how to submit update requests, and other additional information.","pos":[3771,3976]},{"content":"X.509 certificate guidelines","pos":[3980,4008]},{"content":"The OEM owns the certificate and is responsible for its security.","pos":[4016,4081]},{"content":"The private key of the certificate represents the identity of the OEM.","pos":[4082,4152]},{"content":"The OEM must manage it using industry best practices and protect it as an important and confidential asset.","pos":[4153,4260]},{"content":"The OEM may provide multiple certificates, but they are encouraged to keep the number of certificates small.","pos":[4261,4369]},{"content":"This ensures that the OEM will not be burdened by a frequent time-based revocation policy for certificates, and it will reduce operational overhead.","pos":[4370,4518]},{"content":"Typically, an OEM geographic site is expected to have one or two certificates.","pos":[4519,4597]},{"content":"By default, the same certificate is provisioned for production and pre-production environments unless specifically requested otherwise by the OEM.","pos":[4603,4749]},{"content":"The OEM must notify Microsoft when a certificate is revoked, expires, or for any other reason that would require Microsoft to de-activate the certificate.","pos":[4755,4909]},{"pos":[4974,5007],"content":"Install the prerequisite software"},{"content":"The ingestion client requires Windows Identity Foundation and Windows PowerShell 3.0.","pos":[5010,5095]},{"content":"The recommended steps to provision a machine for the client are as follows:","pos":[5097,5172]},{"content":"Install Windows Server 2012 R2, Windows 8.1, or another supported OS.","pos":[5178,5247]},{"content":"Apply all patches using Windows Update.","pos":[5253,5292]},{"content":"If necessary, add the computer to an active directory domain.","pos":[5298,5359]},{"content":"After the computer is joined to the domain, re-check Windows Update and apply all patches.","pos":[5365,5455]},{"content":"For Windows Server editions, complete two additional steps:","pos":[5461,5520]},{"pos":[5530,5609],"content":"Configure Internet Explorer Enhanced Security by clicking <bpt id=\"p1\">**</bpt>Configure IE ESC<ept id=\"p1\">**</ept>."},{"content":"ieesc-1","pos":[5621,5628]},{"pos":[5707,5832],"content":"In the Internet Explorer Enhanced Security Configuration dialog, select <bpt id=\"p1\">**</bpt>Off<ept id=\"p1\">**</ept> for Administrators and set <bpt id=\"p2\">**</bpt>Off<ept id=\"p2\">**</ept> for Users."},{"content":"ieesc-2","pos":[5844,5851]},{"content":"Install Windows Identity Foundation (WIF).","pos":[5926,5968]},{"content":"In Windows 8, WIF is available as an OS feature.","pos":[5969,6017]},{"content":"It can be installed by using “Turn Windows features on or off” in Control Panel, Programs and Features.","pos":[6018,6121]},{"content":"For Windows Server 2008 R2, download and install WIF from <bpt id=\"p1\">&lt;</bpt>http://go.microsoft.com/fwlink/p/?LinkId=389793<ept id=\"p1\">&gt;</ept>.","pos":[6122,6230]},{"content":"Install Windows PowerShell 3.0 (Windows Management Framework 3.0).","pos":[6236,6302]},{"content":"In Windows 8, PowerShell is available as an OS feature.","pos":[6303,6358]},{"content":"It can be installed by using <bpt id=\"p1\">**</bpt>Turn Windows features on or off<ept id=\"p1\">**</ept> in Control Panel, Programs and Features.","pos":[6359,6464]},{"content":"For Windows Server 2008 R2, download and install Windows PowerShell from <bpt id=\"p1\">[</bpt>http://go.microsoft.com/fwlink/p/?linkid=240290<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkID=240290)</ept>.","pos":[6465,6637]},{"content":"Use Windows Update to apply all patches.","pos":[6643,6683]},{"content":"After the prerequisites are installed, the next steps are to provision an X.509 certificate and install the ingestion client using the instructions in this document.","pos":[6689,6854]},{"pos":[6911,6939],"content":"Install the ingestion client"},{"content":"Note","pos":[6944,6948]},{"content":"The 64-bit version of the ingestion client is no longer supported as of 12/9/2013.","pos":[6953,7035]},{"content":"If the 64-bit version is installed, it must be uninstalled and then the 32-bit version must be installed.","pos":[7036,7141]},{"content":"The ingestion client can be installed on the following operating systems:","pos":[7146,7219]},{"content":"Windows Server 2012 R2","pos":[7225,7247]},{"content":"Windows 8.1","pos":[7253,7264]},{"content":"Windows Server 2012","pos":[7270,7289]},{"content":"Windows 8","pos":[7295,7304]},{"content":"Windows Server 2008 R2","pos":[7310,7332]},{"content":"Windows 7","pos":[7338,7347]},{"content":"The ingestion client must be installed by executing <bpt id=\"p1\">**</bpt>msiexec<ept id=\"p1\">**</ept> from an elevated command prompt.","pos":[7349,7445]},{"content":"Information about the specific values that will be used is covered later in this document.","pos":[7446,7536]},{"content":"These values can be changed later by editing this XML configuration file that is created during installation, %ProgramFiles(x86)%<ph id=\"ph1\">\\\\</ph>Microsoft<ph id=\"ph2\">\\\\</ph>WP Ingestion Client<ph id=\"ph3\">\\\\</ph>Modules<ph id=\"ph4\">\\\\</ph> Microsoft.Phone.PartnerServices.Client<ph id=\"ph5\">\\\\</ph>Microsoft.Phone.PartnerServices.Client.dll.config.","pos":[7538,7801]},{"content":"By default, the installation will provide a user interface.","pos":[7803,7862]},{"content":"To prevent the UI from being displayed, use the /qn, quiet option.","pos":[7863,7929]},{"content":"For more information about <bpt id=\"p1\">**</bpt>msiexec<ept id=\"p1\">**</ept>, see <bpt id=\"p2\">[</bpt>Msiexec<ept id=\"p2\">](http://go.microsoft.com/fwlink/p/?LinkId=389794)</ept>.","pos":[7930,8033]},{"content":"Installation Syntax","pos":[8037,8056]},{"content":"The command to install the client requires the following parameters:","pos":[8060,8128]},{"pos":[8134,8186],"content":"<bpt id=\"p1\">*</bpt>BASEURI<ept id=\"p1\">*</ept>: The URI of the Microsoft partner service."},{"pos":[8192,8254],"content":"<bpt id=\"p1\">*</bpt>NAMESPACE<ept id=\"p1\">*</ept>: Access control for the Microsoft partner service."},{"pos":[8260,8364],"content":"<bpt id=\"p1\">*</bpt>MYCLIENTCERTIFICATEPATH<ept id=\"p1\">*</ept>: The fully qualified path to a certificate file that contains the private key."},{"pos":[8370,8481],"content":"<bpt id=\"p1\">*</bpt>PFXPASSWORD<ept id=\"p1\">*</ept>: The password of the certificate file that is specified in the MYCLIENTCERTIFICATEPATH parameter."},{"content":"The parameters are specified in the following format:","pos":[8483,8536]},{"content":"After obtaining a valid X.509 certificate run the following install:","pos":[8808,8876]},{"content":"Production (retail image signing): Install the client to submit or retrieve requests to the Microsoft production environment:","pos":[8882,9007]},{"content":"In this example, “C:<ph id=\"ph1\">\\\\</ph>Certificates<ph id=\"ph2\">\\\\</ph>OemSecretCertificateWithPrivateKey.pfx” is used as a placeholder to represent the location of a valid X.509 certificate created by the OEM.","pos":[9364,9539]},{"content":"Note","pos":[9543,9547]},{"content":"The certificate private key file and password specified as parameters to install are used to configure the X.509 certificate in the local machine’s certificate store.","pos":[9556,9722]},{"content":"The password is not stored elsewhere and is not exchanged with Microsoft.","pos":[9723,9796]},{"content":"In addition to installing the ingestion client, the install command creates the folder %ProgramData%<ph id=\"ph1\">\\\\</ph>Microsoft<ph id=\"ph2\">\\\\</ph>WP Ingestion Client<ph id=\"ph3\">\\\\</ph>.","pos":[9801,9936]},{"content":"This folder contains the subfolders Backup and Logs.","pos":[9937,9989]},{"content":"The Backup subfolder is used to store the client configuration for uninstall.","pos":[9990,10067]},{"content":"The Logs subfolder is used to store client cmdlet diagnostic log information.","pos":[10068,10145]},{"pos":[10218,10254],"content":"Troubleshooting the ingestion client"},{"content":"Exceptions","pos":[10259,10269]},{"content":"An error has occurred.","pos":[10341,10363]},{"content":"The HTTP request was forbidden with client authentication scheme ‘Anonymous’…","pos":[10364,10441]},{"content":"If the “Microsoft.Phone.PartnerServices.Exceptions.UnknownErrorException” exception is thrown when any of the cmdlets are used, the issue is most likely caused by the HTTP proxy settings within the OEM’s network.","pos":[10443,10655]},{"content":"Either the maximum message size limit configured in the HTTP proxy is too small to upload the submitted packages, or the port that is used to upload the packages is blocked.","pos":[10656,10829]},{"content":"Try correcting the HTTP proxy settings within the OEM’s network and try again.","pos":[10830,10908]},{"content":"Verbose option","pos":[10912,10926]},{"pos":[10930,11046],"content":"The cmdlets support additional information about command processing via the PowerShell common <bpt id=\"p1\">**</bpt>Verbose<ept id=\"p1\">**</ept> parameter."},{"content":"By default, the verbose messages are not displayed, but this can be changed by specifying the common parameter on any command.","pos":[11048,11174]},{"content":"When enabled, the cmdlet writes text to the verbose stream in Windows PowerShell.","pos":[11175,11256]},{"content":"Consider a typical example where an existing signed firmware submission is retrieved.","pos":[11258,11343]},{"content":"This is the terse output of such a cmdlet:","pos":[11344,11386]},{"pos":[11594,11714],"content":"When the <bpt id=\"p1\">**</bpt>Verbose<ept id=\"p1\">**</ept> parameter is specified, additional information about the interaction with the service is displayed:"},{"content":"Diagnostic Logs","pos":[12707,12722]},{"content":"The default location of diagnostic output from the ingestion client is: “C:<ph id=\"ph1\">\\\\</ph>ProgramData<ph id=\"ph2\">\\\\</ph>Microsoft<ph id=\"ph3\">\\\\</ph>WP Ingestion Client<ph id=\"ph4\">\\\\</ph>Logs”","pos":[12726,12853]},{"content":"Escalating a problem to Microsoft","pos":[12857,12890]},{"content":"To escalate a problem to Microsoft, send the following information by submitting a bug using the bug system you have been provided access to.","pos":[12894,13035]},{"content":"Description of the attempted scenario","pos":[13041,13078]},{"content":"Screen shots","pos":[13084,13096]},{"content":"Log files","pos":[13102,13111]},{"content":"Configuration file: Microsoft.Phone.PartnerServices.Client<ph id=\"ph1\">\\\\</ph>Microsoft.Phone.PartnerServices.Client.dll.config","pos":[13117,13226]},{"content":"Ticket ID","pos":[13232,13241]},{"content":"Correlation Value.","pos":[13247,13265]},{"content":"This can be retrieved from the <bpt id=\"p1\">[</bpt>Get-SignedFirmwareSubmission cmdlet<ept id=\"p1\">](get-signedfirmwaresubmission-cmdlet.md)</ept>.","pos":[13266,13375]}],"content":"---\nauthor: kpacquer\nDescription: Ingestion Client for Windows Phone\nms.assetid: 2d62208f-8ba3-4034-a853-a16434c2b26d\nMSHAttr: 'PreferredLib:/library/windows/hardware'\ntitle: Ingestion Client for Windows Phone\n---\n\n# Ingestion Client for Windows Phone\n\n\nThe ingestion client is a set of [Windows PowerShell](http://go.microsoft.com/fwlink/p/?LinkId=389794) cmdlets that are used to communicate with services to retrieve and submit code-signing and update requests to and from Microsoft.\n\n-   [Initialize-FirmwareSubmission cmdlet](initialize-firmwaresubmission-cmdlet.md)\n\n-   [New-FirmwareSubmission cmdlet](new-firmwaresubmission-cmdlet.md)\n\n-   [Get-SignedFirmwareSubmission cmdlet](get-signedfirmwaresubmission-cmdlet.md)\n\n-   [New-RequestForUpdate cmdlet](new-requestforupdate-cmdlet.md)\n\n-   [New-RequestForMicrosoftUpdate cmdlet](new-requestformicrosoftupdate-cmdlet.md)\n\n-   [Get-RequestForUpdate cmdlet](get-requestforupdate-cmdlet.md)\n\n-   [Request-UpdateCancellation cmdlet](request-updatecancellation.md)\n\nTo use the ingestion client, the following tasks that are elaborated further in this topic must be completed.\n\n1.  Follow the instructions in the [Sign up for retail package signing and updates](#provision-certs) section later in this topic to send the OEM x.509 certificates and manage the public and private key associated with each certificate.\n\n2.  Follow the instructions in the [Install the prerequisite software](#install-pre) section later in this topic to install the pre-requisite software to use the ingestion client.\n\n3.  Follow the instructions in the [Install the ingestion client](#install) section later in this topic to install the ingestion client and configure the ingestion client to use the provisioned certificate from the previous step.\n\n## <span id=\"provision_certs\"></span><span id=\"PROVISION_CERTS\"></span>Sign up for retail package signing and update submissions\n\n\nThis section reviews the steps that you must perform to sign up for retail package signing and updates. When this process is complete, you will be able to submit packages and updates to Microsoft for retail signing. For general info about retail and test code signing, see [Code signing](https://msdn.microsoft.com/library/windows/hardware/dn756634).\n\nTo ensure that the communication between OEMs and Microsoft is secure, the ingestion client uses X.509 certificates for authentication. As part of signing up, the OEM is required to send a valid X.509 certificate public key to Microsoft before it can use the ingestion client. This allows Microsoft to identify the user of the client, and authorize corresponding access to their data. The private key is retained by the OEM and used to access the update server.\n\nTo sign up for package and update signing, submit a request via e-mail to <WPSignOB@Microsoft.com> with a subject title of \"Onboarding Request for \\[Your OEM Company Name\\]\". This e-mail must include the following attachments:\n\n1.  The OEM onboarding form that you can download from [here](http://go.microsoft.com/fwlink/p/?LinkId=394161). For step-by-step guidance, see [Walkthrough for Onboarding for Code Signing and Updates](http://cmsresources.windowsphone.com/devcenter/oem/downloads/Onboarding-for-Code-Signing-and-Updates.pptx).\n\n2.  One or more code signing authentication certificates. For each certificate, include:\n\n    1.  The public portion of the key attached as a .CER file.\n\n    2.  The certificate provisioning request form. The form includes details about the certificate requirements, and information about how to fill out the form. You can download the certificate provisioning request form from [here](http://go.microsoft.com/fwlink/p/?LinkId=394159).\n\nIt typically takes about one business week to complete these requests. Once you are onboarded, you will receive an e-mail that will include instructions about how to download the signing tools and documentation, how to submit update requests, and other additional information.\n\n**X.509 certificate guidelines**\n\n-   The OEM owns the certificate and is responsible for its security. The private key of the certificate represents the identity of the OEM. The OEM must manage it using industry best practices and protect it as an important and confidential asset. The OEM may provide multiple certificates, but they are encouraged to keep the number of certificates small. This ensures that the OEM will not be burdened by a frequent time-based revocation policy for certificates, and it will reduce operational overhead. Typically, an OEM geographic site is expected to have one or two certificates.\n\n-   By default, the same certificate is provisioned for production and pre-production environments unless specifically requested otherwise by the OEM.\n\n-   The OEM must notify Microsoft when a certificate is revoked, expires, or for any other reason that would require Microsoft to de-activate the certificate.\n\n## <span id=\"install_pre\"></span><span id=\"INSTALL_PRE\"></span>Install the prerequisite software\n\n\nThe ingestion client requires Windows Identity Foundation and Windows PowerShell 3.0.\n\nThe recommended steps to provision a machine for the client are as follows:\n\n1.  Install Windows Server 2012 R2, Windows 8.1, or another supported OS.\n\n2.  Apply all patches using Windows Update.\n\n3.  If necessary, add the computer to an active directory domain.\n\n4.  After the computer is joined to the domain, re-check Windows Update and apply all patches.\n\n5.  For Windows Server editions, complete two additional steps:\n\n    1.  Configure Internet Explorer Enhanced Security by clicking **Configure IE ESC**.\n\n        ![ieesc-1](images/oem-internet-explorer-enhanced-security-configuration-1.png)\n\n    2.  In the Internet Explorer Enhanced Security Configuration dialog, select **Off** for Administrators and set **Off** for Users.\n\n        ![ieesc-2](images/oem-internet-explorer-enhanced-security-configuration-2.png)\n\n6.  Install Windows Identity Foundation (WIF). In Windows 8, WIF is available as an OS feature. It can be installed by using “Turn Windows features on or off” in Control Panel, Programs and Features. For Windows Server 2008 R2, download and install WIF from <http://go.microsoft.com/fwlink/p/?LinkId=389793>.\n\n7.  Install Windows PowerShell 3.0 (Windows Management Framework 3.0). In Windows 8, PowerShell is available as an OS feature. It can be installed by using **Turn Windows features on or off** in Control Panel, Programs and Features. For Windows Server 2008 R2, download and install Windows PowerShell from [http://go.microsoft.com/fwlink/p/?linkid=240290](http://go.microsoft.com/fwlink/p/?LinkID=240290).\n\n8.  Use Windows Update to apply all patches.\n\n9.  After the prerequisites are installed, the next steps are to provision an X.509 certificate and install the ingestion client using the instructions in this document.\n\n## <span id=\"install\"></span><span id=\"INSTALL\"></span>Install the ingestion client\n\n\n**Note**  \nThe 64-bit version of the ingestion client is no longer supported as of 12/9/2013. If the 64-bit version is installed, it must be uninstalled and then the 32-bit version must be installed.\n\n \n\nThe ingestion client can be installed on the following operating systems:\n\n-   Windows Server 2012 R2\n\n-   Windows 8.1\n\n-   Windows Server 2012\n\n-   Windows 8\n\n-   Windows Server 2008 R2\n\n-   Windows 7\n\nThe ingestion client must be installed by executing **msiexec** from an elevated command prompt. Information about the specific values that will be used is covered later in this document.\n\nThese values can be changed later by editing this XML configuration file that is created during installation, %ProgramFiles(x86)%\\\\Microsoft\\\\WP Ingestion Client\\\\Modules\\\\ Microsoft.Phone.PartnerServices.Client\\\\Microsoft.Phone.PartnerServices.Client.dll.config.\n\nBy default, the installation will provide a user interface. To prevent the UI from being displayed, use the /qn, quiet option. For more information about **msiexec**, see [Msiexec](http://go.microsoft.com/fwlink/p/?LinkId=389794).\n\n**Installation Syntax**\n\nThe command to install the client requires the following parameters:\n\n-   *BASEURI*: The URI of the Microsoft partner service.\n\n-   *NAMESPACE*: Access control for the Microsoft partner service.\n\n-   *MYCLIENTCERTIFICATEPATH*: The fully qualified path to a certificate file that contains the private key.\n\n-   *PFXPASSWORD*: The password of the certificate file that is specified in the MYCLIENTCERTIFICATEPATH parameter.\n\nThe parameters are specified in the following format:\n\n``` syntax\nmsiexec /I WPIngestionClient.msi \n    BASEURI=\"[Microsoft service environment URL]\"\n    NAMESPACE=\"[Microsoft access control identifier]\" \n    MYCLIENTCERTIFICATEPATH=\"[Path of OEM PFX file]\"\n    PFXPASSWORD=\"[Password of PFX file]\"\n    /l*v install.log\n```\n\nAfter obtaining a valid X.509 certificate run the following install:\n\n-   Production (retail image signing): Install the client to submit or retrieve requests to the Microsoft production environment:\n\n    ``` syntax\n    msiexec /I WPIngestionClient.msi \n        BASEURI=\"http://wp8partnerservicesv1.cloudapp.net:7159\"\n        NAMESPACE=\"wp8partnerservicesv1\" \n        MYCLIENTCERTIFICATEPATH=\"C:\\Certificates\\OemSecretCertificateWithPrivateKey.pfx\"\n        PFXPASSWORD=\"Password-Of-OemSecretCertificateWithPrivateKey.pfx\"\n        /l*v install.log\n    ```\n\nIn this example, “C:\\\\Certificates\\\\OemSecretCertificateWithPrivateKey.pfx” is used as a placeholder to represent the location of a valid X.509 certificate created by the OEM.\n\n**Note**  \n-   The certificate private key file and password specified as parameters to install are used to configure the X.509 certificate in the local machine’s certificate store. The password is not stored elsewhere and is not exchanged with Microsoft.\n\n \n\nIn addition to installing the ingestion client, the install command creates the folder %ProgramData%\\\\Microsoft\\\\WP Ingestion Client\\\\. This folder contains the subfolders Backup and Logs. The Backup subfolder is used to store the client configuration for uninstall. The Logs subfolder is used to store client cmdlet diagnostic log information.\n\n## <span id=\"troubleshooting\"></span><span id=\"TROUBLESHOOTING\"></span>Troubleshooting the ingestion client\n\n\n**Exceptions**\n\n`Microsoft.Phone.PartnerServices.Exceptions.UnknownErrorException.` An error has occurred. The HTTP request was forbidden with client authentication scheme ‘Anonymous’…\n\nIf the “Microsoft.Phone.PartnerServices.Exceptions.UnknownErrorException” exception is thrown when any of the cmdlets are used, the issue is most likely caused by the HTTP proxy settings within the OEM’s network. Either the maximum message size limit configured in the HTTP proxy is too small to upload the submitted packages, or the port that is used to upload the packages is blocked. Try correcting the HTTP proxy settings within the OEM’s network and try again.\n\n**Verbose option**\n\nThe cmdlets support additional information about command processing via the PowerShell common **Verbose** parameter.\n\nBy default, the verbose messages are not displayed, but this can be changed by specifying the common parameter on any command. When enabled, the cmdlet writes text to the verbose stream in Windows PowerShell.\n\nConsider a typical example where an existing signed firmware submission is retrieved. This is the terse output of such a cmdlet:\n\n``` syntax\nPS> Get-SignedFirmwareSubmission –TicketId TKT-SIGN-TEST-BTUADL -DownloadDirectory C:\\temp | Format-List\n\nTicketId : TKT-SIGN-TEST-BTUADL\nFile     : c:\\temp\\OemTest.TKT-SIGN-TEST-BTUADL.zip\n```\n\nWhen the **Verbose** parameter is specified, additional information about the interaction with the service is displayed:\n\n``` syntax\nPS> Get-SignedFirmwareSubmission –Verbose –TicketId TKT-SIGN-TEST-BTUADL -DownloadDirectory C:\\temp | Format-List\n\nVERBOSE: Parameter assignment: 'TicketId' = TKT-SIGN-TEST-BTUADL.\nVERBOSE: Downloading OemTest.TKT-SIGN-TEST-BTUADL.zip in 4194304 byte chunks.\n File is 17341441 bytes long.\nVERBOSE: Start reading chunk 0, 0 - 4194303 bytes.\nVERBOSE: Start reading chunk 1, 4194304 - 8388607 bytes.\nVERBOSE: Start reading chunk 2, 8388608 - 12582911 bytes.\nVERBOSE: Start reading chunk 3, 12582912 - 16777215 bytes.\nVERBOSE: Start reading chunk 4, 16777216 - 17341440 bytes.\nVERBOSE: Writing block number 0 of size 4194304.\nVERBOSE: Writing block number 1 of size 4194304.\nVERBOSE: Writing block number 2 of size 4194304.\nVERBOSE: Writing block number 3 of size 4194304.\nVERBOSE: Writing block number 4 of size 564225.\nVERBOSE: File successfully downloaded to OemTest.TKT-SIGN-TEST-BTUADL.\n\nTicketId : TKT-SIGN-TEST-BTUADL\nFile     : c:\\temp\\OemTest.TKT-SIGN-TEST-BTUADL.zip\n```\n\n**Diagnostic Logs**\n\nThe default location of diagnostic output from the ingestion client is: “C:\\\\ProgramData\\\\Microsoft\\\\WP Ingestion Client\\\\Logs”\n\n**Escalating a problem to Microsoft**\n\nTo escalate a problem to Microsoft, send the following information by submitting a bug using the bug system you have been provided access to.\n\n-   Description of the attempted scenario\n\n-   Screen shots\n\n-   Log files\n\n-   Configuration file: Microsoft.Phone.PartnerServices.Client\\\\Microsoft.Phone.PartnerServices.Client.dll.config\n\n-   Ticket ID\n\n-   Correlation Value. This can be retrieved from the [Get-SignedFirmwareSubmission cmdlet](get-signedfirmwaresubmission-cmdlet.md).\n\n \n\n "}