{"nodes":[{"content":"DISM Image Management Command-Line Options","pos":[35,77]},{"content":"DISM Image Management Command-Line Options","pos":[186,228]},{"content":"DISM Image Management Command-Line Options","pos":[237,279]},{"content":"Deployment Image Servicing and Management (DISM.exe) mounts a Windows image (.wim) file or virtual hard disk (.vhd or .vhdx) for servicing.","pos":[282,421]},{"content":"You can also use the DISM image management command to list the image index numbers, to verify the architecture for the image that you are mounting, append an image, apply an image, capture an image and delete an image.","pos":[422,640]},{"content":"After you update the image, you must unmount it and either commit or discard the changes that you have made.","pos":[641,749]},{"content":"This topic discusses DISM commands related to image management.","pos":[751,814]},{"content":"To see other command-line options, see <bpt id=\"p1\">[</bpt>Deployment Image Servicing and Management (DISM) Command-Line Options<ept id=\"p1\">](deployment-image-servicing-and-management--dism--command-line-options.md)</ept>.","pos":[815,1000]},{"content":"For more information about common DISM scenarios, see <bpt id=\"p1\">[</bpt>What is DISM?<ept id=\"p1\">](what-is-dism.md)</ept>.","pos":[1001,1088]},{"content":"In addition to the command-line tool, DISM is available by using Windows PowerShell.","pos":[1090,1174]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Deployment Imaging Servicing Management (DISM) Cmdlets in Windows PowerShell<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=239926)</ept>.","pos":[1175,1327]},{"content":"The following commands can be used to mount, unmount, capture, append, and delete and query .wim, .vhd and .vhdx files.","pos":[1329,1448]},{"content":"These options are not case sensitive.","pos":[1449,1486]},{"content":"/Append-Image","pos":[1491,1504]},{"content":"Adds an additional image to a .wim file.","pos":[1506,1546]},{"content":"<bpt id=\"p1\">**</bpt>/AppendImage<ept id=\"p1\">**</ept> compares new files to the resources in the existing .wim file specified by the <bpt id=\"p2\">**</bpt>/ImageFile<ept id=\"p2\">**</ept> argument, and stores only a single copy of each unique file so that each file is only captured once.","pos":[1547,1758]},{"content":"The .wim file can have only one assigned compression type.","pos":[1759,1817]},{"content":"Therefore, you can only append files with the same compression type.","pos":[1818,1886]},{"content":"This command-line option does not apply to virtual hard disk (VHD) files.","pos":[1888,1961]},{"content":"Important","pos":[1965,1974]},{"content":"Ensure that you have enough disk space for the <bpt id=\"p1\">**</bpt>/Append-Image<ept id=\"p1\">**</ept> option to run.","pos":[1980,2059]},{"content":"If you run out of disk space while the image is being appended, you might corrupt the .wim file.","pos":[2060,2156]},{"content":"Syntax:","pos":[2158,2165]},{"content":"Parameter","pos":[2425,2434]},{"content":"Description","pos":[2443,2454]},{"content":"/WIMBoot","pos":[2505,2513]},{"content":"Use /WIMBoot to append the image with Windows image file boot (WIMBoot) configuration.","pos":[2516,2602]},{"content":"This only applies to Windows 8.1 images that have been captured or exported as a WIMBoot file.","pos":[2603,2697]},{"content":"This feature isn't supported in Windows 10.","pos":[2698,2741]},{"content":"/ConfigFile","pos":[2745,2756]},{"content":"specifies the location of a configuration file that lists exclusions for image capture and compress commands.","pos":[2759,2868]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>DISM Configuration List and WimScript.ini Files<ept id=\"p1\">](dism-configuration-list-and-wimscriptini-files-winnext.md)</ept>.","pos":[2869,3004]},{"content":"/Bootable","pos":[3009,3018]},{"content":"Marks a volume image as being a bootable image.","pos":[3021,3068]},{"content":"This argument is available only for Windows Preinstallation Environment (WinPE) images.","pos":[3069,3156]},{"content":"Only one volume image can be marked as bootable in a .wim file.","pos":[3157,3220]},{"content":"/CheckIntegrity","pos":[3224,3239]},{"content":"Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations.","pos":[3242,3345]},{"content":"/CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations.","pos":[3346,3472]},{"content":"/Verify","pos":[3477,3484]},{"content":"Checks for errors and file duplication.","pos":[3488,3527]},{"content":"/NoRpFix","pos":[3532,3540]},{"content":"Disables the reparse point tag fix.","pos":[3544,3579]},{"content":"A reparse point is a file that contains a link to another file on the file system.","pos":[3580,3662]},{"content":"If /NoRpFix is not specified, reparse points that resolve to paths outside of the value specified by /ImageFile will not be captured.","pos":[3663,3796]},{"content":"Example:","pos":[3799,3807]},{"content":"/Apply-Image","pos":[3900,3912]},{"content":"For WIM, this command applies a Windows image file (.wim) or a split Windows image (.swm) files to a specified partition.","pos":[3914,4035]},{"content":"For FFU, this command applies a full flash update (.ffu) image to a specified drive.","pos":[4038,4122]},{"content":"It doesn’t support applying an image from a virtual hard disk (.vhdx) file, though you can use this command to apply a full image to a VHD.","pos":[4123,4262]},{"content":"FFU applies to Windows 10 only.","pos":[4263,4294]},{"content":"This option doesn’t support applying an image from a virtual hard disk (VHD), though you can use this command to apply images to a .vhdx file that's been attached, partitioned, and formatted.","pos":[4296,4487]},{"content":"Arguments for WIM:","pos":[4489,4507]},{"content":"Arguments for FFU","pos":[4770,4787]},{"content":"Parameter","pos":[4932,4941]},{"content":"Description","pos":[4950,4961]},{"content":"/CheckIntegrity","pos":[5010,5025]},{"content":"Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations.","pos":[5028,5131]},{"content":"/CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations.","pos":[5132,5258]},{"content":"/Verify","pos":[5263,5270]},{"content":"Checks for errors and file duplication.","pos":[5273,5312]},{"content":"/NoRpFix","pos":[5317,5325]},{"content":"Disables the reparse point tag fix.","pos":[5328,5363]},{"content":"A reparse point is a file that contains a link to another file on the file system.","pos":[5364,5446]},{"content":"If /NoRpFix is not specified, reparse points that resolve to paths outside the value specified by /ImageFile will not be captured.","pos":[5447,5577]},{"content":"/SWMFile","pos":[5582,5590]},{"content":"Enables you to reference split .wim files (SWMs).","pos":[5593,5642]},{"content":"<bpt id=\"p1\">*</bpt>Pattern<ept id=\"p1\">*</ept> is the naming pattern and location of split files.","pos":[5643,5703]},{"content":"You can also specify wildcard characters.","pos":[5704,5745]},{"content":"For example, \"E:\\image\\install.swm\" will apply all of the split files in the E:\\image directory named install1.swm, install2.swm, and so on.","pos":[5746,5886]},{"content":"/ConfirmTrustedFile","pos":[5891,5910]},{"content":"Validates the image for Trusted Desktop on a Windows 10, Windows 8.1, or Windows 8.","pos":[5913,5996]},{"content":"This option can only be run on a computer running at least WinPE 4.0.","pos":[5997,6066]},{"content":"When using /Apply-Image with the /ConfirmTrustedFile option in WinPE, always specify the /ScratchDir option pointed to a physical media location.","pos":[6067,6212]},{"content":"This ensures that short file names will always be available.","pos":[6213,6273]},{"content":"See <bpt id=\"p1\">[</bpt>DISM Global Options for Command-Line Syntax<ept id=\"p1\">](dism-global-options-for-command-line-syntax.md)</ept> for more information about the default behavior of the /ScratchDir option.","pos":[6274,6446]},{"content":"/WIMBoot","pos":[6453,6461]},{"content":"Use /WIMBoot to append the image with Windows image file boot (WIMBoot) configuration.","pos":[6464,6550]},{"content":"This only applies to Windows 8.1 images that have been captured or exported as a WIMBoot file.","pos":[6551,6645]},{"content":"This feature isn't supported in Windows 10.","pos":[6646,6689]},{"content":"/Compact","pos":[6693,6701]},{"content":"Applies an image in compact mode, saving drive space.","pos":[6704,6757]},{"content":"Replaces WIMBoot.","pos":[6758,6775]},{"content":"For Windows 10 for desktop editions (Home, Pro, Enterprise, and Education) only.","pos":[6776,6856]},{"content":"/ApplyDrive","pos":[6860,6871]},{"content":"Specifies the logical drive, using the DeviceID.","pos":[6875,6923]},{"content":"to get the device ID from the command line, type \"wmic diskdrive list brief\".","pos":[6924,7001]},{"content":"Note: a VHD may appear with the name “PhysicalDrive” in the description, for example, <ph id=\"ph1\">\\.</ph>\\PhysicalDrive2.","pos":[7002,7106]},{"content":"/SFUFile","pos":[7110,7118]},{"content":"Use /SFUFile to reference split FFU files (SFUs).","pos":[7122,7171]},{"content":"<bpt id=\"p1\">*</bpt>Pattern<ept id=\"p1\">*</ept> is the naming pattern and location of split files.","pos":[7172,7232]},{"content":"/SkipPlatformCheck","pos":[7238,7256]},{"content":"Use /SkipPlatformCheck if the FFU file being applied is targeted for a device other than the device performing the application.","pos":[7259,7386]},{"content":"A special FFU file is required.","pos":[7387,7418]},{"content":"Examples:","pos":[7422,7431]},{"content":"/Capture-CustomImage","pos":[7812,7832]},{"content":"Captures the incremental file changes based on the specific install.wim file to a new file, custom.wim for a WIMBoot image.","pos":[7834,7957]},{"content":"You can’t capture an empty directory.","pos":[7958,7995]},{"content":"The captured files are converted to pointer files.","pos":[7996,8046]},{"content":"The custom.wim is placed in the same folder next to the install.wim.","pos":[8047,8115]},{"content":"Important","pos":[8119,8128]},{"content":"/Capture-CustomImage only captures the customization files.","pos":[8134,8193]},{"content":"It can’t be used to capture installation files into a new WIM.","pos":[8194,8256]},{"content":"Keep the install.wim and custom.wim files together.","pos":[8259,8310]},{"content":"Don't switch out either the custom.wim file or the install.wim file.","pos":[8311,8379]},{"content":"You can only capture the custom image once.","pos":[8382,8425]},{"content":"Don’t remove or recapture a custom.wim after capturing the incremental file changes.","pos":[8426,8510]},{"content":"Syntax:","pos":[8512,8519]},{"content":"Parameter","pos":[8688,8697]},{"content":"Description","pos":[8706,8717]},{"content":"/CaptureDir","pos":[8766,8777]},{"content":"Specifies the directory to which the image was applied and customized.","pos":[8780,8850]},{"content":"/ConfigFile","pos":[8855,8866]},{"content":"Specifies the location of a configuration file that lists exclusions for image capture and compress commands.","pos":[8869,8978]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>DISM Configuration List and WimScript.ini Files<ept id=\"p1\">](dism-configuration-list-and-wimscriptini-files-winnext.md)</ept>.","pos":[8979,9114]},{"content":"/CheckIntegrity","pos":[9117,9132]},{"content":"Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations.","pos":[9135,9238]},{"content":"/CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations.","pos":[9239,9365]},{"content":"/Verify","pos":[9370,9377]},{"content":"Checks for errors and file duplication.","pos":[9380,9419]},{"content":"[/ConfirmTrustedFile","pos":[9424,9444]},{"content":"Validates the image for Trusted Desktop on a Windows 10, Windows 8.1, or Windows 8.","pos":[9447,9530]},{"content":"This option can only be run on a computer running at least WinPE 4.0.","pos":[9531,9600]},{"content":"Example:","pos":[9604,9612]},{"content":"/Capture-Image","pos":[9675,9689]},{"content":"Captures an image of a drive to a new .wim file.","pos":[9691,9739]},{"content":"Captured directories include all subfolders and data.","pos":[9740,9793]},{"content":"You cannot capture an empty directory.","pos":[9794,9832]},{"content":"A directory must contain at least one file.","pos":[9833,9876]},{"content":"You can capture the image as a Windows image (.wim) file or a set of split Windows image (.swm) files; this option doesn’t support capturing a virtual hard disk (.vhd/.vhdx) file or a full flash update (.ffu) image.","pos":[9878,10093]},{"pos":[10095,10173],"content":"<bpt id=\"p1\">**</bpt>Important<ept id=\"p1\">**</ept> DISM will ignore extended attributes during a capture operation."},{"content":"Syntax:","pos":[10175,10182]},{"content":"Parameter","pos":[10470,10479]},{"content":"Description","pos":[10488,10499]},{"content":"/ConfigFile","pos":[10548,10559]},{"content":"Specifies the location of a configuration file that lists exclusions for image capture and compress commands.","pos":[10562,10671]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>DISM Configuration List and WimScript.ini Files<ept id=\"p1\">](dism-configuration-list-and-wimscriptini-files-winnext.md)</ept>.","pos":[10672,10807]},{"content":"/Compress","pos":[10810,10819]},{"content":"Specifies the type of compression used for the initial capture operation.","pos":[10824,10897]},{"content":"The <bpt id=\"p1\">**</bpt>maximum<ept id=\"p1\">**</ept> option provides the best compression, but takes more time to capture the image.","pos":[10898,10993]},{"content":"The <bpt id=\"p1\">**</bpt>fast<ept id=\"p1\">**</ept> option provides faster image compression, but the resulting files are larger than those compressed by using the maximum option.","pos":[10994,11134]},{"content":"This is also the default compression type that is used if you do not specify the argument.","pos":[11135,11225]},{"content":"The <bpt id=\"p1\">**</bpt>none<ept id=\"p1\">**</ept> option does not compress the captured image at all.","pos":[11226,11290]},{"content":"/Bootable","pos":[11295,11304]},{"content":"Marks a volume image as being a bootable image.","pos":[11307,11354]},{"content":"This argument is available only for WinPE images.","pos":[11355,11404]},{"content":"Only one volume image can be marked as bootable in a .wim file.","pos":[11405,11468]},{"content":"/CheckIntegrity","pos":[11472,11487]},{"content":"Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations.","pos":[11490,11593]},{"content":"/CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations.","pos":[11594,11720]},{"content":"/Verify","pos":[11725,11732]},{"content":"Checks for errors and file duplication.","pos":[11735,11774]},{"content":"/NoRpFix","pos":[11779,11787]},{"content":"Disables the reparse point tag fix.","pos":[11791,11826]},{"content":"A reparse point is a file that contains a link to another file on the file system.","pos":[11827,11909]},{"content":"If /NoRpFix is not specified, reparse points that resolve to paths outside of the value specified by /ImageFile will not be captured.","pos":[11910,12043]},{"content":"/WIMBoot","pos":[12049,12057]},{"content":"Use /WIMBoot to append the image with Windows image file boot (WIMBoot) configuration.","pos":[12060,12146]},{"content":"This only applies to Windows 8.1 images that have been captured or exported as a WIMBoot file.","pos":[12147,12241]},{"content":"This feature isn't supported in Windows 10.","pos":[12242,12285]},{"content":"Example:","pos":[12288,12296]},{"content":"/Cleanup-Mountpoints","pos":[12390,12410]},{"content":"Deletes all of the resources associated with a mounted image that has been corrupted.","pos":[12412,12497]},{"content":"This command will not unmount images that are already mounted, nor will it delete images that can be recovered using the <bpt id=\"p1\">**</bpt>/Remount-Imag<ept id=\"p1\">**</ept> command.","pos":[12498,12645]},{"content":"Example:","pos":[12648,12656]},{"pos":[12701,12771],"content":"To learn more, see <bpt id=\"p1\">[</bpt>Repair a Windows Image<ept id=\"p1\">](repair-a-windows-image.md)</ept>"},{"content":"/Commit-Image","pos":[12776,12789]},{"content":"Applies the changes that you have made to the mounted image.","pos":[12791,12851]},{"content":"The image remains mounted until the <bpt id=\"p1\">**</bpt>/Unmount-Image<ept id=\"p1\">**</ept> option is used.","pos":[12852,12922]},{"content":"Syntax:","pos":[12924,12931]},{"content":"Parameter","pos":[13036,13045]},{"content":"Description","pos":[13054,13065]},{"content":"/CheckIntegrity","pos":[13114,13129]},{"content":"Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations.","pos":[13132,13235]},{"content":"/CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations.","pos":[13236,13362]},{"content":"/Append","pos":[13367,13374]},{"content":"Adds the modified image to the existing .wim file instead of overwriting the original image.","pos":[13380,13472]},{"content":"The /CheckIntegrity and /Append arguments do not apply to virtual hard disk (VHD) files.","pos":[13473,13561]},{"content":"Example:","pos":[13565,13573]},{"content":"/Delete-Image","pos":[13640,13653]},{"content":"Deletes the specified volume image from a .wim file that has multiple volume images.","pos":[13655,13739]},{"content":"This option deletes only the metadata entries and XML entries.","pos":[13740,13802]},{"content":"It does not delete the stream data and does not optimize the .wim file.","pos":[13803,13874]},{"content":"This command-line option does not apply to virtual hard disk (VHD) files.","pos":[13876,13949]},{"content":"Syntax:","pos":[13951,13958]},{"content":"Parameter","pos":[14093,14102]},{"content":"Description","pos":[14111,14122]},{"content":"/CheckIntegrity","pos":[14171,14186]},{"content":"Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations.","pos":[14189,14292]},{"content":"/CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations.","pos":[14293,14419]},{"content":"Example:","pos":[14423,14431]},{"content":"/Export-Image","pos":[14504,14517]},{"content":"Exports a copy of the specified image to another file.","pos":[14519,14573]},{"content":"The source and destination files must use the same compression type.","pos":[14574,14642]},{"content":"You can also optimize an image by exporting to a new image file.","pos":[14643,14707]},{"content":"When you modify an image, DISM stores additional resource files that increase the overall size of the image.","pos":[14708,14816]},{"content":"Exporting the image will remove unnecessary resource files.","pos":[14817,14876]},{"content":"This command-line option does not apply to virtual hard disk (VHD) files.","pos":[14878,14951]},{"content":"Syntax:","pos":[14953,14960]},{"content":"Parameter","pos":[15242,15251]},{"content":"Description","pos":[15260,15271]},{"content":"/SWMFile","pos":[15321,15329]},{"content":"Enables you to reference split .wim files.","pos":[15337,15379]},{"content":"pattern is the naming pattern and location of split files.","pos":[15380,15438]},{"content":"You can also specify wildcard characters.","pos":[15439,15480]},{"content":"For example, \"E:\\image\\install*.swm\" will export the split files in the E:\\image directory named install1.swm, install2.swm, and so on.","pos":[15481,15616]},{"content":"/Compress","pos":[15620,15629]},{"content":"Specifies the type of compression used for the initial capture operation.","pos":[15632,15705]},{"content":"The /Compress argument does not apply when you export an image to an existing .wim file, you can only use this argument when you export an image to a new .wim file.","pos":[15706,15870]},{"content":"The <bpt id=\"p1\">**</bpt>maximum<ept id=\"p1\">**</ept> option provides the best compression, but takes more time to capture the image.","pos":[15871,15966]},{"content":"The <bpt id=\"p1\">**</bpt>fast<ept id=\"p1\">**</ept> option provides faster image compression, but the resulting files are larger than those compressed by using the <bpt id=\"p2\">**</bpt>maximum<ept id=\"p2\">**</ept> option.","pos":[15967,16111]},{"content":"This is also the default compression type that is used if you do not specify the argument.","pos":[16112,16202]},{"content":"Use the <bpt id=\"p1\">**</bpt>recovery<ept id=\"p1\">**</ept> option to export push-button reset images.","pos":[16203,16266]},{"content":"The resulting files are much smaller in size, which in turn, greatly reduce the amount of disk space needed for saving the push-button reset image on a recovery drive.","pos":[16267,16434]},{"content":"The destination file must be specified with an .esd extension.","pos":[16435,16497]},{"content":"The <bpt id=\"p1\">**</bpt>none<ept id=\"p1\">**</ept> option does not compress the captured image at all.","pos":[16498,16562]},{"content":"/Bootable","pos":[16567,16576]},{"content":"Marks a volume image as being a bootable image.","pos":[16579,16626]},{"content":"This argument is available only for WinPE images.","pos":[16627,16676]},{"content":"Only one volume image can be marked as bootable in a .wim file.","pos":[16677,16740]},{"content":"/WIMBoot","pos":[16746,16754]},{"content":"Use /WIMBoot to append the image with Windows image file boot (WIMBoot) configuration.","pos":[16757,16843]},{"content":"This only applies to Windows 8.1 images that have been captured or exported as a WIMBoot file.","pos":[16844,16938]},{"content":"This feature isn't supported in Windows 10.","pos":[16939,16982]},{"content":"/CheckIntegrity","pos":[16986,17001]},{"content":"Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations.","pos":[17004,17107]},{"content":"/CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations.","pos":[17108,17234]},{"content":"Example:","pos":[17238,17246]},{"content":"/Get-MountedImageInfo","pos":[17366,17387]},{"content":"Lists the images that are currently mounted and information about the mounted image such as whether the image is valid, read/write permissions, mount location, mounted file path, and mounted image index.","pos":[17389,17592]},{"content":"Example:","pos":[17594,17602]},{"content":"/Get-ImageInfo","pos":[17651,17665]},{"content":"Displays information about the images that are contained in the .wim, vhd or .vhdx file.","pos":[17667,17755]},{"content":"When used with the /Index or /Name argument, information about the specified image is displayed, which includes if an image is a WIMBoot image, if the image is Windows 8.1, see Take Inventory of an Image or Component Using DISM.","pos":[17756,17984]},{"content":"The /Name argument does not apply to VHD files.","pos":[17985,18032]},{"content":"You must specify /Index:1 for VHD files.","pos":[18033,18073]},{"content":"Syntax:","pos":[18075,18082]},{"content":"Examples:","pos":[18198,18207]},{"content":"/Get-WIMBootEntry","pos":[18371,18388]},{"content":"Use /Get-WIMBootEntry to display WIMBoot configuration entries for the specified disk volume.","pos":[18390,18483]},{"content":"For more information about how to display WIMBoot configuration entries, see Take Inventory of an Image or Component Using DISM.","pos":[18485,18613]},{"content":"This only applies to Windows 8.1; this feature isn't supported in Windows 10.","pos":[18615,18692]},{"content":"Syntax:","pos":[18694,18701]},{"content":"Example:","pos":[18762,18770]},{"content":"/List-Image","pos":[18825,18836]},{"content":"Displays a list of the files and folders in a specified image.","pos":[18838,18900]},{"content":"This command-line option does not apply to virtual hard disk (VHD) files.","pos":[18902,18975]},{"content":"Syntax:","pos":[18977,18984]},{"content":"Example:","pos":[19095,19103]},{"content":"/Mount-Image","pos":[19174,19186]},{"content":"Mounts an image from a .wim, .vhd or .vhdx file to the specified directory so that it is available for servicing.","pos":[19188,19301]},{"content":"An index or name value is required for most operations that specify a .wim file.","pos":[19302,19382]},{"content":"Syntax:","pos":[19385,19392]},{"content":"Parameter","pos":[19586,19595]},{"content":"Description","pos":[19604,19615]},{"content":"/ReadOnly","pos":[19664,19673]},{"content":"Sets the mounted image with read-only permissions.","pos":[19677,19727]},{"content":"Optional.","pos":[19728,19737]},{"content":"/Optimize","pos":[19742,19751]},{"content":"Reduces initial mount time.","pos":[19756,19783]},{"content":"/CheckIntegrity","pos":[19788,19803]},{"content":"Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations.","pos":[19806,19909]},{"content":"/CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations.","pos":[19910,20036]},{"content":"Examples:","pos":[20040,20049]},{"content":"/Optimize-Image /WIMBoot","pos":[20279,20303]},{"content":"Performs specified configurations to an offline image.","pos":[20305,20359]},{"content":"Parameter","pos":[20365,20374]},{"content":"Description","pos":[20383,20394]},{"content":"/WIMBoot","pos":[20443,20451]},{"content":"configure an offline image for installing on a Windows image file boot (WIMBoot) system.","pos":[20455,20543]},{"content":"/Optimize","pos":[20548,20557]},{"content":"Reduces initial mount time.","pos":[20562,20589]},{"content":"/Optimize-Image /WIMBoot only applies to Windows 8.1 images that have been captured or exported as a WIMBoot file.","pos":[20590,20704]},{"content":"Only use /Optimize-Image with images that will be used for WIMBoot supported systems.","pos":[20705,20790]},{"content":"If /Optimize-Image is used with a non-WIMBoot supported system image, Windows may not work as expected, after installation on a non-WIMBoot supported device.","pos":[20791,20948]},{"content":"Example:","pos":[20952,20960]},{"content":"/Remount-Image","pos":[21035,21049]},{"content":"Remounts a mounted image that has become inaccessible and makes it available for servicing.","pos":[21051,21142]},{"content":"Syntax:","pos":[21144,21151]},{"content":"Example:","pos":[21226,21234]},{"content":"/Split-Image","pos":[21301,21313]},{"content":"For WIM, this command splits an existing .wim file into multiple read-only split .swm files.","pos":[21315,21407]},{"content":"This option creates the .swm files in the specified directory, naming each file the same as the specified <bpt id=\"p1\">*</bpt>path_to_swm<ept id=\"p1\">*</ept>, but with an appended number.","pos":[21409,21558]},{"content":"For example, if you set <bpt id=\"p1\">*</bpt>path_to_swm<ept id=\"p1\">*</ept> as <ph id=\"ph1\">`c:\\Data.swm`</ph>, this option creates a Data.swm file, a Data2.swm file, a Data3.swm file, and so on, defining each portion of the split .wim file and saving it to the C:\\ directory.","pos":[21559,21779]},{"content":"This command-line option does not apply to virtual hard disk (VHD) files.","pos":[21781,21854]},{"content":"For FFU, this command splits an existing full-flash update (.ffu) file into multiple read-only split .sfu files.","pos":[21856,21968]},{"content":"The /Split-Ffu option applies only to Windows 10 for desktop editions.","pos":[21970,22040]},{"content":"This option creates the .sfu files in the specified directory, naming each file the same as the specified /SFUFile, but with an appended number.","pos":[22042,22186]},{"content":"For example, if you use <ph id=\"ph1\">`c:\\flash.sfu`</ph>, you'll get a flash.sfu file, a flash2.ffu file, a flash3.sfu file, and so on, defining each portion of the split .sfu file and saving it to the C:\\ directory.","pos":[22187,22385]},{"content":"Syntax for WIM:","pos":[22387,22402]},{"content":"Syntax for FFU:","pos":[22531,22546]},{"content":"Parameter","pos":[22655,22664]},{"content":"Description","pos":[22673,22684]},{"content":"/FileSize","pos":[22733,22742]},{"content":"Specifies the maximum size in megabytes (MB) for each created file.","pos":[22749,22816]},{"content":"If a single file is larger than the value specified in the /FileSize option, one of the split .swm files that results will be larger than the value specified in the /FileSize option, in order to accommodate the large file.","pos":[22817,23039]},{"content":"/CheckIntegrity","pos":[23045,23060]},{"content":"Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations.","pos":[23063,23166]},{"content":"/CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations.","pos":[23167,23293]},{"content":"/ImageFile","pos":[23298,23308]},{"content":"Specifies the path of a .FFU file, example: flash.ffu.","pos":[23312,23366]},{"content":"/SFUFile","pos":[23372,23380]},{"content":"References split FFU files (SFUs).","pos":[23384,23418]},{"content":"<bpt id=\"p1\">*</bpt>Pattern<ept id=\"p1\">*</ept> is the naming pattern and location of split files.","pos":[23419,23479]},{"content":"Examples:","pos":[23481,23490]},{"content":"/Unmount-Image","pos":[23675,23689]},{"content":"Unmounts the .wim, .vhd or .vhdx file and either commits or discards the changes that were made when the image was mounted.","pos":[23692,23815]},{"content":"You must use either the /commit or /discard argument when you use the /Unmount-Image option.","pos":[23817,23909]},{"content":"Syntax:","pos":[23911,23918]},{"content":"Parameter","pos":[24046,24055]},{"content":"Description","pos":[24064,24075]},{"content":"/CheckIntegrity","pos":[24124,24139]},{"content":"Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations.","pos":[24142,24245]},{"content":"/CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations.","pos":[24246,24372]},{"content":"/Append","pos":[24377,24384]},{"content":"Adds the modified image to the existing .wim file instead of overwriting the original image.","pos":[24390,24482]},{"content":"The /CheckIntegrity and /Append arguments do not apply to virtual hard disk (VHD) files.","pos":[24483,24571]},{"content":"Examples:","pos":[24575,24584]},{"content":"/Update-WIMBootEntry","pos":[24730,24750]},{"content":"Updates the WIMBoot configuration entry, associated with the specified data source ID, with the renamed image file or moved image file path.","pos":[24752,24892]},{"pos":[24894,24983],"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept> /Update-WIMBootEntry requires a restart in order for any updates to take effect."},{"content":"Syntax:","pos":[24985,24992]},{"content":"Parameter","pos":[25116,25125]},{"content":"Description","pos":[25134,25145]},{"content":"/Path","pos":[25194,25199]},{"content":"Specifies the disk volume of the WIMBoot configuration.","pos":[25202,25257]},{"content":"/DataSourceID","pos":[25263,25276]},{"content":"Specifies the data source ID as displayed by /Get-WIMBootEntry.","pos":[25280,25343]},{"content":"Example:","pos":[25347,25355]},{"pos":[25491,25505],"content":"Related topics"},{"content":"DISM - Deployment Image Servicing and Management Technical Reference for Windows","pos":[25509,25589]},{"content":"What is DISM?","pos":[25678,25691]},{"content":"DISM Global Options for Command-Line Syntax","pos":[25712,25755]},{"content":"Deploy Windows using Full Flash Update (FFU)","pos":[25807,25851]},{"content":"WIM vs. VHD vs. FFU: comparing image file formats","pos":[25903,25952]}],"content":"---\nauthor: Justinha\nDescription: 'DISM Image Management Command-Line Options'\nms.assetid: a6382d83-5748-4b08-9d9a-46ff576bac54\nMSHAttr: 'PreferredLib:/library/windows/hardware'\ntitle: 'DISM Image Management Command-Line Options'\n---\n\n# DISM Image Management Command-Line Options\n\n\nDeployment Image Servicing and Management (DISM.exe) mounts a Windows image (.wim) file or virtual hard disk (.vhd or .vhdx) for servicing. You can also use the DISM image management command to list the image index numbers, to verify the architecture for the image that you are mounting, append an image, apply an image, capture an image and delete an image. After you update the image, you must unmount it and either commit or discard the changes that you have made.\n\nThis topic discusses DISM commands related to image management. To see other command-line options, see [Deployment Image Servicing and Management (DISM) Command-Line Options](deployment-image-servicing-and-management--dism--command-line-options.md). For more information about common DISM scenarios, see [What is DISM?](what-is-dism.md).\n\nIn addition to the command-line tool, DISM is available by using Windows PowerShell. For more information, see [Deployment Imaging Servicing Management (DISM) Cmdlets in Windows PowerShell](http://go.microsoft.com/fwlink/?LinkId=239926).\n\nThe following commands can be used to mount, unmount, capture, append, and delete and query .wim, .vhd and .vhdx files. These options are not case sensitive.\n\n## /Append-Image\n\nAdds an additional image to a .wim file. **/AppendImage** compares new files to the resources in the existing .wim file specified by the **/ImageFile** argument, and stores only a single copy of each unique file so that each file is only captured once. The .wim file can have only one assigned compression type. Therefore, you can only append files with the same compression type.\n\nThis command-line option does not apply to virtual hard disk (VHD) files.\n\n**Important**  \n\nEnsure that you have enough disk space for the **/Append-Image** option to run. If you run out of disk space while the image is being appended, you might corrupt the .wim file.\n\nSyntax:\n\n``` syntax\nDISM.exe /Append-Image /ImageFile:<path_to_image_file> /CaptureDir:<source_directory> /Name:<image_name> [/Description:<image_description>] [/ConfigFile:<configurtion_file.ini>] [/Bootable] /WIMBoot [/CheckIntegrity] [/Verify] [/NoRpFix]\n```\n\n|   Parameter     |   Description     |\n|-----------------|-------------------|\n|   /WIMBoot | Use /WIMBoot to append the image with Windows image file boot (WIMBoot) configuration. This only applies to Windows 8.1 images that have been captured or exported as a WIMBoot file. This feature isn't supported in Windows 10.|\n| /ConfigFile | specifies the location of a configuration file that lists exclusions for image capture and compress commands. For more information, see [DISM Configuration List and WimScript.ini Files](dism-configuration-list-and-wimscriptini-files-winnext.md). |\n| /Bootable | Marks a volume image as being a bootable image. This argument is available only for Windows Preinstallation Environment (WinPE) images. Only one volume image can be marked as bootable in a .wim file.|\n| /CheckIntegrity | Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations. /CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations. |\n| /Verify |  Checks for errors and file duplication. |\n| /NoRpFix  | Disables the reparse point tag fix. A reparse point is a file that contains a link to another file on the file system. If /NoRpFix is not specified, reparse points that resolve to paths outside of the value specified by /ImageFile will not be captured.|\n\nExample:\n\n``` syntax\nDism /Append-Image /ImageFile:install.wim /CaptureDir:D:\\ /Name:Drive-D\n```\n\n## /Apply-Image\n\nFor WIM, this command applies a Windows image file (.wim) or a split Windows image (.swm) files to a specified partition. \n\nFor FFU, this command applies a full flash update (.ffu) image to a specified drive. It doesn’t support applying an image from a virtual hard disk (.vhdx) file, though you can use this command to apply a full image to a VHD. FFU applies to Windows 10 only.\n\nThis option doesn’t support applying an image from a virtual hard disk (VHD), though you can use this command to apply images to a .vhdx file that's been attached, partitioned, and formatted.\n\nArguments for WIM:\n\n``` syntax\nDISM.exe /Apply-Image /ImageFile:<path_to_image_file> [/SWMFile:<pattern>] /ApplyDir:<target_directory> {/Index:< image_index> | /Name:<image_name>} [/CheckIntegrity] [/Verify] [/NoRpFix] [/ConfirmTrustedFile] [/WIMBoot (deprecated)] [/Compact]\n```\n\nArguments for FFU\n\n``` syntax\nDISM.exe /Apply-Image /ImageFile:<path_to_image_file> /ApplyDrive:<target_drive> [/SFUFile:<pattern>] [/SkipPlatformCheck]\n```\n\n|   Parameter     |   Description     |\n|-----------------|-------------------|\n| /CheckIntegrity | Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations. /CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations. |\n| /Verify | Checks for errors and file duplication. |\n| /NoRpFix | Disables the reparse point tag fix. A reparse point is a file that contains a link to another file on the file system. If /NoRpFix is not specified, reparse points that resolve to paths outside the value specified by /ImageFile will not be captured. |\n| /SWMFile | Enables you to reference split .wim files (SWMs). *Pattern* is the naming pattern and location of split files. You can also specify wildcard characters. For example, \"E:\\image\\install.swm\" will apply all of the split files in the E:\\image directory named install1.swm, install2.swm, and so on. |\n| /ConfirmTrustedFile | Validates the image for Trusted Desktop on a Windows 10, Windows 8.1, or Windows 8. This option can only be run on a computer running at least WinPE 4.0. When using /Apply-Image with the /ConfirmTrustedFile option in WinPE, always specify the /ScratchDir option pointed to a physical media location. This ensures that short file names will always be available. See [DISM Global Options for Command-Line Syntax](dism-global-options-for-command-line-syntax.md) for more information about the default behavior of the /ScratchDir option. |\n|   /WIMBoot | Use /WIMBoot to append the image with Windows image file boot (WIMBoot) configuration. This only applies to Windows 8.1 images that have been captured or exported as a WIMBoot file. This feature isn't supported in Windows 10.|\n| /Compact | Applies an image in compact mode, saving drive space. Replaces WIMBoot. For Windows 10 for desktop editions (Home, Pro, Enterprise, and Education) only. \n| /ApplyDrive  | Specifies the logical drive, using the DeviceID. to get the device ID from the command line, type \"wmic diskdrive list brief\". Note: a VHD may appear with the name “PhysicalDrive” in the description, for example, \\.\\PhysicalDrive2.|\n| /SFUFile  | Use /SFUFile to reference split FFU files (SFUs). *Pattern* is the naming pattern and location of split files. |\n|  /SkipPlatformCheck | Use /SkipPlatformCheck if the FFU file being applied is targeted for a device other than the device performing the application. A special FFU file is required. |\n\nExamples:\n\n``` syntax\nDism /apply-image /imagefile:install.wim /index:1 /ApplyDir:D:\\\n```\n\n``` syntax\nDism /apply-image /imagefile:install.swm /swmfile:install.swm /index:1 /applydir:D:\n```\n\n``` syntax\nDISM.exe /Apply-Ffu /ImageFile:flash.ffu /ApplyDrive:\\\\.\\PhysicalDrive0\n```\n\n``` syntax\nDISM.exe /Apply-Ffu /ImageFile:flash.sfu /SFUFile:flash*.sfu /ApplyDrive:\\\\.\\PhysicalDrive0\n```\n\n## /Capture-CustomImage\n\nCaptures the incremental file changes based on the specific install.wim file to a new file, custom.wim for a WIMBoot image. You can’t capture an empty directory. The captured files are converted to pointer files. The custom.wim is placed in the same folder next to the install.wim.\n\n**Important**\n\n- /Capture-CustomImage only captures the customization files. It can’t be used to capture installation files into a new WIM.\n- Keep the install.wim and custom.wim files together. Don't switch out either the custom.wim file or the install.wim file.\n- You can only capture the custom image once. Don’t remove or recapture a custom.wim after capturing the incremental file changes.\n\nSyntax: \n\n``` syntax\nDism /Capture-CustomImage /CaptureDir:<source_directory> [/ConfigFile:<configuration_file.ini>] [/CheckIntegrity] [/Verify] [/ConfirmTrustedFile]\n```\n\n|   Parameter     |   Description     |\n|-----------------|-------------------|\n| /CaptureDir | Specifies the directory to which the image was applied and customized. |\n| /ConfigFile | Specifies the location of a configuration file that lists exclusions for image capture and compress commands. For more information, see [DISM Configuration List and WimScript.ini Files](dism-configuration-list-and-wimscriptini-files-winnext.md).\n| /CheckIntegrity | Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations. /CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations. |\n| /Verify | Checks for errors and file duplication. |\n| [/ConfirmTrustedFile | Validates the image for Trusted Desktop on a Windows 10, Windows 8.1, or Windows 8. This option can only be run on a computer running at least WinPE 4.0. |\n\nExample:\n\n``` syntax\nDism /Capture-CustomImage /CaptureDir:D:\\\n```\n\n## /Capture-Image\n\nCaptures an image of a drive to a new .wim file. Captured directories include all subfolders and data. You cannot capture an empty directory. A directory must contain at least one file.\n\nYou can capture the image as a Windows image (.wim) file or a set of split Windows image (.swm) files; this option doesn’t support capturing a virtual hard disk (.vhd/.vhdx) file or a full flash update (.ffu) image.\n\n**Important**\nDISM will ignore extended attributes during a capture operation.\n\nSyntax:\n\n``` syntax\nDism /Capture-Image /ImageFile:<path_to_image_file> /CaptureDir:<source_directory> /Name:<image_name> [/Description:<image_description>]\n[/ConfigFile:<configuration_file.ini>] [/Compress:{max|fast|none}] [/Bootable] [/CheckIntegrity] [/Verify] [/NoRpFix] [/WIMBoot]\n```\n\n|   Parameter     |   Description     |\n|-----------------|-------------------|\n| /ConfigFile | Specifies the location of a configuration file that lists exclusions for image capture and compress commands. For more information, see [DISM Configuration List and WimScript.ini Files](dism-configuration-list-and-wimscriptini-files-winnext.md).\n| /Compress |   Specifies the type of compression used for the initial capture operation. The **maximum** option provides the best compression, but takes more time to capture the image. The **fast** option provides faster image compression, but the resulting files are larger than those compressed by using the maximum option. This is also the default compression type that is used if you do not specify the argument. The **none** option does not compress the captured image at all. |\n| /Bootable | Marks a volume image as being a bootable image. This argument is available only for WinPE images. Only one volume image can be marked as bootable in a .wim file.|\n| /CheckIntegrity | Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations. /CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations. |\n| /Verify | Checks for errors and file duplication. |\n| /NoRpFix  | Disables the reparse point tag fix. A reparse point is a file that contains a link to another file on the file system. If /NoRpFix is not specified, reparse points that resolve to paths outside of the value specified by /ImageFile will not be captured.|\n|   /WIMBoot | Use /WIMBoot to append the image with Windows image file boot (WIMBoot) configuration. This only applies to Windows 8.1 images that have been captured or exported as a WIMBoot file. This feature isn't supported in Windows 10.|\n\nExample:\n\n``` syntax\nDism /Capture-Image /ImageFile:install.wim /CaptureDir:D:\\ /Name:Drive-D\n```\n\n## /Cleanup-Mountpoints\n\nDeletes all of the resources associated with a mounted image that has been corrupted. This command will not unmount images that are already mounted, nor will it delete images that can be recovered using the **/Remount-Imag** command. \n\nExample: \n\n``` syntax\nDism /Cleanup-Mountpoints\n```\n\nTo learn more, see [Repair a Windows Image](repair-a-windows-image.md)\n\n## /Commit-Image\n\nApplies the changes that you have made to the mounted image. The image remains mounted until the **/Unmount-Image** option is used.\n\nSyntax:\n\n``` syntax\nDism /Commit-Image /MountDir:<path_to_mount_directory> [/CheckIntegrity] [/Append]\n```\n\n|   Parameter     |   Description     |\n|-----------------|-------------------|\n| /CheckIntegrity | Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations. /CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations. |\n| /Append   |  Adds the modified image to the existing .wim file instead of overwriting the original image. The /CheckIntegrity and /Append arguments do not apply to virtual hard disk (VHD) files. |\n\nExample: \n\n``` syntax\nDism /Commit-Image /MountDir:C:\\test\\offline\n```\n\n## /Delete-Image\n\nDeletes the specified volume image from a .wim file that has multiple volume images. This option deletes only the metadata entries and XML entries. It does not delete the stream data and does not optimize the .wim file.\n\nThis command-line option does not apply to virtual hard disk (VHD) files.\n\nSyntax:\n\n``` syntax\nDism /Delete-Image /ImageFile:<path_to_image_file> {/Index:<image_index> | /Name:<image_name>} [/CheckIntegrity]\n```\n\n|   Parameter     |   Description     |\n|-----------------|-------------------|\n| /CheckIntegrity | Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations. /CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations. |\n\nExample: \n\n``` syntax\nDism /Delete-Image /ImageFile:install.wim /Index:1\n```\n\n## /Export-Image\n\nExports a copy of the specified image to another file. The source and destination files must use the same compression type. You can also optimize an image by exporting to a new image file. When you modify an image, DISM stores additional resource files that increase the overall size of the image. Exporting the image will remove unnecessary resource files.\n\nThis command-line option does not apply to virtual hard disk (VHD) files.\n\nSyntax:\n\n``` syntax\nDism /Export-Image /SourceImageFile:<path_to_image_file> {/SourceIndex:<image_index> | /SourceName:<image_name>} /DestinationImageFile:<path_to_image_file> [/DestinationName:<Name>] [/Compress:{fast|max|none|recovery}] [/Bootable] [/WIMBoot] [/CheckIntegrity]\n```\n\n|   Parameter     |   Description     |\n|-----------------|-------------------|\n|  /SWMFile     |  Enables you to reference split .wim files. pattern is the naming pattern and location of split files. You can also specify wildcard characters. For example, \"E:\\image\\install*.swm\" will export the split files in the E:\\image directory named install1.swm, install2.swm, and so on.|\n| /Compress | Specifies the type of compression used for the initial capture operation. The /Compress argument does not apply when you export an image to an existing .wim file, you can only use this argument when you export an image to a new .wim file. The **maximum** option provides the best compression, but takes more time to capture the image. The **fast** option provides faster image compression, but the resulting files are larger than those compressed by using the **maximum** option. This is also the default compression type that is used if you do not specify the argument. Use the **recovery** option to export push-button reset images. The resulting files are much smaller in size, which in turn, greatly reduce the amount of disk space needed for saving the push-button reset image on a recovery drive. The destination file must be specified with an .esd extension. The **none** option does not compress the captured image at all. |\n| /Bootable | Marks a volume image as being a bootable image. This argument is available only for WinPE images. Only one volume image can be marked as bootable in a .wim file.|\n|   /WIMBoot | Use /WIMBoot to append the image with Windows image file boot (WIMBoot) configuration. This only applies to Windows 8.1 images that have been captured or exported as a WIMBoot file. This feature isn't supported in Windows 10.|\n| /CheckIntegrity | Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations. /CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations. |\n\nExample: \n\n``` syntax\nDism /Export-Image /SourceImageFile:install.wim /SourceIndex:1 /DestinationImageFile:install2.wim\n```\n\n## /Get-MountedImageInfo\n\nLists the images that are currently mounted and information about the mounted image such as whether the image is valid, read/write permissions, mount location, mounted file path, and mounted image index.\n\nExample: \n\n``` syntax\nDism /Get-MountedImageInfo\n```\n\n## /Get-ImageInfo\n\nDisplays information about the images that are contained in the .wim, vhd or .vhdx file. When used with the /Index or /Name argument, information about the specified image is displayed, which includes if an image is a WIMBoot image, if the image is Windows 8.1, see Take Inventory of an Image or Component Using DISM. The /Name argument does not apply to VHD files. You must specify /Index:1 for VHD files.\n\nSyntax: \n\n``` syntax\nDism /Get-ImageInfo /ImageFile:<path_to_image.wim> [{/Index:<Image_index> | /Name:<Image_name>}]\n```\n\nExamples: \n\n``` syntax\nDism /Get-ImageInfo /ImageFile:C:\\test\\offline\\install.wim\n```\n\n``` syntax\nDism /Get-ImageInfo /ImageFile:C:\\test\\images\\myimage.vhd /Index:1\n```\n\n## /Get-WIMBootEntry\n\nUse /Get-WIMBootEntry to display WIMBoot configuration entries for the specified disk volume.\n\nFor more information about how to display WIMBoot configuration entries, see Take Inventory of an Image or Component Using DISM.\n\nThis only applies to Windows 8.1; this feature isn't supported in Windows 10.\n\nSyntax:\n\n``` syntax\nDism /Get-WIMBootEntry /Path:<volume_path>\n```\n\nExample: \n\n``` syntax\nDism /Get-WIMBootEntry /Path:C:\\\n```\n\n## /List-Image\n\nDisplays a list of the files and folders in a specified image.\n\nThis command-line option does not apply to virtual hard disk (VHD) files.\n\nSyntax:\n\n``` syntax\nDism /List-Image /ImageFile:<path_to_image_file> {/Index:<image_index> | /Name:<image_name>}\n```\n\nExample: \n\n``` syntax\nDism /List-Image /ImageFile:install.wim /Index:1\n```\n\n## /Mount-Image\n\nMounts an image from a .wim, .vhd or .vhdx file to the specified directory so that it is available for servicing. An index or name value is required for most operations that specify a .wim file. \n\nSyntax:\n\n``` syntax\nDism /Mount-Image /ImageFile:<path_to_image_file> {/Index:<image_index> | /Name:<image_name>} /MountDir:<path_to_mount_directory> [/ReadOnly] [/Optimize] [/CheckIntegrity]\n```\n\n|   Parameter     |   Description     |\n|-----------------|-------------------|\n| /ReadOnly  | Sets the mounted image with read-only permissions. Optional. |\n| /Optimize |   Reduces initial mount time. |\n| /CheckIntegrity | Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations. /CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations. |\n\nExamples: \n\n``` syntax\nDism /Mount-Image /ImageFile:C:\\test\\images\\myimage.wim /index:1 /MountDir:C:\\test\\offline\n```\n\n``` syntax\nDism /Mount-Image /ImageFile:C:\\test\\images\\myimage.vhd /index:1 /MountDir:C:\\test\\offline /ReadOnly\n```\n\n## /Optimize-Image /WIMBoot\n\nPerforms specified configurations to an offline image.\n\n|   Parameter     |   Description     |\n|-----------------|-------------------|\n| /WIMBoot  | configure an offline image for installing on a Windows image file boot (WIMBoot) system. |\n| /Optimize |   Reduces initial mount time. /Optimize-Image /WIMBoot only applies to Windows 8.1 images that have been captured or exported as a WIMBoot file. Only use /Optimize-Image with images that will be used for WIMBoot supported systems. If /Optimize-Image is used with a non-WIMBoot supported system image, Windows may not work as expected, after installation on a non-WIMBoot supported device. |\n\nExample: \n\n``` syntax\nDism /Image:C:\\test\\offline /Optimize-Image /WIMBoot\n```\n\n## /Remount-Image\n\nRemounts a mounted image that has become inaccessible and makes it available for servicing.\n\nSyntax: \n\n``` syntax\nDism /Remount-Image /MountDir:<path_to_mount_directory>\n```\n\nExample:\n\n``` syntax\nDism /Remount-Image /MountDir:C:\\test\\offline\n```\n\n## /Split-Image\n\nFor WIM, this command splits an existing .wim file into multiple read-only split .swm files.\n\nThis option creates the .swm files in the specified directory, naming each file the same as the specified *path_to_swm*, but with an appended number. For example, if you set *path_to_swm* as `c:\\Data.swm`, this option creates a Data.swm file, a Data2.swm file, a Data3.swm file, and so on, defining each portion of the split .wim file and saving it to the C:\\ directory.\n\nThis command-line option does not apply to virtual hard disk (VHD) files.\n\nFor FFU, this command splits an existing full-flash update (.ffu) file into multiple read-only split .sfu files.\n\nThe /Split-Ffu option applies only to Windows 10 for desktop editions.\n\nThis option creates the .sfu files in the specified directory, naming each file the same as the specified /SFUFile, but with an appended number. For example, if you use `c:\\flash.sfu`, you'll get a flash.sfu file, a flash2.ffu file, a flash3.sfu file, and so on, defining each portion of the split .sfu file and saving it to the C:\\ directory.\n\nSyntax for WIM:\n\n``` syntax\nDism /Split-Image /ImageFile:<path_to_image_file> /SWMFile:<path_to_swm> /FileSize:<MB-Size> [/CheckIntegrity]\n```\n\nSyntax for FFU:\n\n``` syntax\nDism /Split-Ffu /ImageFile:<path_to_image_file> /SFUFile:<pattern> /FileSize:<MB-Size>\n```\n\n|   Parameter     |   Description     |\n|-----------------|-------------------|\n| /FileSize     | Specifies the maximum size in megabytes (MB) for each created file. If a single file is larger than the value specified in the /FileSize option, one of the split .swm files that results will be larger than the value specified in the /FileSize option, in order to accommodate the large file.  |\n| /CheckIntegrity | Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations. /CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations. |\n| /ImageFile  | Specifies the path of a .FFU file, example: flash.ffu. |\n|  /SFUFile  | References split FFU files (SFUs). *Pattern* is the naming pattern and location of split files.\n\nExamples:\n\n``` syntax\nDism /Split-Image /ImageFile:install.wim /SWMFile:split.swm /FileSize:650\n```\n\n``` syntax\nDISM.exe /Split-Ffu /ImageFile:flash.ffu /SFUFile:flash.sfu /FileSize:650\n```\n\n## /Unmount-Image \n\nUnmounts the .wim, .vhd or .vhdx file and either commits or discards the changes that were made when the image was mounted.\n\nYou must use either the /commit or /discard argument when you use the /Unmount-Image option.\n\nSyntax: \n\n``` syntax\nDism /Unmount-Image /MountDir:<path_to_mount_directory> {/Commit | /Discard} [/CheckIntegrity] [/Append]\n```\n\n|   Parameter     |   Description     |\n|-----------------|-------------------|\n| /CheckIntegrity | Detects and tracks .wim file corruption when used with capture, unmount, export, and commit operations. /CheckIntegrity stops the operation if DISM detects that the .wim file is corrupted when used with apply and mount operations. |\n| /Append   |  Adds the modified image to the existing .wim file instead of overwriting the original image. The /CheckIntegrity and /Append arguments do not apply to virtual hard disk (VHD) files. |\n\nExamples:\n\n``` syntax\nDism /Unmount-Image /MountDir:C:\\test\\offline /commit\n```\n\n``` syntax\nDism /Unmount-Image /MountDir:C:\\test\\offline /discard\n```\n\n## /Update-WIMBootEntry\n\nUpdates the WIMBoot configuration entry, associated with the specified data source ID, with the renamed image file or moved image file path.\n\n**Note**\n/Update-WIMBootEntry requires a restart in order for any updates to take effect.\n\nSyntax:\n\n```\nDism /Update-WIMBootEntry /Path:<Volume_path> /DataSourceID:<Data_source_id> /ImageFile:<Renamed_image_path>\n```\n\n|   Parameter     |   Description     |\n|-----------------|-------------------|\n| /Path | Specifies the disk volume of the WIMBoot configuration. |\n|  /DataSourceID  | Specifies the data source ID as displayed by /Get-WIMBootEntry. |\n\nExample:\n\n``` syntax\nDISM.exe /Update-WIMBootEntry /Path:C:\\ /DataSourceID:0 /ImageFile:R:\\Install.wim\n```\n\n## <span id=\"related_topics\"></span>Related topics\n\n\n[DISM - Deployment Image Servicing and Management Technical Reference for Windows](dism---deployment-image-servicing-and-management-technical-reference-for-windows.md)\n\n[What is DISM?](what-is-dism.md)\n\n[DISM Global Options for Command-Line Syntax](dism-global-options-for-command-line-syntax.md)\n\n[Deploy Windows using Full Flash Update (FFU)](deploy-windows-using-full-flash-update--ffu.md)\n\n[WIM vs. VHD vs. FFU: comparing image file formats](wim-vs-ffu-image-file-formats.md)\n"}