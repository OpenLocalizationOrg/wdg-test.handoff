{"nodes":[{"content":"Configure Windows Server Roles","pos":[34,64]},{"content":"Configure Windows Server Roles","pos":[171,201]},{"content":"Configure Windows Server Roles","pos":[209,239]},{"content":"To configure one or more Server Roles during an unattended installation, you can use the PowerShell or Server Manager command-line tool.","pos":[242,378]},{"content":"For more information about Server Roles, see this <bpt id=\"p1\">[</bpt>Microsoft Web site<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=140100)</ept>.","pos":[379,497]},{"content":"You can create <ph id=\"ph1\">`FirstLogonCommands`</ph> in your answer file that specifies the proper parameters for the server role you want to configure.","pos":[499,634]},{"content":"The <ph id=\"ph1\">`FirstLogonCommands`</ph> setting is configured in the <bpt id=\"p1\">[</bpt>oobeSystem<ept id=\"p1\">](oobesystem.md)</ept> configuration pass.","pos":[635,736]},{"content":"The <ph id=\"ph1\">`FirstLogonCommands`</ph> setting is run immediately after a user logs onto the computer and before the desktop is displayed.","pos":[737,861]},{"content":"Note","pos":[865,869]},{"content":"You must run PowerShell and Server Manager commands from an account with administrator privileges.","pos":[874,972]},{"pos":[977,1152],"content":"For more information about adding the <ph id=\"ph1\">`FirstLogonCommands`</ph> setting, see <bpt id=\"p1\">[</bpt>Add a Custom Command to an Answer File<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/hardware/dn915058)</ept>."},{"content":"The following example shows the PowerShell.exe syntax for installing the ServerManager module and the DHCP, FAX, DNS, and File-Services roles.","pos":[1154,1296]},{"content":"Note","pos":[1640,1644]},{"content":"Not all server roles support Sysprep.","pos":[1649,1686]},{"content":"You must configure some server roles after imaging and deployment.","pos":[1687,1753]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Sysprep Support for Server Roles<ept id=\"p1\">](sysprep-support-for-server-roles.md)</ept>.","pos":[1754,1852]},{"pos":[1893,1907],"content":"Related topics"},{"content":"Windows Deployment Options","pos":[1911,1937]}],"content":"---\nauthor: Justinha\nDescription: Configure Windows Server Roles\nms.assetid: c7ad0ffa-30a5-4fb3-9e69-b70fed86b694\nMSHAttr: 'PreferredLib:/library/windows/hardware'\ntitle: Configure Windows Server Roles\n---\n\n# Configure Windows Server Roles\n\n\nTo configure one or more Server Roles during an unattended installation, you can use the PowerShell or Server Manager command-line tool. For more information about Server Roles, see this [Microsoft Web site](http://go.microsoft.com/fwlink/?LinkId=140100).\n\nYou can create `FirstLogonCommands` in your answer file that specifies the proper parameters for the server role you want to configure. The `FirstLogonCommands` setting is configured in the [oobeSystem](oobesystem.md) configuration pass. The `FirstLogonCommands` setting is run immediately after a user logs onto the computer and before the desktop is displayed.\n\n**Note**  \nYou must run PowerShell and Server Manager commands from an account with administrator privileges.\n\n \n\nFor more information about adding the `FirstLogonCommands` setting, see [Add a Custom Command to an Answer File](https://msdn.microsoft.com/library/windows/hardware/dn915058).\n\nThe following example shows the PowerShell.exe syntax for installing the ServerManager module and the DHCP, FAX, DNS, and File-Services roles.\n\n``` syntax\n<FirstLogonCommands>\n   <SynchronousCommand wcm:action=\"add\">\n      <Order>1</Order>\n      <CommandLine> Powershell.exe â€“command Import-Module ServerManager; Install-WindowsFeature DHCP,FAX,DNS,File-Services</CommandLine>\n      <Description>Configure Server Role</Description>\n   </SynchronousCommand>\n</FirstLogonCommands>\n```\n\n**Note**  \nNot all server roles support Sysprep. You must configure some server roles after imaging and deployment. For more information, see [Sysprep Support for Server Roles](sysprep-support-for-server-roles.md).\n\n \n\n## <span id=\"related_topics\"></span>Related topics\n\n\n[Windows Deployment Options](windows-deployment-options.md)\n\n \n\n \n\n\n\n\n\n\n"}