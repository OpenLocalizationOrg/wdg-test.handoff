{"nodes":[{"content":"Deploy Windows faster on the factory floor by using the Full Flash Update (FFU) image format.","pos":[35,128]},{"content":"Deploy Windows using Full Flash Update (FFU)","pos":[237,281]},{"content":"Deploy Windows using Full Flash Update (FFU)","pos":[290,334]},{"content":"Deploy Windows faster on the factory floor by using the Full Flash Update (FFU) image format.","pos":[337,430]},{"content":"With FFU images, you can apply a Windows image directly to a drive or an SD card, laying down the entire drive at once, including the partition information.","pos":[432,588]},{"content":"To create and apply images, you can use <bpt id=\"p1\">[</bpt>Windows Imaging and Configuration Designer (ICD)<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/hardware/dn916112.aspx)</ept>.","pos":[590,748]},{"content":"You can also use the Windows 10 version of DISM to apply FFU images, which is included in the Windows 10 version of Windows Preinstallation Environment (WinPE).","pos":[749,909]},{"content":"Once you've created an FFU image, it can't be modified or edited offline.","pos":[911,984]},{"content":"To use Compact OS with an FFU image, you must prepare the original FFU image as a compressed image.","pos":[986,1085]},{"content":"FFU images are often too large to fit on a standard WinPE FAT32-formatted USB flash drive.","pos":[1087,1177]},{"content":"To get around this, you can either use a separate storage drive or network location, or you can split the image into smaller .SFU files.","pos":[1178,1314]},{"pos":[1412,1422],"content":"Using FFUs"},{"content":"To create an FFU image","pos":[1427,1449]},{"content":"On your technician PC, open Windows ICD and create your project.","pos":[1457,1521]},{"content":"Plug in a USB flash drive and note the drive letter (example: D:).","pos":[1526,1592]},{"pos":[1597,1773],"content":"Click <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Production Media<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>FFU<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Enable OS File Compression:<ept id=\"p4\">**</ept> (<bpt id=\"p5\">**</bpt>Yes<ept id=\"p5\">**</ept> or <bpt id=\"p6\">**</bpt>No<ept id=\"p6\">**</ept>)<ph id=\"ph4\">&amp;gt;</ph> name the file, for example, D:<ph id=\"ph5\">\\\\</ph>install.ffu <ph id=\"ph6\">&amp;gt;</ph> <bpt id=\"p7\">**</bpt>Build<ept id=\"p7\">**</ept>."},{"content":"To deploy Windows directly to an SD card or removable drive","pos":[1777,1836]},{"pos":[1844,2069],"content":"From Windows ICD, click <bpt id=\"p1\">**</bpt>Deploy<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> (either <bpt id=\"p2\">**</bpt>To USB connected device<ept id=\"p2\">**</ept> or <bpt id=\"p3\">**</bpt>To removable drive<ept id=\"p3\">**</ept>) <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Browse<ept id=\"p4\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> browse to the FFU image <ph id=\"ph4\">&amp;gt;</ph> <bpt id=\"p5\">**</bpt>Next<ept id=\"p5\">**</ept> <ph id=\"ph5\">&amp;gt;</ph> Select the SD card or device <ph id=\"ph6\">&amp;gt;</ph> <bpt id=\"p6\">**</bpt>Next<ept id=\"p6\">**</ept> <ph id=\"ph7\">&amp;gt;</ph> <bpt id=\"p7\">**</bpt>Flash<ept id=\"p7\">**</ept>."},{"content":"If you're deploying to SD cards, then after the flashing process is finished, insert the SD card into your target device.","pos":[2074,2195]},{"content":"To deploy Windows from WinPE","pos":[2199,2227]},{"content":"Boot your destination device to WinPE.","pos":[2235,2273]},{"content":"Connect a storage drive or a network location and note the drive letter, for example, N.","pos":[2278,2366]},{"content":"Identify the drive to which you'll be applying the image.","pos":[2426,2483]},{"content":"You can use diskpart, or <bpt id=\"p1\">[</bpt>add Windows PowerShell support to WinPE<ept id=\"p1\">](winpe-adding-powershell-support-to-windows-pe.md)</ept> and use <bpt id=\"p2\">[</bpt>Get-Disk<ept id=\"p2\">](https://technet.microsoft.com/library/hh848657.aspx)</ept> for scriptability and more complex setups such as a server with multiple disks.","pos":[2484,2752]},{"content":"Apply the image to a drive.","pos":[2820,2847]},{"content":"For a physical drive <bpt id=\"p1\">*</bpt>X:<ept id=\"p1\">*</ept>, the string should be the following form: \"<ph id=\"ph1\">\\\\\\\\</ph>.<ph id=\"ph2\">\\\\</ph>PhysicalDrive<bpt id=\"p2\">*</bpt>X<ept id=\"p2\">*</ept>\", where <bpt id=\"p3\">*</bpt>X<ept id=\"p3\">*</ept> is the disk number that diskpart provides, such as <ph id=\"ph3\">\\\\\\\\</ph>.<ph id=\"ph4\">\\\\</ph>PhysicalDrive0.","pos":[2848,3026]},{"content":"Hard disk numbers start at zero.","pos":[3027,3059]},{"content":"For more information about PhysicalDrive<bpt id=\"p1\">*</bpt>X<ept id=\"p1\">*</ept>, see <bpt id=\"p2\">[</bpt>CreateFile function<ept id=\"p2\">](https://msdn.microsoft.com/library/windows/desktop/aa363858.aspx)</ept>.","pos":[3060,3197]},{"content":"To use a single drive for both WinPE and an FFU image","pos":[3302,3355]},{"content":"Split the FFU image into smaller files:","pos":[3363,3402]},{"content":"Copy the files to the WinPE USB key.","pos":[3513,3549]},{"content":"Boot your destination device to WinPE.","pos":[3554,3592]},{"content":"Identify the letter of the Windows PE drive, for example, E.","pos":[3597,3657]},{"content":"While in the diskpart menu, identify the drive to which you'll be applying the image, for example, <ph id=\"ph1\">\\\\\\\\</ph>.<ph id=\"ph2\">\\\\</ph>PhysicalDrive0.","pos":[3716,3837]},{"content":"Apply the image to a drive.","pos":[3891,3918]},{"content":"To use a previous version of WinPE","pos":[4052,4086]},{"content":"Plug in a WinPE USB key and note the drive letter, for example, E.","pos":[4094,4160]},{"content":"Add the Windows 10 version of DISM to the WinPE drive.","pos":[4165,4219]},{"content":"To learn more, see <bpt id=\"p1\">[</bpt>Copy DISM to Another Computer<ept id=\"p1\">](copy-dism-to-another-computer.md)</ept>.","pos":[4220,4305]},{"content":"Boot the destination device using the Windows PE USB key.","pos":[4460,4517]},{"content":"Identify the letter of the drive where the FFU is stored, for example, E.","pos":[4522,4595]},{"content":"While in the diskpart menu, identify the drive to which you'll be applying the image, for example, <ph id=\"ph1\">\\\\\\\\</ph>.<ph id=\"ph2\">\\\\</ph>PhysicalDrive0.","pos":[4654,4775]},{"content":"Install the Windows 10 version of DISM.","pos":[4828,4867]},{"content":"Apply the image to a drive.","pos":[4953,4980]},{"pos":[5165,5179],"content":"Related topics"},{"content":"Windows Imaging and Configuration Designer","pos":[5182,5224]},{"content":"FFU image format","pos":[5290,5306]},{"content":"WIM vs. VHD vs. FFU: comparing image file formats","pos":[5341,5390]},{"content":"Planning a Multicast Strategy in Configuration Manager","pos":[5428,5482]},{"content":"Capture and Apply Windows, System, and Recovery Partitions","pos":[5533,5591]},{"content":"DISM Image Management Command-Line Options","pos":[5656,5698]},{"content":"CreateFile function","pos":[5753,5772]}],"content":"---\nauthor: Justinha\nDescription: 'Deploy Windows faster on the factory floor by using the Full Flash Update (FFU) image format.'\nms.assetid: af2b402f-9a5c-4c6a-8852-61039e5bec2a\nMSHAttr: 'PreferredLib:/library/windows/hardware'\ntitle: 'Deploy Windows using Full Flash Update (FFU)'\n---\n\n# Deploy Windows using Full Flash Update (FFU)\n\n\nDeploy Windows faster on the factory floor by using the Full Flash Update (FFU) image format.\n\nWith FFU images, you can apply a Windows image directly to a drive or an SD card, laying down the entire drive at once, including the partition information.\n\nTo create and apply images, you can use [Windows Imaging and Configuration Designer (ICD)](https://msdn.microsoft.com/library/windows/hardware/dn916112.aspx). You can also use the Windows 10 version of DISM to apply FFU images, which is included in the Windows 10 version of Windows Preinstallation Environment (WinPE).\n\nOnce you've created an FFU image, it can't be modified or edited offline.\n\nTo use Compact OS with an FFU image, you must prepare the original FFU image as a compressed image.\n\nFFU images are often too large to fit on a standard WinPE FAT32-formatted USB flash drive. To get around this, you can either use a separate storage drive or network location, or you can split the image into smaller .SFU files.\n\n## <span id=\"Using___FFUs\"></span><span id=\"using___ffus\"></span><span id=\"USING___FFUS\"></span>Using FFUs\n\n\n**To create an FFU image**\n\n1.  On your technician PC, open Windows ICD and create your project.\n2.  Plug in a USB flash drive and note the drive letter (example: D:).\n3.  Click **Create** &gt; **Production Media** &gt; **FFU** &gt; **Enable OS File Compression:** (**Yes** or **No**)&gt; name the file, for example, D:\\\\install.ffu &gt; **Build**.\n\n**To deploy Windows directly to an SD card or removable drive**\n\n1.  From Windows ICD, click **Deploy** &gt; (either **To USB connected device** or **To removable drive**) &gt; **Browse** &gt; browse to the FFU image &gt; **Next** &gt; Select the SD card or device &gt; **Next** &gt; **Flash**.\n2.  If you're deploying to SD cards, then after the flashing process is finished, insert the SD card into your target device.\n\n**To deploy Windows from WinPE**\n\n1.  Boot your destination device to WinPE.\n2.  Connect a storage drive or a network location and note the drive letter, for example, N.\n\n    ``` syntax\n    net use N: \\\\server\\share\n    ```\n\n3.  Identify the drive to which you'll be applying the image. You can use diskpart, or [add Windows PowerShell support to WinPE](winpe-adding-powershell-support-to-windows-pe.md) and use [Get-Disk](https://technet.microsoft.com/library/hh848657.aspx) for scriptability and more complex setups such as a server with multiple disks. \n\n    ``` syntax\n    diskpart \n    list disk\n    exit\n    ```\n\n4.  Apply the image to a drive. For a physical drive *X:*, the string should be the following form: \"\\\\\\\\.\\\\PhysicalDrive*X*\", where *X* is the disk number that diskpart provides, such as \\\\\\\\.\\\\PhysicalDrive0. Hard disk numbers start at zero. For more information about PhysicalDrive*X*, see [CreateFile function](https://msdn.microsoft.com/library/windows/desktop/aa363858.aspx).\n\n    ``` syntax\n    DISM /Apply-Image /ImageFile:N:\\flash.ffu /ApplyDrive:\\\\.\\PhysicalDrive0\n    ```\n\n**To use a single drive for both WinPE and an FFU image**\n\n1.  Split the FFU image into smaller files:\n\n    ``` syntax\n    DISM.exe /Split-Image /ImageFile:flash.ffu /SFUFile:flash.sfu /FileSize:3500\n    ```\n\n2.  Copy the files to the WinPE USB key.\n3.  Boot your destination device to WinPE.\n4.  Identify the letter of the Windows PE drive, for example, E.\n\n    ``` syntax\n    diskpart\n    list volume\n    ```\n\n5.  While in the diskpart menu, identify the drive to which you'll be applying the image, for example, \\\\\\\\.\\\\PhysicalDrive0.\n\n    ``` syntax \n    list disk\n    exit\n    ```\n\n6.  Apply the image to a drive.\n\n    ``` syntax\n    DISM.exe /Apply-Image /ImageFile:E:\\flash.sfu /SFUFile:flash*.sfu\n     /ApplyDrive:\\\\.\\PhysicalDrive0\n    ```\n\n**To use a previous version of WinPE**\n\n1.  Plug in a WinPE USB key and note the drive letter, for example, E.\n2.  Add the Windows 10 version of DISM to the WinPE drive. To learn more, see [Copy DISM to Another Computer](copy-dism-to-another-computer.md).\n\n    ``` syntax\n    copy \"C:\\Program Files (x86)\\Windows Kits\\10\\Assessment and Deployment Kit\\Deployment Tools\\amd64\\DISM\" E:\\DISM_Win10 /s\n    ```\n\n3.  Boot the destination device using the Windows PE USB key.\n4.  Identify the letter of the drive where the FFU is stored, for example, E.\n\n    ``` syntax\n    diskpart\n    list volume\n    ```\n\n5.  While in the diskpart menu, identify the drive to which you'll be applying the image, for example, \\\\\\\\.\\\\PhysicalDrive0.\n\n    ``` syntax\n    list disk\n    exit\n    ```\n\n6.  Install the Windows 10 version of DISM.\n\n    ``` syntax\n    E:\\DISM_Win10\\WimMountAdkSetupAmd64.exe /Install /q\n    ```\n\n7.  Apply the image to a drive.\n\n    ``` syntax\n    E:\\DISM_Win10\\DISM.exe /Apply-Image /ImageFile:E:\\flash.sfu /SFUFile:E:\\flash*.sfu\n     /ApplyDrive:\\\\.\\PhysicalDrive0\n    ```\n\n## <span id=\"related_topics\"></span>Related topics\n\n[Windows Imaging and Configuration Designer](https://msdn.microsoft.com/library/windows/hardware/dn916113)\n\n[FFU image format](../mobile/ffu-image-format.md)\n\n[WIM vs. VHD vs. FFU: comparing image file formats](wim-vs-ffu-image-file-formats.md)\n\n[Planning a Multicast Strategy in Configuration Manager](http://go.microsoft.com/fwlink/?LinkId=286313)\n\n[Capture and Apply Windows, System, and Recovery Partitions](capture-and-apply-windows-system-and-recovery-partitions.md)\n\n[DISM Image Management Command-Line Options](dism-image-management-command-line-options-s14.md)\n\n[CreateFile function](https://msdn.microsoft.com/library/windows/desktop/aa363858.aspx)\n\n \n\n\n\n\n"}