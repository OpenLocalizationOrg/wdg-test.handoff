{"nodes":[{"content":"Evaluating Spinlock Data","pos":[11,35]},{"content":"Evaluating Spinlock Data","pos":[49,73]},{"content":"Evaluating Spinlock Data","pos":[262,286]},{"content":"The spinlock report presents the following information about spinlocks:","pos":[289,360]},{"content":"Acquire sample rate.","pos":[366,386]},{"content":"Contention sample rate.","pos":[392,415]},{"content":"Spin threshold.","pos":[421,436]},{"content":"Number of CPUs.","pos":[442,457]},{"content":"CPU speed, in megahertz.","pos":[463,487]},{"content":"Trace length, in nanoseconds.","pos":[493,522]},{"content":"Trace length, in cycles.","pos":[528,552]},{"content":"The next sections of the report show the spinlock usage during the profile time period.","pos":[554,641]},{"content":"Each spin lock is shown separately.","pos":[642,677]},{"content":"Spin locks are sorted with the \"hottest\" spin locks shown first.","pos":[678,742]},{"content":"Often it is possible to identify the spinlock bottleneck by looking at the top few spin locks.","pos":[743,837]},{"content":"The following information is presented for each spin lock:","pos":[839,897]},{"content":"Type of lock.","pos":[903,916]},{"content":"Kernel address of lock.","pos":[922,945]},{"content":"Symbol of the lock.","pos":[951,970]},{"content":"Spinlocks created dynamically do not have symbols.","pos":[971,1021]},{"content":"A summary report follows with the follow information:","pos":[1023,1076]},{"content":"Percentage of CPU time spent on lock acquisition.","pos":[1082,1131]},{"content":"Percentage of CPU time spent on lock contention.","pos":[1137,1185]},{"content":"Lock acquisition rate.","pos":[1191,1213]},{"content":"Collision rate.","pos":[1219,1234]},{"content":"Spin rate.","pos":[1240,1250]},{"content":"Contention rate, both sampled and normalized.","pos":[1256,1301]},{"content":"The final two sections of the report are the events skipped due to interrupts and the release function.","pos":[1303,1406]},{"content":"Interrupts can occur while spin locks are held.","pos":[1408,1455]},{"content":"When this occurs, the interrupt handling time is included in the spinlock holding time, and the spinlock holding time appears inordinately long.","pos":[1456,1600]},{"content":"Xperf does not include spinlock events that are held while an interrupt is handled when calculating spinlock holding times.","pos":[1601,1724]},{"content":"The “Events skipped due to interrupts” line displays the number of events that were not included in the calculation.","pos":[1725,1841]},{"content":"This number is normally very small.","pos":[1842,1877]},{"content":"A spin lock can be acquired or released from different code paths.","pos":[1879,1945]},{"content":"A list of release functions of the spin lock is displayed at the end of the report.","pos":[1946,2029]},{"content":"The list is sorted by spinlock holding time.","pos":[2030,2074]},{"content":"Additional information about a particular release function, such as acquisition or contention, is also presented.","pos":[2075,2188]},{"content":"Example","pos":[2193,2200]},{"content":"The following example shows how to obtain a summary of spinlock data.","pos":[2203,2272]},{"content":"The following example shows how to limit the number of records returned to the five most active spin locks.","pos":[2356,2463]},{"content":"Related topics","pos":[2560,2574]},{"content":"spinlock","pos":[2578,2586]}],"content":"---\ntitle: Evaluating Spinlock Data\ndescription: Evaluating Spinlock Data\nMSHAttr:\n- 'PreferredSiteName:MSDN'\n- 'PreferredLib:/library/windows/hardware'\nms.assetid: 9e5e4ffa-5fb7-401e-bfc3-760cbb7955d9\nms.prod: W10\nms.mktglfcycl: operate\nms.sitesec: msdn\n---\n\n# Evaluating Spinlock Data\n\n\nThe spinlock report presents the following information about spinlocks:\n\n-   Acquire sample rate.\n\n-   Contention sample rate.\n\n-   Spin threshold.\n\n-   Number of CPUs.\n\n-   CPU speed, in megahertz.\n\n-   Trace length, in nanoseconds.\n\n-   Trace length, in cycles.\n\nThe next sections of the report show the spinlock usage during the profile time period. Each spin lock is shown separately. Spin locks are sorted with the \"hottest\" spin locks shown first. Often it is possible to identify the spinlock bottleneck by looking at the top few spin locks.\n\nThe following information is presented for each spin lock:\n\n-   Type of lock.\n\n-   Kernel address of lock.\n\n-   Symbol of the lock. Spinlocks created dynamically do not have symbols.\n\nA summary report follows with the follow information:\n\n-   Percentage of CPU time spent on lock acquisition.\n\n-   Percentage of CPU time spent on lock contention.\n\n-   Lock acquisition rate.\n\n-   Collision rate.\n\n-   Spin rate.\n\n-   Contention rate, both sampled and normalized.\n\nThe final two sections of the report are the events skipped due to interrupts and the release function.\n\nInterrupts can occur while spin locks are held. When this occurs, the interrupt handling time is included in the spinlock holding time, and the spinlock holding time appears inordinately long. Xperf does not include spinlock events that are held while an interrupt is handled when calculating spinlock holding times. The “Events skipped due to interrupts” line displays the number of events that were not included in the calculation. This number is normally very small.\n\nA spin lock can be acquired or released from different code paths. A list of release functions of the spin lock is displayed at the end of the report. The list is sorted by spinlock holding time. Additional information about a particular release function, such as acquisition or contention, is also presented.\n\n## Example\n\n\nThe following example shows how to obtain a summary of spinlock data.\n\n``` syntax\nxperf -i example.etl -symbols -o example.txt -a spinlock -summary\n```\n\nThe following example shows how to limit the number of records returned to the five most active spin locks.\n\n``` syntax\nxperf -i example.etl -symbols -o example.txt -a spinlock -summary -counts 5\n```\n\n## Related topics\n\n\n[spinlock](spinlock.md)\n\n \n\n \n\n\n\n\n\n\n\n"}