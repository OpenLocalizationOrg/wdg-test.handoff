{"nodes":[{"content":"CreateMergedTraceFile","pos":[11,32]},{"content":"CreateMergedTraceFile","pos":[46,67]},{"content":"CreateMergedTraceFile","pos":[256,277]},{"content":"This function merges multiple trace files into a single output file.","pos":[280,348]},{"content":"Parameters","pos":[533,543]},{"content":"<bpt id=\"p1\">*</bpt>wszMergedFileName<ept id=\"p1\">*</ept> <ph id=\"ph1\">\\[</ph>in","pos":[589,613]},{"content":"Specifies the name of the output trace file.","pos":[618,662]},{"content":"<bpt id=\"p1\">*</bpt>wszTraceFileNames<ept id=\"p1\">*</ept> <ph id=\"ph1\">\\[</ph>in","pos":[707,731]},{"content":"Pointer to an array of trace files to be merged.","pos":[736,784]},{"content":"<bpt id=\"p1\">*</bpt>cTraceFileNames<ept id=\"p1\">*</ept> <ph id=\"ph1\">\\[</ph>in","pos":[827,849]},{"content":"Count of the elements in the <bpt id=\"p1\">*</bpt>wszTraceFileNames<ept id=\"p1\">*</ept> array.","pos":[854,909]},{"content":"<bpt id=\"p1\">*</bpt>dwExtendedDataFlags<ept id=\"p1\">*</ept> <ph id=\"ph1\">\\[</ph>in","pos":[956,982]},{"content":"These flags specify the system information to be injected into the merged trace file.","pos":[987,1072]},{"content":"For more information about valid flags, see <bpt id=\"p1\">[</bpt>Custom Injection of System Information<ept id=\"p1\">](custom-injection-of-system-information.md)</ept>.","pos":[1073,1201]},{"content":"Return Value","pos":[1206,1218]},{"content":"ERROR<ph id=\"ph1\">\\_</ph>SUCCESS indicates success.","pos":[1221,1254]},{"content":"Possible error values are described in the following table.","pos":[1256,1315]},{"content":"Error Value","pos":[1420,1431]},{"content":"Description","pos":[1441,1452]},{"content":"ERROR_INSUFFICIENT_BUFFER","pos":[1505,1530]},{"content":"Possibly indicates that the merged trace does not contain a complete set of events from each file.","pos":[1547,1645]},{"content":"ERROR_REVISION_MISMATCH","pos":[1686,1709]},{"content":"Possibly indicates that the trace files being merged contain events with different versions that could not be merged.","pos":[1726,1843]},{"content":"If neither of these error values is returned, a system error code is returned.","pos":[1881,1959]},{"content":"Remarks","pos":[1964,1971]},{"content":"You can merge two or more trace files from simultaneous sessions that were captured on the same computer into a single trace file.","pos":[1974,2104]},{"content":"You can also merge trace files from other tracing sessions if those files have the same boot times.","pos":[2105,2204]},{"content":"Optionally, the merge operation adds metadata concerning the traces.","pos":[2205,2273]},{"content":"This function can inject extended data into a single trace file.","pos":[2275,2339]},{"content":"In this case the <bpt id=\"p1\">*</bpt>wszMergedFileName<ept id=\"p1\">*</ept> array contains only a single element, which is the name of the trace file.","pos":[2340,2451]},{"content":"Note","pos":[2455,2459]},{"content":"An unmerged kernel trace cannot decode symbols correctly.","pos":[2464,2521]},{"content":"The API is implemented in Unicode only.","pos":[2526,2565]},{"content":"Requirements","pos":[2569,2581]},{"content":"<bpt id=\"p1\">**</bpt>Versions:<ept id=\"p1\">**</ept> Available beginning in Windows Vista.","pos":[2585,2636]},{"content":"This structure is distributed with Windows Performance Analyzer.","pos":[2637,2701]},{"content":"<bpt id=\"p1\">**</bpt>Headers:<ept id=\"p1\">**</ept> Declared in KernelTraceControl.h.","pos":[2703,2749]},{"content":"Include KernelTraceControl.h.","pos":[2750,2779]},{"pos":[2781,2830],"content":"<bpt id=\"p1\">**</bpt>Library:<ept id=\"p1\">**</ept> Contained in KernelTraceControl.dll."},{"content":"Related topics","pos":[2835,2849]},{"content":"Functions","pos":[2853,2862]},{"content":"Custom Injection of System Information","pos":[2884,2922]}],"content":"---\ntitle: CreateMergedTraceFile\ndescription: CreateMergedTraceFile\nMSHAttr:\n- 'PreferredSiteName:MSDN'\n- 'PreferredLib:/library/windows/hardware'\nms.assetid: d641530d-2be1-4266-962b-97863cff2e57\nms.prod: W10\nms.mktglfcycl: operate\nms.sitesec: msdn\n---\n\n# CreateMergedTraceFile\n\n\nThis function merges multiple trace files into a single output file.\n\n``` syntax\nULONG\nWINAPI\nCreateMergedTraceFile(\n__in LPCWSTR wszMergedFileName,\n__in LPCWSTR wszTraceFileNames[],\n__in ULONG cTraceFileNames,\n__in DWORD dwExtendedDataFlags\n);\n```\n\n## Parameters\n\n\n<a href=\"\" id=\"wszmergedfilename--in-\"></a>*wszMergedFileName* \\[in\\]  \nSpecifies the name of the output trace file.\n\n<a href=\"\" id=\"wsztracefilenames--in-\"></a>*wszTraceFileNames* \\[in\\]  \nPointer to an array of trace files to be merged.\n\n<a href=\"\" id=\"ctracefilenames--in-\"></a>*cTraceFileNames* \\[in\\]  \nCount of the elements in the *wszTraceFileNames* array.\n\n<a href=\"\" id=\"dwextendeddataflags--in-\"></a>*dwExtendedDataFlags* \\[in\\]  \nThese flags specify the system information to be injected into the merged trace file. For more information about valid flags, see [Custom Injection of System Information](custom-injection-of-system-information.md).\n\n## Return Value\n\n\nERROR\\_SUCCESS indicates success.\n\nPossible error values are described in the following table.\n\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th>Error Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td><p>ERROR_INSUFFICIENT_BUFFER</p></td>\n<td><p>Possibly indicates that the merged trace does not contain a complete set of events from each file.</p></td>\n</tr>\n<tr class=\"even\">\n<td><p>ERROR_REVISION_MISMATCH</p></td>\n<td><p>Possibly indicates that the trace files being merged contain events with different versions that could not be merged.</p></td>\n</tr>\n</tbody>\n</table>\n\n \n\nIf neither of these error values is returned, a system error code is returned.\n\n## Remarks\n\n\nYou can merge two or more trace files from simultaneous sessions that were captured on the same computer into a single trace file. You can also merge trace files from other tracing sessions if those files have the same boot times. Optionally, the merge operation adds metadata concerning the traces.\n\nThis function can inject extended data into a single trace file. In this case the *wszMergedFileName* array contains only a single element, which is the name of the trace file.\n\n**Note**  \nAn unmerged kernel trace cannot decode symbols correctly.\n\n \n\nThe API is implemented in Unicode only.\n\n**Requirements**\n\n**Versions:** Available beginning in Windows Vista. This structure is distributed with Windows Performance Analyzer.\n\n**Headers:** Declared in KernelTraceControl.h. Include KernelTraceControl.h.\n\n**Library:** Contained in KernelTraceControl.dll.\n\n## Related topics\n\n\n[Functions](functions-wpa.md)\n\n[Custom Injection of System Information](custom-injection-of-system-information.md)\n\n \n\n \n\n\n\n\n\n\n\n"}