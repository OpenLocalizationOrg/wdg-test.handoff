{"nodes":[{"content":"Avoid Lost Events","pos":[11,28]},{"content":"Avoid Lost Events","pos":[42,59]},{"content":"Avoid Lost Events","pos":[248,265]},{"content":"In Windows Performance Recorder (WPR), some applications generate so many events that Event Tracing for Windows (ETW) cannot keep up with the logging frequency.","pos":[268,428]},{"content":"This problem manifests as lost events in the recordings.","pos":[429,485]},{"content":"The problem can lead to analysis difficulties or erroneous conclusions because of incomplete data.","pos":[486,584]},{"content":"Note","pos":[588,592]},{"content":"By default, WPR uses paged memory for buffers.","pos":[597,643]},{"content":"To set WPR to use non-paged memory for buffers, set the <bpt id=\"p1\">*</bpt>NonPagedMemory<ept id=\"p1\">*</ept> attribute to <bpt id=\"p2\">*</bpt>true<ept id=\"p2\">*</ept> for the provider.","pos":[644,754]},{"content":"For more information about how to create a custom profile, see <bpt id=\"p1\">[</bpt>Authoring Recording Profiles<ept id=\"p1\">](authoring-recording-profiles.md)</ept> and <bpt id=\"p2\">[</bpt>2. System and Event Provider Definitions<ept id=\"p2\">](2-system-and-event-provider-definitions.md)</ept>.","pos":[755,973]},{"content":"You can help prevent WPR from losing ETW buffers or events in the following ways:","pos":[978,1059]},{"content":"Use larger buffers to enable more efficient disk I/O when WPR writes the buffers to disk.","pos":[1065,1154]},{"content":"Count requests for the data collection the first time that you use a particular buffer configuration on a computer.","pos":[1160,1275]},{"pos":[1281,1377],"content":"Use the command-line <bpt id=\"p1\">**</bpt>recordTempTo<ept id=\"p1\">**</ept> option to record to a different location than the default."},{"content":"Increase the number of buffers.","pos":[1383,1414]},{"content":"Simplify the scenario that you are testing, or select fewer profiles.","pos":[1420,1489]},{"content":"Free disk space on the system drive.","pos":[1495,1531]},{"content":"Use advanced hardware to collect the data; for example, use a disk subsystem that has higher throughput.","pos":[1537,1641]},{"content":"This is the last option to consider.","pos":[1642,1678]},{"content":"You can usually avoid losing events by carefully selecting the providers to enable and the buffers to use.","pos":[1679,1785]},{"content":"Related topics","pos":[1790,1804]},{"content":"WPR Common Scenarios","pos":[1808,1828]},{"content":"Recording Profiles","pos":[1882,1900]},{"content":"Logging Mode","pos":[1927,1939]},{"content":"Change the Logging Mode","pos":[1960,1983]},{"content":"Detail Level","pos":[2015,2027]},{"content":"Change the Detail Level","pos":[2048,2071]},{"content":"Sessions","pos":[2103,2111]},{"content":"Sessions (Windows Drivers)","pos":[2128,2154]}],"content":"---\ntitle: Avoid Lost Events\ndescription: Avoid Lost Events\nMSHAttr:\n- 'PreferredSiteName:MSDN'\n- 'PreferredLib:/library/windows/hardware'\nms.assetid: 7512de7a-de82-43e5-b100-d82faf59a7cb\nms.prod: W10\nms.mktglfcycl: operate\nms.sitesec: msdn\n---\n\n# Avoid Lost Events\n\n\nIn Windows Performance Recorder (WPR), some applications generate so many events that Event Tracing for Windows (ETW) cannot keep up with the logging frequency. This problem manifests as lost events in the recordings. The problem can lead to analysis difficulties or erroneous conclusions because of incomplete data.\n\n**Note**  \nBy default, WPR uses paged memory for buffers. To set WPR to use non-paged memory for buffers, set the *NonPagedMemory* attribute to *true* for the provider. For more information about how to create a custom profile, see [Authoring Recording Profiles](authoring-recording-profiles.md) and [2. System and Event Provider Definitions](2-system-and-event-provider-definitions.md).\n\n \n\nYou can help prevent WPR from losing ETW buffers or events in the following ways:\n\n-   Use larger buffers to enable more efficient disk I/O when WPR writes the buffers to disk.\n\n-   Count requests for the data collection the first time that you use a particular buffer configuration on a computer.\n\n-   Use the command-line **recordTempTo** option to record to a different location than the default.\n\n-   Increase the number of buffers.\n\n-   Simplify the scenario that you are testing, or select fewer profiles.\n\n-   Free disk space on the system drive.\n\n-   Use advanced hardware to collect the data; for example, use a disk subsystem that has higher throughput. This is the last option to consider. You can usually avoid losing events by carefully selecting the providers to enable and the buffers to use.\n\n## Related topics\n\n\n[WPR Common Scenarios](windows-performance-recorder-common-scenarios.md)\n\n[Recording Profiles](recording-profiles.md)\n\n[Logging Mode](logging-mode.md)\n\n[Change the Logging Mode](change-the-logging-mode.md)\n\n[Detail Level](detail-level.md)\n\n[Change the Detail Level](change-the-detail-level.md)\n\n[Sessions](sessions.md)\n\n[Sessions (Windows Drivers)](http://go.microsoft.com/fwlink/p/?linkid=246706)\n\n \n\n \n\n\n\n\n\n\n\n"}