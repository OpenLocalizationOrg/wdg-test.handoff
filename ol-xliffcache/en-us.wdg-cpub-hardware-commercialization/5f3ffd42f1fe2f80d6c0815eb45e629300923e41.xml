{"nodes":[{"content":"Authoring Recording Profiles","pos":[11,39]},{"content":"Authoring Recording Profiles","pos":[53,81]},{"content":"Authoring Recording Profiles","pos":[270,298]},{"content":"You can author Windows Performance Recorder (WPR) recording profiles in an XML file that has a .wprp extension.","pos":[301,412]},{"content":"Recording profiles contain all the necessary information to enable performance recording for a specific scenario.","pos":[413,526]},{"content":"This data includes information about Event Tracing for Windows (ETW) sessions, providers, and keywords.","pos":[527,630]},{"content":"Each .wprp file contains at least one profile definition, which consolidates a specific set of ETW sessions and providers.","pos":[631,753]},{"content":"A profile definition also includes the session and provider attributes that start and control performance recording.","pos":[754,870]},{"content":"WPR profiles support the following ETW features:","pos":[872,920]},{"content":"Sequential file and circular memory logging modes.","pos":[926,976]},{"content":"User-specified number of buffers and buffer sizes for each session.","pos":[982,1049]},{"content":"ETW system logger sessions together with the NT Kernel Logger.","pos":[1055,1117]},{"content":"This merger includes the ability to specify keywords, stacks, and memory pool tags.","pos":[1118,1201]},{"content":"Event sessions that specify a provider name or GUID, keywords, stack, detail level, and non-paged memory.","pos":[1207,1312]},{"content":"Capturing state providers that capture state during start or save operations only.","pos":[1318,1400]},{"content":"The .wprp file must contain specific definitions that are listed in a specific order.","pos":[1402,1487]},{"content":"The following topics describe how to author the definitions in that order.","pos":[1488,1562]},{"content":"Authoring .wprp files in Visual Studio","pos":[1567,1605]},{"content":"You can use Visual Studio to author a recording profile by using the WPR schema file, WPRControlProfiles.xsd, that is available in the WPT install folder:","pos":[1608,1762]},{"content":"Open your .wprp file in Visual Studio.","pos":[1768,1806]},{"pos":[1812,1874],"content":"In the main menu, choose <bpt id=\"p1\">**</bpt>XML<ept id=\"p1\">**</ept>, and then choose <bpt id=\"p2\">**</bpt>Schemas…<ept id=\"p2\">**</ept>"},{"pos":[1880,1939],"content":"In the <bpt id=\"p1\">**</bpt>XML Schemas<ept id=\"p1\">**</ept> dialog that appears, choose <bpt id=\"p2\">**</bpt>Add…<ept id=\"p2\">**</ept>"},{"content":"Choose the WPRControlProfiles.xsd schema.","pos":[1945,1986]},{"content":"By default, this file is in the WPT install directory:","pos":[1987,2041]},{"content":"Once you have selected the schema, you can use context-sensitive IntelliSense to author your .wprp file.","pos":[2122,2226]},{"content":"In This Section","pos":[2231,2246]},{"content":"1. Collector Definitions","pos":[2353,2377]},{"content":"How to define collectors for a profile.","pos":[2423,2462]},{"content":"2. System and Event Provider Definitions","pos":[2504,2544]},{"content":"How to define providers for a profile.","pos":[2606,2644]},{"content":"3. Profile Definitions","pos":[2685,2707]},{"content":"How to define a profile.","pos":[2751,2775]},{"content":"Strict Providers","pos":[2817,2833]},{"content":"How to use the <ph id=\"ph1\">&lt;strong&gt;</ph>Strict<ph id=\"ph2\">&lt;/strong&gt;</ph> attribute.","pos":[2872,2921]},{"content":"Inheritance","pos":[2962,2973]},{"content":"Describes inheritance in authoring recording profiles.","pos":[3007,3061]},{"content":"Related topics","pos":[3102,3116]},{"content":"Recording Profiles","pos":[3120,3138]},{"content":"Author a Custom Recording Profile","pos":[3165,3198]},{"content":"Add or Remove a Custom Recording Profile","pos":[3240,3280]}],"content":"---\ntitle: Authoring Recording Profiles\ndescription: Authoring Recording Profiles\nMSHAttr:\n- 'PreferredSiteName:MSDN'\n- 'PreferredLib:/library/windows/hardware'\nms.assetid: 1eea16bd-f96d-4d17-a857-f93c0d0717b7\nms.prod: W10\nms.mktglfcycl: operate\nms.sitesec: msdn\n---\n\n# Authoring Recording Profiles\n\n\nYou can author Windows Performance Recorder (WPR) recording profiles in an XML file that has a .wprp extension. Recording profiles contain all the necessary information to enable performance recording for a specific scenario. This data includes information about Event Tracing for Windows (ETW) sessions, providers, and keywords. Each .wprp file contains at least one profile definition, which consolidates a specific set of ETW sessions and providers. A profile definition also includes the session and provider attributes that start and control performance recording.\n\nWPR profiles support the following ETW features:\n\n-   Sequential file and circular memory logging modes.\n\n-   User-specified number of buffers and buffer sizes for each session.\n\n-   ETW system logger sessions together with the NT Kernel Logger. This merger includes the ability to specify keywords, stacks, and memory pool tags.\n\n-   Event sessions that specify a provider name or GUID, keywords, stack, detail level, and non-paged memory.\n\n-   Capturing state providers that capture state during start or save operations only.\n\nThe .wprp file must contain specific definitions that are listed in a specific order. The following topics describe how to author the definitions in that order.\n\n## Authoring .wprp files in Visual Studio\n\n\nYou can use Visual Studio to author a recording profile by using the WPR schema file, WPRControlProfiles.xsd, that is available in the WPT install folder:\n\n1.  Open your .wprp file in Visual Studio.\n\n2.  In the main menu, choose **XML**, and then choose **Schemas…**\n\n3.  In the **XML Schemas** dialog that appears, choose **Add…**\n\n4.  Choose the WPRControlProfiles.xsd schema. By default, this file is in the WPT install directory:\n\n    -   `C:\\Program Files (x86)\\Windows Kits\\8.1\\Windows Performance Toolkit`\n\nOnce you have selected the schema, you can use context-sensitive IntelliSense to author your .wprp file.\n\n## In This Section\n\n\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<tbody>\n<tr class=\"odd\">\n<td><p>[1. Collector Definitions](1-collector-definitions.md)</p></td>\n<td><p>How to define collectors for a profile.</p></td>\n</tr>\n<tr class=\"even\">\n<td><p>[2. System and Event Provider Definitions](2-system-and-event-provider-definitions.md)</p></td>\n<td><p>How to define providers for a profile.</p></td>\n</tr>\n<tr class=\"odd\">\n<td><p>[3. Profile Definitions](3-profile-definitions.md)</p></td>\n<td><p>How to define a profile.</p></td>\n</tr>\n<tr class=\"even\">\n<td><p>[Strict Providers](strict-providers.md)</p></td>\n<td><p>How to use the <strong>Strict</strong> attribute.</p></td>\n</tr>\n<tr class=\"odd\">\n<td><p>[Inheritance](inheritance.md)</p></td>\n<td><p>Describes inheritance in authoring recording profiles.</p></td>\n</tr>\n</tbody>\n</table>\n\n \n\n## Related topics\n\n\n[Recording Profiles](recording-profiles.md)\n\n[Author a Custom Recording Profile](author-a-custom-recording-profile.md)\n\n[Add or Remove a Custom Recording Profile](add-or-remove-a-custom-recording-profile.md)\n\n \n\n \n\n\n\n\n\n\n\n"}